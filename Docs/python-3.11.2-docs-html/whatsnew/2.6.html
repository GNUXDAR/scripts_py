
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="Qué hay de nuevo en Python 2.6" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/whatsnew/2.6.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Autor, A.M. Kuchling (amk arroba amk.ca),. Este artículo explica las nuevas funciones de Python 2.6, publicadas el 1 de octubre de 2008. El programa de publicación se describe en PEP 361. El tema p..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Autor, A.M. Kuchling (amk arroba amk.ca),. Este artículo explica las nuevas funciones de Python 2.6, publicadas el 1 de octubre de 2008. El programa de publicación se describe en PEP 361. El tema p..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>Qué hay de nuevo en Python 2.6 &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Qué hay de nuevo en Python 2.5" href="2.5.html" />
    <link rel="prev" title="Qué hay de nuevo en Python 2.7" href="2.7.html" />
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/2.6.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 2.6</a><ul>
<li><a class="reference internal" href="#python-3-0">Python 3.0</a></li>
<li><a class="reference internal" href="#changes-to-the-development-process">Cambios en el proceso de desarrollo</a><ul>
<li><a class="reference internal" href="#new-issue-tracker-roundup">Nuevo seguidor de incidentes: Roundup</a></li>
<li><a class="reference internal" href="#new-documentation-format-restructuredtext-using-sphinx">Nuevo formato de documentación: texto reestructurado con Sphinx</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-343-the-with-statement">PEP 343: La sentencia <em>“with”</em></a><ul>
<li><a class="reference internal" href="#writing-context-managers">Escribiendo gestores de contexto</a></li>
<li><a class="reference internal" href="#the-contextlib-module">El módulo contextlib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-366-explicit-relative-imports-from-a-main-module">PEP 366: Importaciones relativas explícitas desde un módulo principal</a></li>
<li><a class="reference internal" href="#pep-370-per-user-site-packages-directory">PEP 370: Directorio de <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> por usuario</a></li>
<li><a class="reference internal" href="#pep-371-the-multiprocessing-package">PEP 371: El paquete <code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code></a></li>
<li><a class="reference internal" href="#pep-3101-advanced-string-formatting">PEP 3101: Formateo avanzado de cadena de caracteres</a></li>
<li><a class="reference internal" href="#pep-3105-print-as-a-function">PEP 3105: <code class="docutils literal notranslate"><span class="pre">print</span></code> como función</a></li>
<li><a class="reference internal" href="#pep-3110-exception-handling-changes">PEP 3110: Cambios en el manejo de excepciones</a></li>
<li><a class="reference internal" href="#pep-3112-byte-literals">PEP 3112: Literales de bytes</a></li>
<li><a class="reference internal" href="#pep-3116-new-i-o-library">PEP 3116: Nueva biblioteca de E/S</a></li>
<li><a class="reference internal" href="#pep-3118-revised-buffer-protocol">PEP 3118: Protocolo revisado de la memoria intermedia</a></li>
<li><a class="reference internal" href="#pep-3119-abstract-base-classes">PEP 3119: Clases base abstractas</a></li>
<li><a class="reference internal" href="#pep-3127-integer-literal-support-and-syntax">PEP 3127: Soporte y sintaxis de literales enteros</a></li>
<li><a class="reference internal" href="#pep-3129-class-decorators">PEP 3129: Decoradores de clase</a></li>
<li><a class="reference internal" href="#pep-3141-a-type-hierarchy-for-numbers">PEP 3141: Una jerarquía de tipos para los números</a><ul>
<li><a class="reference internal" href="#the-fractions-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios lingüísticos</a><ul>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#interpreter-changes">Cambios de intérprete</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-and-improved-modules">Módulos nuevos y mejorados</a><ul>
<li><a class="reference internal" href="#the-ast-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a></li>
<li><a class="reference internal" href="#the-future-builtins-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code></a></li>
<li><a class="reference internal" href="#the-json-module-javascript-object-notation">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code>: Notación de objetos de JavaScript</a></li>
<li><a class="reference internal" href="#the-plistlib-module-a-property-list-parser">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code>: Un analizador de listas de propiedades</a></li>
<li><a class="reference internal" href="#ctypes-enhancements">mejoras en ctypes</a></li>
<li><a class="reference internal" href="#improved-ssl-support">Mejora de la compatibilidad con SSL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecations-and-removals">Cancelaciones y eliminaciones</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la API de construcción y C</a><ul>
<li><a class="reference internal" href="#port-specific-changes-windows">Cambios específicos en los puertos: Windows</a></li>
<li><a class="reference internal" href="#port-specific-changes-mac-os-x">Cambios específicos en los puertos: Mac OS X</a></li>
<li><a class="reference internal" href="#port-specific-changes-irix">Cambios específicos en los puertos: IRIX</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-2-6">Adaptación a Python 2.6</a></li>
<li><a class="reference internal" href="#acknowledgements">Agradecimientos</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="2.7.html"
                          title="capítulo anterior">Qué hay de nuevo en Python 2.7</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="2.5.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 2.5</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/whatsnew/2.6.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="2.5.html" title="Qué hay de nuevo en Python 2.5"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="2.7.html" title="Qué hay de nuevo en Python 2.7"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 2.6</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-2-6">
<span id="whats-new-in-2-6"></span><h1>Qué hay de nuevo en Python 2.6<a class="headerlink" href="#what-s-new-in-python-2-6" title="Enlazar permanentemente con este título">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Autor</dt>
<dd class="field-odd"><p>A.M. Kuchling (amk arroba amk.ca)</p>
</dd>
</dl>
<p>Este artículo explica las nuevas funciones de Python 2.6, publicadas el 1 de octubre de 2008. El programa de publicación se describe en <span class="target" id="index-50"></span><a class="pep reference external" href="https://peps.python.org/pep-0361/"><strong>PEP 361</strong></a>.</p>
<p>El tema principal de Python 2.6 es preparar el camino de migración a Python 3.0, un importante rediseño del lenguaje. Siempre que sea posible, Python 2.6 incorpora nuevas características y sintaxis de 3.0 mientras sigue siendo compatible con el código existente al no eliminar características o sintaxis más antiguas. Cuando no es posible hacer eso, Python 2.6 intenta hacer lo que puede, agregando funciones de compatibilidad en el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code> y un interruptor <code class="xref std std-option docutils literal notranslate"><span class="pre">-3</span></code> para advertir sobre usos que dejarán de ser compatibles en 3.0 .</p>
<p>Se han agregado algunos paquetes nuevos importantes a la biblioteca estándar, como los módulos <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> y <a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a>, pero no hay muchas características nuevas que no estén relacionadas con Python 3.0 de alguna manera.</p>
<p>Python 2.6 también incluye una serie de mejoras y correcciones de errores en el código fuente. Una búsqueda en los registros de cambios encuentra que se aplicaron 259 parches y se corrigieron 612 errores entre Python 2.5 y 2.6. Es probable que ambas cifras estén subestimadas.</p>
<p>Este artículo no intenta proporcionar una especificación completa de las nuevas características, sino que proporciona una conveniente descripción general. Para obtener detalles completos, debe consultar la documentación de Python 2.6. Si desea comprender la justificación del diseño y la implementación, consulte el PEP de una característica nueva en particular. Siempre que sea posible, «Qué hay de nuevo en Python» enlaza con el elemento de error / parche para cada cambio.</p>
<section id="python-3-0">
<h2>Python 3.0<a class="headerlink" href="#python-3-0" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El ciclo de desarrollo de las versiones 2.6 y 3.0 de Python se sincronizó, y las versiones alfa y beta de ambos lanzamientos se realizaron los mismos días. El desarrollo de 3.0 ha influido en muchas características de 2.6.</p>
<p>Python 3.0 es un rediseño de Python de gran alcance que rompe la compatibilidad con la serie 2.x. Esto significa que el código Python existente necesitará alguna conversión para poder ejecutarse en Python 3.0. Sin embargo, no todos los cambios en 3.0 rompen necesariamente la compatibilidad. En los casos en que las nuevas funciones no provoquen la rotura del código existente, se han actualizado a 2.6 y se describen en este documento en el lugar correspondiente. Algunas de las características derivadas de 3.0 son:</p>
<ul class="simple">
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__complex__()</span></code> para convertir objetos en un número complejo.</p></li>
<li><p>Sintaxis alternativa para detectar excepciones: <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">TypeError</span> <span class="pre">as</span> <span class="pre">exc</span></code>.</p></li>
<li><p>La adición de <a class="reference internal" href="../library/functools.html#functools.reduce" title="functools.reduce"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.reduce()</span></code></a> como sinónimo de la función incorporada <code class="xref py py-func docutils literal notranslate"><span class="pre">reduce()</span></code>.</p></li>
</ul>
<p>Python 3.0 agrega varias funciones integradas nuevas y cambia la semántica de algunas integradas existentes. Las funciones que son nuevas en 3.0 como <a class="reference internal" href="../library/functions.html#bin" title="bin"><code class="xref py py-func docutils literal notranslate"><span class="pre">bin()</span></code></a> simplemente se han agregado a Python 2.6, pero las funciones existentes no se han cambiado; en cambio, el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code> tiene versiones con la nueva semántica 3.0. El código escrito puede ser compatible con 3.0 haciendo <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">future_builtins</span> <span class="pre">import</span> <span class="pre">hex,</span> <span class="pre">map</span></code> según sea necesario.</p>
<p>Un nuevo modificador de línea de comandos, <code class="xref std std-option docutils literal notranslate"><span class="pre">-3</span></code>, habilita advertencias sobre características que se eliminarán en Python 3.0. Puede ejecutar código con este modificador para ver cuánto trabajo será necesario para migrar el código a 3.0. El valor de este modificador está disponible para el código Python como la variable booleana <code class="xref py py-data docutils literal notranslate"><span class="pre">sys.py3kwarning</span></code>, y para el código de extensión C como <code class="xref c c-data docutils literal notranslate"><span class="pre">Py_Py3kWarningFlag</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p>Las series 3xxx de PEP, que contienen propuestas para Python 3.0. <span class="target" id="index-51"></span><a class="pep reference external" href="https://peps.python.org/pep-3000/"><strong>PEP 3000</strong></a> describe el proceso de desarrollo de Python 3.0. Empiece con <span class="target" id="index-52"></span><a class="pep reference external" href="https://peps.python.org/pep-3100/"><strong>PEP 3100</strong></a> que describe los objetivos generales de Python 3.0, y luego explore los PEPS con números más altos que proponen características específicas.</p>
</div>
</section>
<section id="changes-to-the-development-process">
<h2>Cambios en el proceso de desarrollo<a class="headerlink" href="#changes-to-the-development-process" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Mientras se desarrollaba 2.6, el proceso de desarrollo de Python experimentó dos cambios significativos: cambiamos del seguidor de incidentes (<em>issue tracker</em>) de SourceForge a una instalación personalizada de Roundup, y la documentación se convirtió de LaTeX a reStructuredText.</p>
<section id="new-issue-tracker-roundup">
<h3>Nuevo seguidor de incidentes: Roundup<a class="headerlink" href="#new-issue-tracker-roundup" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Durante mucho tiempo, los desarrolladores de Python estaban cada vez más molestos por el seguidor de errores de SourceForge. La solución alojada en SourceForge no permite mucha personalización; por ejemplo, no fue posible personalizar el ciclo de vida de los problemas.</p>
<p>Por lo tanto, el comité de infraestructura de la Python Software Foundation publicó una convocatoria de rastreadores de problemas, solicitando voluntarios para configurar diferentes productos e importar algunos de los errores y parches de SourceForge. Se examinaron cuatro rastreadores diferentes: <a class="reference external" href="https://www.atlassian.com/software/jira/">Jira</a>, <a class="reference external" href="https://launchpad.net/">Launchpad</a>, <a class="reference external" href="https://roundup.sourceforge.io/">Roundup</a> y <a class="reference external" href="https://trac.edgewall.org/">Trac</a>. El comité finalmente se decidió por Jira y Roundup como los dos candidatos. Jira es un producto comercial que ofrece instancias alojadas sin costo para proyectos de software libre; Roundup es un proyecto de código abierto que requiere voluntarios para administrarlo y un servidor para alojarlo.</p>
<p>Después de publicar una llamada para voluntarios, se configuró una nueva instalación de Roundup en <a class="reference external" href="https://bugs.python.org">https://bugs.python.org</a>. Una instalación de Roundup puede alojar varios seguidores, y este servidor ahora también aloja seguidores de problemas para Jython y para el sitio web de Python. Seguramente encontrará otros usos en el futuro. Siempre que sea posible, esta edición de «Qué hay de nuevo en Python» se vincula al elemento de error/parche para cada cambio.</p>
<p><a class="reference external" href="http://www.upfrontsoftware.co.za">Upfront Systems</a> de Stellenbosch, Sudáfrica, proporciona amablemente el alojamiento del rastreador de errores de Python. Martin von Löwis se esforzó mucho en importar errores y parches existentes de SourceForge; sus scripts para esta operación de importación están en <code class="docutils literal notranslate"><span class="pre">https://svn.python.org/view/tracker/importer/</span></code> y pueden ser útiles para otros proyectos que deseen pasar de SourceForge a Roundup.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><a class="reference external" href="https://bugs.python.org">https://bugs.python.org</a></dt><dd><p>El seguidor de errores de Python.</p>
</dd>
<dt><a class="reference external" href="https://bugs.jython.org">https://bugs.jython.org</a>:</dt><dd><p>El seguidor de errores de Jython.</p>
</dd>
<dt><a class="reference external" href="https://roundup.sourceforge.io/">https://roundup.sourceforge.io/</a></dt><dd><p>Descargas y documentación de Roundup.</p>
</dd>
<dt><a class="reference external" href="https://svn.python.org/view/tracker/importer/">https://svn.python.org/view/tracker/importer/</a></dt><dd><p>Scripts de conversión de Martin von Löwis.</p>
</dd>
</dl>
</div>
</section>
<section id="new-documentation-format-restructuredtext-using-sphinx">
<h3>Nuevo formato de documentación: texto reestructurado con Sphinx<a class="headerlink" href="#new-documentation-format-restructuredtext-using-sphinx" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La documentación de Python se escribió usando LaTeX desde que el proyecto comenzó alrededor de 1989. En la década de 1980 y principios de la de 1990, la mayor parte de la documentación se imprimió para su estudio posterior, no se vio en línea. LaTeX fue ampliamente utilizado porque proporcionaba una salida impresa atractiva sin dejar de ser sencillo de escribir una vez que se aprendían las reglas básicas de marcado.</p>
<p>Hoy en día, LaTeX todavía se usa para escribir publicaciones destinadas a la impresión, pero el panorama de las herramientas de programación ha cambiado. Ya no imprimimos montones de documentación; en su lugar, lo navegamos en línea y HTML se ha convertido en el formato más importante para dar soporte. Desafortunadamente, convertir LaTeX a HTML es bastante complicado y Fred L. Drake Jr., el editor de documentación de Python desde hace mucho tiempo, pasó mucho tiempo manteniendo el proceso de conversión. De vez en cuando, la gente sugeriría convertir la documentación a SGML y luego a XML, pero realizar una buena conversión es una tarea importante y nadie comprometió el tiempo necesario para terminar el trabajo.</p>
<p>Durante el ciclo de desarrollo 2.6, Georg Brandl se esforzó mucho en construir una nueva cadena de herramientas para procesar la documentación. El paquete resultante se llama Sphinx y está disponible en <a class="reference external" href="https://www.sphinx-doc.org/">https://www.sphinx-doc.org/</a>.</p>
<p>Sphinx se concentra en la salida HTML, produciendo HTML moderno y con un estilo atractivo; la salida impresa todavía se admite mediante la conversión a LaTeX. El formato de entrada es reStructuredText, una sintaxis de marcado que admite extensiones y directivas personalizadas que se usa comúnmente en la comunidad de Python.</p>
<p>Sphinx es un paquete independiente que se puede usar para escribir, y casi dos docenas de otros proyectos (<a class="reference external" href="https://www.sphinx-doc.org/en/master/examples.html">enumerados en el sitio web de Sphinx</a>) han adoptado Sphinx como su herramienta de documentación.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><a class="reference external" href="https://devguide.python.org/documenting/">Documentando Python</a></dt><dd><p>Describe cómo escribir para la documentación de Python.</p>
</dd>
<dt><a class="reference external" href="https://www.sphinx-doc.org/">Sphinx</a></dt><dd><p>Documentación y código para la cadena de herramientas Sphinx.</p>
</dd>
<dt><a class="reference external" href="https://docutils.sourceforge.io">Docutils</a></dt><dd><p>El analizador sintáctico y el conjunto de herramientas <em>reStructuredText</em> subyacentes.</p>
</dd>
</dl>
</div>
</section>
</section>
<section id="pep-343-the-with-statement">
<span id="pep-0343"></span><h2>PEP 343: La sentencia <em>“with”</em><a class="headerlink" href="#pep-343-the-with-statement" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La versión anterior, Python 2.5, agregó la instrucción “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” como una característica opcional, para ser habilitada por una directiva <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">with_statement</span></code>. En 2.6, la instrucción ya no necesita estar habilitada especialmente; esto significa que ahora <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code> es siempre una palabra clave. El resto de esta sección es una copia de la sección correspondiente del documento «Qué hay de nuevo en Python 2.5»; si está familiarizado con la declaración “<code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code>” de Python 2.5, puede omitir esta sección.</p>
<p>La sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” resuelve el código que anteriormente usaría bloques <code class="docutils literal notranslate"><span class="pre">try...finally</span></code> para garantizar que el código de limpieza se ejecute. En esta sección, discutiré como se usará comúnmente la declaración. En la siguiente sección, examinaré los detalles de la implementación y mostraré cómo escribir objetos para usar con esta declaración.</p>
<p>La sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” es una estructura de control de flujo cuya estructura básica es:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">expression</span> <span class="p">[</span><span class="k">as</span> <span class="n">variable</span><span class="p">]:</span>
    <span class="k">with</span><span class="o">-</span><span class="n">block</span>
</pre></div>
</div>
<p>La expresión se evalúa y debe dar como resultado un objeto que admita el protocolo de administración de contexto (es decir, tiene los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code>).</p>
<p>El objeto <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code> se llama antes de que se ejecute <em>with-block</em> y, por lo tanto, se puede ejecutar código de configuración. También, si se proporciona, puede retornar un valor que esté vinculado al nombre <em>variable</em>. (Tenga en cuenta que a la <em>variable</em> <em>no</em> se le asigna el resultado de la <em>expression</em>).</p>
<p>Una vez finalizada la ejecución de <em>with-block</em>, se llama al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> del objeto, incluso si el bloque generó una excepción y, por lo tanto, puede ejecutar código de limpieza.</p>
<p>Algunos objetos estándar de Python ahora admiten el protocolo de administración de contexto y se pueden usar con la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>”. Los objetos de archivo son un ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/etc/passwd&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="nb">print</span> <span class="n">line</span>
        <span class="o">...</span> <span class="n">more</span> <span class="n">processing</span> <span class="n">code</span> <span class="o">...</span>
</pre></div>
</div>
<p>Después de que se haya ejecutado esta sentencia, el objeto de archivo en <em>f</em> se habrá cerrado automáticamente, incluso si el bucle <a class="reference internal" href="../reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a> generó una excepción en la mitad del bloque.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En este caso, <em>f</em> es el mismo objeto creado por <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>, porque <code class="xref py py-meth docutils literal notranslate"><span class="pre">file.__enter__()</span></code> retorna <em>self</em>.</p>
</div>
<p>Los <em>locks</em> y las condiciones variables del módulo <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> también admiten la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>”:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="c1"># Critical section of code</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>El <em>lock</em> se adquiere antes de que se ejecute el bloque y siempre se libera una vez que este se completa.</p>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">localcontext()</span></code> en el módulo <a class="reference internal" href="../library/decimal.html#module-decimal" title="decimal: Implementation of the General Decimal Arithmetic  Specification."><code class="xref py py-mod docutils literal notranslate"><span class="pre">decimal</span></code></a> facilita guardar y restaurar el contexto decimal actual, que encapsula la precisión deseada y las características de redondeo para los cálculos:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">Context</span><span class="p">,</span> <span class="n">localcontext</span>

<span class="c1"># Displays with default precision of 28 digits</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;578&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">v</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>

<span class="k">with</span> <span class="n">localcontext</span><span class="p">(</span><span class="n">Context</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">16</span><span class="p">)):</span>
    <span class="c1"># All code in this block uses a precision of 16 digits.</span>
    <span class="c1"># The original context is restored on exiting the block.</span>
    <span class="nb">print</span> <span class="n">v</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
</pre></div>
</div>
<section id="writing-context-managers">
<span id="new-26-context-managers"></span><h3>Escribiendo gestores de contexto<a class="headerlink" href="#writing-context-managers" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Por detrás, la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” es bastante complicada. La mayoría de las personas solo usarán “<code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code>” en compañía de objetos existentes y no necesitan conocer estos detalles, por lo que puede omitir el resto de esta sección si lo desea. Los autores de nuevos objetos deberán comprender los detalles de la implementación subyacente y deben seguir leyendo.</p>
<p>Una explicación de alto nivel del protocolo de gestor de contexto es:</p>
<ul class="simple">
<li><p>La expresión se evalúa y debería dar como resultado un objeto llamado «gestor de contexto». El gestor de contexto debe tener los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code>.</p></li>
<li><p>Se llama al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code> del gestor de contexto. El valor retornado se asigna a <em>VAR</em>. Si no hay una cláusula <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">VAR</span></code>, el valor simplemente se descarta.</p></li>
<li><p>Se ejecuta el código en <em>BLOCK</em>.</p></li>
<li><p>Si <em>BLOCK</em> lanza una excepción, se llama al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> del gestor de contexto con tres argumentos, los detalles de la excepción (<code class="docutils literal notranslate"><span class="pre">type,</span> <span class="pre">value,</span> <span class="pre">traceback</span></code>, los mismos valores retornados por <a class="reference internal" href="../library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a>, que también puede ser <code class="docutils literal notranslate"><span class="pre">None</span></code> si no se produjo ninguna excepción). El valor de retorno del método controla si se vuelve a generar una excepción: cualquier valor <em>false</em> vuelve a lanzar la excepción, y <code class="docutils literal notranslate"><span class="pre">True</span></code> resultará en inhibirla. Rara vez querrá suprimir la excepción, porque si lo hace, el autor del código que contenga la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” nunca se dará cuenta de que algo salió mal.</p></li>
<li><p>Si <em>BLOCK</em> no lanzó una excepción, el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> continúa llamándose, pero <em>type</em>, <em>value</em> y <em>traceback</em> son todos <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<p>Pensemos en un ejemplo. No presentaré un código detallado, solo bosquejaré los métodos necesarios para una base de datos que admita transacciones.</p>
<p>(Para las personas que no están familiarizadas con la terminología de la base de datos: un conjunto de cambios en la base de datos se agrupa en una transacción. Las transacciones pueden confirmarse, lo que significa que todos los cambios se escriben en la base de datos, o deshacerse, lo que significa que todos los cambios se descartan y la base de datos no ha cambiado. Consulte cualquier libro de texto de base de datos para obtener más información.)</p>
<p>Supongamos que hay un objeto que representa una conexión de base de datos. Nuestro objetivo será permitir que el usuario escriba un código como este:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">db_connection</span> <span class="o">=</span> <span class="n">DatabaseConnection</span><span class="p">()</span>
<span class="k">with</span> <span class="n">db_connection</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;insert into ...&#39;</span><span class="p">)</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;delete from ...&#39;</span><span class="p">)</span>
    <span class="c1"># ... more operations ...</span>
</pre></div>
</div>
<p>La transacción debe confirmarse si el código del bloque se ejecuta sin problemas o revertirse si hay una excepción. Aquí está la interfaz básica para <code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseConnection</span></code> que asumiré:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DatabaseConnection</span><span class="p">:</span>
    <span class="c1"># Database interface</span>
    <span class="k">def</span> <span class="nf">cursor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Returns a cursor object and starts a new transaction&quot;</span>
    <span class="k">def</span> <span class="nf">commit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Commits current transaction&quot;</span>
    <span class="k">def</span> <span class="nf">rollback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&quot;Rolls back current transaction&quot;</span>
</pre></div>
</div>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code> es bastante fácil, ya que solo tiene que iniciar una nueva transacción. Para esta aplicación, el objeto cursor resultante sería un resultado útil, por lo que el método lo retornará. Luego, el usuario puede agregar <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">cursor</span></code> a su sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” para vincular el cursor a un nombre de variable.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DatabaseConnection</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Code to start a new transaction</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">cursor</span>
</pre></div>
</div>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> es el más complicado porque es donde se debe realizar la mayor parte del trabajo. El método debe verificar si ocurrió una excepción. Si no hubo excepción, la transacción se confirma. La transacción se revierte si hubo una excepción.</p>
<p>En el siguiente código, la ejecución simplemente caerá al final de la función, retornando el valor predeterminado <code class="docutils literal notranslate"><span class="pre">None</span></code>. <code class="docutils literal notranslate"><span class="pre">None</span></code> es falso, por lo que la excepción se volverá a lanzar automáticamente. Si lo desea, puede ser más explícito y agregar una sentencia <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a> en la ubicación marcada.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DatabaseConnection</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">tb</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># No exception, so commit</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Exception occurred, so rollback.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
            <span class="c1"># return False</span>
</pre></div>
</div>
</section>
<section id="the-contextlib-module">
<span id="new-module-contextlib"></span><h3>El módulo contextlib<a class="headerlink" href="#the-contextlib-module" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/contextlib.html#module-contextlib" title="contextlib: Utilities for with-statement contexts."><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextlib</span></code></a> proporciona algunas funciones y un decorador que son útiles al escribir objetos para usar con la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>”.</p>
<p>El decorador se llama <code class="xref py py-func docutils literal notranslate"><span class="pre">contextmanager()</span></code>, y te permite escribir una única función generadora en lugar de definir una clase nueva. El generador debería producir exactamente un valor. El código hasta <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a> se ejecutará como el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code>, y el valor obtenido será el valor de retorno del método que se vinculará a la variable en la clausula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">as</span></code> (si la hay) de la sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>”. El código después de <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> se ejecutará en el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> . Cualquier excepción lanzada en el bloque será generada por la sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code>.</p>
<p>Usando este decorador, nuestro ejemplo de base de datos de la sección anterior podría escribirse como:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">db_transaction</span><span class="p">(</span><span class="n">connection</span><span class="p">):</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">cursor</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">DatabaseConnection</span><span class="p">()</span>
<span class="k">with</span> <span class="n">db_transaction</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>El módulo <a class="reference internal" href="../library/contextlib.html#module-contextlib" title="contextlib: Utilities for with-statement contexts."><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextlib</span></code></a> también tiene una función <code class="docutils literal notranslate"><span class="pre">nested(mgr1,</span> <span class="pre">mgr2,</span> <span class="pre">...)</span></code> que combina varios gestores de contexto para que no necesite escribir sentencias “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>” anidadas. En este ejemplo, se utiliza una única sentencia “<code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code>” que inicia una transacción de base de datos y adquiere un bloqueo del hilo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
<span class="k">with</span> <span class="n">nested</span> <span class="p">(</span><span class="n">db_transaction</span><span class="p">(</span><span class="n">db</span><span class="p">),</span> <span class="n">lock</span><span class="p">)</span> <span class="k">as</span> <span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">locked</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Por último, la función <code class="xref py py-func docutils literal notranslate"><span class="pre">close()</span></code> retorna su argumento para que pueda vincularse a una variable, y llama al método <code class="docutils literal notranslate"><span class="pre">.close()</span></code> del argumento al final del bloque.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">closing</span>

<span class="k">with</span> <span class="n">closing</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.yahoo.com&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-53"></span><a class="pep reference external" href="https://peps.python.org/pep-0343/"><strong>PEP 343</strong></a> - La sentencia «with»</dt><dd><p>PEP escrito por Guido van Rossum y Nick Coghlan; implementado por Mike Bland, Guido van Rossum y Neal Norwitz. El PEP muestra el código generado para una sentencia “<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>”, que puede ser útil para aprender cómo la sentencia funciona.</p>
</dd>
</dl>
<p>La documentación para el módulo <a class="reference internal" href="../library/contextlib.html#module-contextlib" title="contextlib: Utilities for with-statement contexts."><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextlib</span></code></a>.</p>
</div>
</section>
</section>
<section id="pep-366-explicit-relative-imports-from-a-main-module">
<span id="pep-0366"></span><h2>PEP 366: Importaciones relativas explícitas desde un módulo principal<a class="headerlink" href="#pep-366-explicit-relative-imports-from-a-main-module" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El modificador de Python <a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a> permite ejecutar un módulo como un script. Cuando ejecutabas un módulo que estaba ubicado dentro de un paquete, las importaciones relativas no funcionaban correctamente.</p>
<p>La corrección para Python 2.6 agrega un atributo <a class="reference internal" href="../reference/import.html#package__" title="__package__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__package__</span></code></a> a los módulos. Cuando este atributo está presente, las importaciones relativas serán relativas al valor de este atributo en lugar del atributo <a class="reference internal" href="../reference/import.html#name__" title="__name__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__name__</span></code></a>.</p>
<p>Las importaciones de estilo PEP 302 pueden configurar <a class="reference internal" href="../reference/import.html#package__" title="__package__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__package__</span></code></a> según sea necesario. El módulo <a class="reference internal" href="../library/runpy.html#module-runpy" title="runpy: Locate and run Python modules without importing them first."><code class="xref py py-mod docutils literal notranslate"><span class="pre">runpy</span></code></a> que implementa el modificador <a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a> ahora hace esto, por lo que las importaciones relativas ahora funcionarán correctamente en los scripts que se ejecutan desde el interior de un paquete.</p>
</section>
<section id="pep-370-per-user-site-packages-directory">
<span id="pep-0370"></span><h2>PEP 370: Directorio de <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> por usuario<a class="headerlink" href="#pep-370-per-user-site-packages-directory" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Cuando ejecuta Python, la ruta de búsqueda del módulo <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> generalmente incluye un directorio cuya ruta termina en <code class="docutils literal notranslate"><span class="pre">&quot;site-packages&quot;</span></code>. Este directorio está destinado a contener paquetes instalados localmente disponibles para todos los usuarios que utilizan una máquina o un sitio de instalación en particular.</p>
<p>Python 2.6 introduce una convención para directorios de sitios específicos del usuario. El directorio varía según la plataforma:</p>
<ul class="simple">
<li><p>Unix y Mac OS X: <code class="file docutils literal notranslate"><span class="pre">~/.local/</span></code></p></li>
<li><p>Windows: <code class="file docutils literal notranslate"><span class="pre">%APPDATA%/Python</span></code></p></li>
</ul>
<p>Dentro de este directorio, habrá subdirectorios específicos de versión, como <code class="file docutils literal notranslate"><span class="pre">lib/python2.6/site-packages</span></code> en Unix/Mac OS y <code class="file docutils literal notranslate"><span class="pre">Python26/site-packages</span></code> en Windows.</p>
<p>Si no le gusta el directorio predeterminado, puede sobrescribirlo mediante una variable de entorno. <span class="target" id="index-54"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONUSERBASE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONUSERBASE</span></code></a> establece el directorio raíz utilizado para todas las versiones de Python que admiten esta función. En Windows, el directorio de datos específicos de la aplicación se puede cambiar configurando la variable de entorno <span class="target" id="index-55"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APPDATA</span></code>. También puede modificar el archivo <code class="file docutils literal notranslate"><span class="pre">site.py</span></code> para su instalación de Python.</p>
<p>La característica se puede desactivar por completo ejecutando Python con la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-s"><code class="xref std std-option docutils literal notranslate"><span class="pre">-s</span></code></a> o <em>seteando</em> la variable de entorno <span class="target" id="index-56"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONNOUSERSITE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONNOUSERSITE</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt>PEP 370: Directorio de <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> por usuario</dt><dd><p>PEP escrito e implementado por Christian Heimes.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-371-the-multiprocessing-package">
<span id="pep-0371"></span><h2>PEP 371: El paquete <code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code><a class="headerlink" href="#pep-371-the-multiprocessing-package" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El nuevo paquete <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> permite a los programas de Python crear nuevos procesos que realizarán un cálculo y retornaran un resultado al padre. Los procesos padre e hijo pueden comunicarse mediante colas (<em>queues</em>) y tuberías (<em>pipes</em>), sincronizar sus operaciones mediante bloqueos y semáforos, y pueden compartir matrices simples de datos.</p>
<p>El módulo <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> comenzó como una emulación exacta del módulo <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> usando procesos en lugar de hilos. Ese objetivo se descartó en el camino a Python 2.6, pero el enfoque general del módulo sigue siendo similar. La clase fundamental es <code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code>, a la que se le pasa un objeto invocable y una colección de argumentos. El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">start()</span></code> establece el invocable ejecutándose en un subproceso, después de lo cual se puede llamar al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">is_alive()</span></code> para verificar si el subproceso aún se está ejecutando y al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">join()</span></code> para esperar al proceso para salir.</p>
<p>Aquí hay un ejemplo simple donde el subproceso calculará un factorial. La función que realiza el cálculo está escrita de forma extraña, por lo que lleva mucho más tiempo cuando el argumento de entrada es un múltiplo de 4.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span><span class="p">,</span> <span class="n">Queue</span>


<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
    <span class="s2">&quot;Compute a factorial.&quot;</span>
    <span class="c1"># If N is a multiple of 4, this function will take much longer.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">N</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.05</span> <span class="o">*</span> <span class="n">N</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>

    <span class="c1"># Calculate the result</span>
    <span class="n">fact</span> <span class="o">=</span> <span class="mi">1</span><span class="n">L</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">fact</span> <span class="o">=</span> <span class="n">fact</span> <span class="o">*</span> <span class="n">i</span>

    <span class="c1"># Put the result on the queue</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">fact</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>

    <span class="n">N</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">factorial</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
    <span class="n">p</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="nb">print</span> <span class="s1">&#39;Factorial&#39;</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">result</span>
</pre></div>
</div>
<p>Un <a class="reference internal" href="../library/queue.html#queue.Queue" title="queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a> se usa para comunicar el resultado del factorial. El objeto <a class="reference internal" href="../library/queue.html#queue.Queue" title="queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a> se almacena en una variable global. El proceso hijo usará el valor de la variable cuando se creó el hijo; porque es una <code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code>, padre e hijo pueden usar el objeto para comunicarse. (Si el padre cambiara el valor de la variable global, el valor del hijo no se vería afectado y viceversa).</p>
<p>Otras dos clases, <code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">Manager</span></code>, proporcionan interfaces de nivel superior. <code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code> creará un número fijo de procesos de trabajo, y las solicitudes se pueden distribuir a los trabajadores llamando a <code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code> o <code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_async()</span></code> para agregar una sola solicitud, y <a class="reference internal" href="../library/functions.html#map" title="map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map()</span></code></a> o <code class="xref py py-meth docutils literal notranslate"><span class="pre">map_async()</span></code> para agregar una serie de solicitudes. El siguiente código usa <code class="xref py py-class docutils literal notranslate"><span class="pre">Pool</span></code> para distribuir las solicitudes en 5 procesos de trabajo y recuperar una lista de resultados:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>

<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&quot;Compute a factorial.&quot;</span>
    <span class="o">...</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">factorial</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">v</span>
</pre></div>
</div>
<p>Esto produce la siguiente salida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>
<span class="mi">39916800</span>
<span class="mi">51090942171709440000</span>
<span class="mi">8222838654177922817725562880000000</span>
<span class="mi">33452526613163807108170062053440751665152000000000</span>
<span class="o">...</span>
</pre></div>
</div>
<p>La otra interfaz de alto nivel, la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Manager</span></code>, crea un proceso de servidor separado que puede contener copias maestras de las estructuras de datos de Python. Luego, otros procesos pueden acceder y modificar estas estructuras de datos utilizando objetos proxy. El siguiente ejemplo crea un diccionario compartido llamando al método <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict()</span></code></a>; los procesos de trabajo luego insertan valores en el diccionario. (El bloqueo no se realiza automáticamente, lo cual no importa en este ejemplo. Los métodos de <code class="xref py py-class docutils literal notranslate"><span class="pre">Manager</span></code> también incluyen <code class="xref py py-meth docutils literal notranslate"><span class="pre">Lock()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">RLock()</span></code>, y <code class="xref py py-meth docutils literal notranslate"><span class="pre">Semaphore()</span></code> para crear bloqueos compartidos.)</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span><span class="p">,</span> <span class="n">Manager</span>

<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&quot;Compute a factorial.&quot;</span>
    <span class="c1"># Calculate the result</span>
    <span class="n">fact</span> <span class="o">=</span> <span class="mi">1</span><span class="n">L</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">fact</span> <span class="o">=</span> <span class="n">fact</span> <span class="o">*</span> <span class="n">i</span>

    <span class="c1"># Store result in dictionary</span>
    <span class="n">dictionary</span><span class="p">[</span><span class="n">N</span><span class="p">]</span> <span class="o">=</span> <span class="n">fact</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">mgr</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">()</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>         <span class="c1"># Create shared dictionary</span>

    <span class="c1"># Run tasks using the pool</span>
    <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">p</span><span class="o">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">factorial</span><span class="p">,</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>

    <span class="c1"># Mark pool as closed -- no more tasks can be added.</span>
    <span class="n">p</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Wait for tasks to exit</span>
    <span class="n">p</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

    <span class="c1"># Output results</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="nb">print</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span>
</pre></div>
</div>
<p>Esto producirá la salida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="mi">1</span>
<span class="mi">11</span> <span class="mi">39916800</span>
<span class="mi">21</span> <span class="mi">51090942171709440000</span>
<span class="mi">31</span> <span class="mi">8222838654177922817725562880000000</span>
<span class="mi">41</span> <span class="mi">33452526613163807108170062053440751665152000000000</span>
<span class="mi">51</span> <span class="mf">15511187532873822802242430164693032110632597200169861120000.</span><span class="o">..</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p>La documentación del módulo <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a>.</p>
<dl class="simple">
<dt><span class="target" id="index-57"></span><a class="pep reference external" href="https://peps.python.org/pep-0371/"><strong>PEP 371</strong></a> - Adición del paquete de multiprocesamiento</dt><dd><p>PEP escrito por Jesse Noller y Richard Oudkerk; implementado por Richard Oudkerk y Jesse Noller.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3101-advanced-string-formatting">
<span id="pep-3101"></span><h2>PEP 3101: Formateo avanzado de cadena de caracteres<a class="headerlink" href="#pep-3101-advanced-string-formatting" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En Python 3.0, el operador <code class="docutils literal notranslate"><span class="pre">%</span></code> se complementa con un método de formato de cadena más potente, <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">format()</span></code></a>. La compatibilidad con el método <a class="reference internal" href="../library/stdtypes.html#str.format" title="str.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> se ha retroalimentado a Python 2.6.</p>
<p>En 2.6, tanto las cadenas de 8 bits como las Unicode tienen un método <code class="docutils literal notranslate"><span class="pre">.format()</span></code> que trata la cadena como una plantilla y toma los argumentos para formatear. La plantilla de formato utiliza llaves (<code class="docutils literal notranslate"><span class="pre">{</span></code>, <code class="docutils literal notranslate"><span class="pre">}</span></code>) como caracteres especiales:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Substitute positional argument 0 into the string.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;User ID: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span>
<span class="go">&#39;User ID: root&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use the named keyword arguments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;User ID: </span><span class="si">{uid}</span><span class="s2">   Last seen: </span><span class="si">{last_login}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">uid</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">last_login</span> <span class="o">=</span> <span class="s2">&quot;5 Mar 2008 07:20&quot;</span><span class="p">)</span>
<span class="go">&#39;User ID: root   Last seen: 5 Mar 2008 07:20&#39;</span>
</pre></div>
</div>
<p>Las llaves se pueden escapar duplicándose:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Empty dict: {{}}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">()</span>
<span class="go">&quot;Empty dict: {}&quot;</span>
</pre></div>
</div>
<p>Los nombres de campo pueden ser números enteros que indican argumentos posicionales, como <code class="docutils literal notranslate"><span class="pre">{0}</span></code>, <code class="docutils literal notranslate"><span class="pre">{1}</span></code>, etc. o nombres de argumentos de palabras clave. También puede proporcionar nombres de campos compuestos que lean atributos o accedan a claves de diccionario:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="s1">&#39;Platform: </span><span class="si">{0.platform}</span><span class="se">\n</span><span class="s1">Python version: </span><span class="si">{0.version}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="go">Platform: darwin</span>
<span class="go">Python version: 2.6a1+ (trunk:61261M, Mar  5 2008, 20:29:41)</span>
<span class="go">[GCC 4.0.1 (Apple Computer, Inc. build 5367)]&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Content-type: </span><span class="si">{0[.mp4]}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mimetypes</span><span class="o">.</span><span class="n">types_map</span><span class="p">)</span>
<span class="go">&#39;Content-type: video/mp4&#39;</span>
</pre></div>
</div>
<p>Tenga en cuenta que cuando utilice una notación de estilo diccionario como <code class="docutils literal notranslate"><span class="pre">[.mp4]</span></code>, no es necesario poner comillas alrededor de la cadena; se buscará el valor usando <code class="docutils literal notranslate"><span class="pre">.mp4</span></code> como clave. Las cadenas de caracteres que comienzan con un número se convertirán en entero. No puede escribir expresiones más complicadas dentro de una cadena de formato.</p>
<p>Hasta ahora hemos mostrado cómo especificar qué campo sustituir en la cadena resultante. El formato preciso utilizado también se puede controlar agregando dos puntos seguidos de un especificador de formato. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Field 0: left justify, pad to 15 characters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Field 1: right justify, pad to 6 characters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0:15}</span><span class="s1"> $</span><span class="si">{1:&gt;6}</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Registration&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>
<span class="go">&#39;Registration    $    35&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Tutorial&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="go">&#39;Tutorial        $    50&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Banquet&#39;</span><span class="p">,</span> <span class="mi">125</span><span class="p">)</span>
<span class="go">&#39;Banquet         $   125&#39;</span>
</pre></div>
</div>
<p>Los especificadores de formato pueden hacer referencia a otros campos a través del anidamiento:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;{0:</span><span class="si">{1}</span><span class="s1">}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Invoice #1234&#39;</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
<span class="go">&#39;Invoice #1234  &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Invoice #1234&#39;</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
<span class="go">&#39;Invoice #1234                      &#39;</span>
</pre></div>
</div>
<p>Se puede especificar la alineación de un campo dentro del ancho deseado:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Carácter</p></th>
<th class="head"><p>Efecto</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt; (por defecto)</p></td>
<td><p>Alinear a la izquierda</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;</p></td>
<td><p>Alinear a la derecha</p></td>
</tr>
<tr class="row-even"><td><p>^</p></td>
<td><p>Centrado</p></td>
</tr>
<tr class="row-odd"><td><p>=</p></td>
<td><p>(Solo para tipos numéricos) Relleno después del signo.</p></td>
</tr>
</tbody>
</table>
<p>Los especificadores de formato también pueden incluir un tipo de presentación, que controla cómo se formatea el valor. Por ejemplo, los números de punto flotante pueden formatearse como un número general o en notación exponencial:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;</span><span class="si">{0:g}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.75</span><span class="p">)</span>
<span class="go">&#39;3.75&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;</span><span class="si">{0:e}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.75</span><span class="p">)</span>
<span class="go">&#39;3.750000e+00&#39;</span>
</pre></div>
</div>
<p>Hay una variedad de tipos de presentación disponibles. Consulte la documentación 2.6 para obtener una <a class="reference internal" href="../library/string.html#formatstrings"><span class="std std-ref">lista completa</span></a>; aquí hay un ejemplo:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
<td><p>Binario. Emite el número en base 2.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
<td><p>Carácter. Convierte el número entero en el carácter Unicode correspondiente antes de imprimirlo.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
<td><p>Entero Decimal. Muestra el número en base 10.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">o</span></code></p></td>
<td><p>Formato octal. Da salida al número en base 8.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x</span></code></p></td>
<td><p>Formato hexadecimal. Muestra el número en base 16, utilizando letras minúsculas para los dígitos superiores a 9.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e</span></code></p></td>
<td><p>Notación de exponente. Imprime el número en notación científica utilizando la letra “e” para indicar el exponente.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">g</span></code></p></td>
<td><p>Formato general. Esto imprime el número como un número de punto fijo, a menos que el número sea demasiado grande, en cuyo caso cambia a la notación de exponente “e”.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">n</span></code></p></td>
<td><p>Número. Es lo mismo que “g” (para flotantes) o “d” (para enteros), salvo que utiliza la configuración regional actual para insertar los caracteres separadores de números adecuados.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>Porcentaje. Multiplica el número por 100 y lo muestra en formato fijo (“f”), seguido de un signo de porcentaje.</p></td>
</tr>
</tbody>
</table>
<p>Las clases y los tipos pueden definir un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__format__()</span></code> para controlar cómo se formatean.  Recibe un único argumento, el especificador de formato:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">format_spec</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">unicode</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>También hay un builtin <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a> que formateará un solo valor.  Llama al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__format__()</span></code> del tipo con el especificador proporcionado:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="mf">75.6564</span><span class="p">,</span> <span class="s1">&#39;.2f&#39;</span><span class="p">)</span>
<span class="go">&#39;75.66&#39;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><a class="reference internal" href="../library/string.html#formatstrings"><span class="std std-ref">Sintaxis de formateo de cadena</span></a></dt><dd><p>La documentación de referencia para los campos de formato.</p>
</dd>
<dt><span class="target" id="index-58"></span><a class="pep reference external" href="https://peps.python.org/pep-3101/"><strong>PEP 3101</strong></a> - Formato avanzado de cadenas</dt><dd><p>PEP escrito por Talin. Implementado por Eric Smith.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3105-print-as-a-function">
<span id="pep-3105"></span><h2>PEP 3105: <code class="docutils literal notranslate"><span class="pre">print</span></code> como función<a class="headerlink" href="#pep-3105-print-as-a-function" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La sentencia <code class="docutils literal notranslate"><span class="pre">print</span></code> se convierte en la función <a class="reference internal" href="../library/functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a> en Python 3.0. Hacer de <a class="reference internal" href="../library/functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a> una función hace posible reemplazar la función haciendo <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">print(...)</span></code> o importando una nueva función desde otro lugar.</p>
<p>Python 2.6 tiene una importación <code class="docutils literal notranslate"><span class="pre">__future__</span></code> que elimina <code class="docutils literal notranslate"><span class="pre">print</span></code> como sintaxis del lenguaje, permitiéndote usar la forma funcional en su lugar.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;# of entries&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dictionary</span><span class="p">),</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
<p>La firma de la nueva función es:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Los parámetros son:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>args</em>: argumentos posicionales cuyos valores se imprimirán.</p></li>
<li><p><em>sep</em>: el separador que se imprimirá entre los argumentos.</p></li>
<li><p><em>end</em>: el texto final, que se imprimirá después de que se hayan emitido todos los argumentos.</p></li>
<li><p><em>archivo</em>: el objeto archivo al que se enviará la salida.</p></li>
</ul>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-59"></span><a class="pep reference external" href="https://peps.python.org/pep-3105/"><strong>PEP 3105</strong></a> - Hacer de la impresión una función</dt><dd><p>PEP escrito por Georg Brandl.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3110-exception-handling-changes">
<span id="pep-3110"></span><h2>PEP 3110: Cambios en el manejo de excepciones<a class="headerlink" href="#pep-3110-exception-handling-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un error que ocasionalmente cometen los programadores de Python es escribir el siguiente código:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Wrong!</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>El autor probablemente está tratando de atrapar ambas excepciones <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> y <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, pero este código en realidad hace algo diferente: atrapará <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> y vinculará el objeto de excepción resultante al nombre local <code class="docutils literal notranslate"><span class="pre">&quot;ValueError&quot;</span></code>.  La excepción <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> no será capturada en absoluto.  El código correcto especifica una tupla de excepciones:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Este error se produce porque el uso de la coma aquí es ambiguo: ¿indica dos nodos diferentes en el árbol de análisis sintáctico, o un único nodo que es una tupla?</p>
<p>Python 3.0 hace que esto sea inequívoco al sustituir la coma por la palabra «as».  Para atrapar una excepción y almacenar el objeto de excepción en la variable <code class="docutils literal notranslate"><span class="pre">exc</span></code>, debes escribir:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Python 3.0 sólo soporta el uso de «as», y por lo tanto interpreta el primer ejemplo como la captura de dos excepciones diferentes.  Python 2.6 soporta tanto la coma como «as», por lo que el código existente seguirá funcionando.  Por lo tanto, sugerimos utilizar «as» cuando se escriba nuevo código Python que sólo se ejecutará con la versión 2.6.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-60"></span><a class="pep reference external" href="https://peps.python.org/pep-3110/"><strong>PEP 3110</strong></a> - Captura de excepciones en Python 3000</dt><dd><p>PEP escrito y ejecutado por Collin Winter.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3112-byte-literals">
<span id="pep-3112"></span><h2>PEP 3112: Literales de bytes<a class="headerlink" href="#pep-3112-byte-literals" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Python 3.0 adopta Unicode como el tipo de cadena fundamental del lenguaje y denota los literales de 8 bits de forma diferente, ya sea como <code class="docutils literal notranslate"><span class="pre">b'string</span></code> o utilizando un constructor <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.  Por compatibilidad futura, Python 2.6 añade <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> como sinónimo del tipo <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, y también soporta la notación <code class="docutils literal notranslate"><span class="pre">b''</span></code>.</p>
<p>El tipo <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> de la versión 2.6 difiere del tipo <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> de la versión 3.0 en varios aspectos; el más notable es que el constructor es completamente diferente.  En la 3.0, <code class="docutils literal notranslate"><span class="pre">bytes([65,</span> <span class="pre">66,</span> <span class="pre">67])</span></code> tiene 3 elementos, que contienen los bytes que representan <code class="docutils literal notranslate"><span class="pre">ABC</span></code>; en la 2.6, <code class="docutils literal notranslate"><span class="pre">bytes([65,</span> <span class="pre">66,</span> <span class="pre">67])</span></code> devuelve la cadena de 12 bytes que representa el <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> de la lista.</p>
<p>El uso principal de <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> en 2.6 será escribir pruebas de tipo de objeto como <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">bytes)</span></code>.  Esto ayudará al convertidor de 2 a 3, que no puede decir si el código de 2.x pretende que las cadenas contengan caracteres o bytes de 8 bits; ahora puede utilizar <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> o <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> para representar su intención exactamente, y el código resultante también será correcto en Python 3.0.</p>
<p>También hay una importación <code class="docutils literal notranslate"><span class="pre">__future__</span></code> que hace que todos los literales de cadena se conviertan en cadenas Unicode.  Esto significa que las secuencias de escape <code class="docutils literal notranslate"><span class="pre">u</span></code> pueden ser utilizadas para incluir caracteres Unicode:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\u751f\u3080\u304e\u3000\u751f\u3054</span><span class="s1">&#39;</span>
     <span class="s1">&#39;</span><span class="se">\u3081\u3000\u751f\u305f\u307e\u3054</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>               <span class="c1"># 12 Unicode characters</span>
</pre></div>
</div>
<p>A nivel de C, Python 3.0 renombrará el tipo de cadena de 8 bits existente, llamado <code class="xref c c-type docutils literal notranslate"><span class="pre">PyStringObject</span></code> en Python 2.x, a <a class="reference internal" href="../c-api/bytes.html#c.PyBytesObject" title="PyBytesObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyBytesObject</span></code></a>.  Python 2.6 utiliza <code class="docutils literal notranslate"><span class="pre">#define</span></code> para soportar el uso de los nombres <a class="reference internal" href="../c-api/bytes.html#c.PyBytesObject" title="PyBytesObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesObject()</span></code></a>, <a class="reference internal" href="../c-api/bytes.html#c.PyBytes_Check" title="PyBytes_Check"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytes_Check()</span></code></a>, <a class="reference internal" href="../c-api/bytes.html#c.PyBytes_FromStringAndSize" title="PyBytes_FromStringAndSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytes_FromStringAndSize()</span></code></a>, y todas las demás funciones y macros utilizadas con cadenas.</p>
<p>Las instancias del tipo <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> son inmutables al igual que las cadenas.  Un nuevo tipo <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a> almacena una secuencia mutable de bytes:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">bytearray</span><span class="p">([</span><span class="mi">65</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">67</span><span class="p">])</span>
<span class="go">bytearray(b&#39;ABC&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u21ef\u3244</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">bytearray(b&#39;\xe2\x87\xaf\xe3\x89\x84&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\xe3</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">bytearray(b&#39;\xe3\x87\xaf\xe3\x89\x84&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unicode</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u31ef \u3244&#39;</span>
</pre></div>
</div>
<p>Las matrices de bytes admiten la mayoría de los métodos de los tipos de cadena, como <code class="xref py py-meth docutils literal notranslate"><span class="pre">startswith()</span></code>/<code class="xref py py-meth docutils literal notranslate"><span class="pre">endswith()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">find()</span></code>/<code class="xref py py-meth docutils literal notranslate"><span class="pre">rfind()</span></code>, y algunos de los métodos de las listas, como <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">pop()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">reverse()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">bytearray(b&#39;ABCde&#39;)</span>
</pre></div>
</div>
<p>También existe la correspondiente API en C, con <a class="reference internal" href="../c-api/bytearray.html#c.PyByteArray_FromObject" title="PyByteArray_FromObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyByteArray_FromObject()</span></code></a>, <a class="reference internal" href="../c-api/bytearray.html#c.PyByteArray_FromStringAndSize" title="PyByteArray_FromStringAndSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyByteArray_FromStringAndSize()</span></code></a>, y varias otras funciones.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-61"></span><a class="pep reference external" href="https://peps.python.org/pep-3112/"><strong>PEP 3112</strong></a> - Literales de bytes en Python 3000</dt><dd><p>PEP escrito por Jason Orendorff; retroalimentado a 2.6 por Christian Heimes.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3116-new-i-o-library">
<span id="pep-3116"></span><h2>PEP 3116: Nueva biblioteca de E/S<a class="headerlink" href="#pep-3116-new-i-o-library" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los objetos de archivo incorporados en Python soportan una serie de métodos, pero los objetos que imitan a los archivos no necesariamente los soportan todos.  Los objetos que imitan a los archivos normalmente soportan <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code>, pero pueden no soportar <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readline()</span></code></a>, por ejemplo.  Python 3.0 introduce una biblioteca de E/S por capas en el módulo <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a> que separa las funciones de almacenamiento en búfer y manejo de texto de las operaciones fundamentales de lectura y escritura.</p>
<p>Existen tres niveles de clases base abstractas proporcionadas por el módulo <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a>:</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RawIOBase</span></code> define las operaciones de E/S en bruto: <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">readinto()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">truncate()</span></code>, y <code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code>. La mayoría de los métodos de esta clase suelen corresponder a una única llamada al sistema. También hay métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">readable()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">writable()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">seekable()</span></code> para determinar qué operaciones permite un objeto dado.</p>
<p>Python 3.0 tiene implementaciones concretas de esta clase para archivos y sockets, pero Python 2.6 no ha reestructurado sus objetos archivo y socket de esta manera.</p>
</li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedIOBase</span></code> es una clase base abstracta que almacena los datos en la memoria para reducir el número de llamadas al sistema, haciendo más eficiente el procesamiento de E/S. Soporta todos los métodos de <code class="xref py py-class docutils literal notranslate"><span class="pre">RawIOBase</span></code>, y añade un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">raw</span></code> que contiene el objeto crudo subyacente.</p>
<p>Hay cinco clases concretas que implementan este ABC. <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedWriter</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedReader</span></code> son para objetos que soportan el uso de sólo escritura o de sólo lectura que tienen un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code> para el acceso aleatorio. Los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedRandom</span></code> soportan el acceso de lectura y escritura sobre el mismo flujo subyacente, y <code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedRWPair</span></code> es para objetos como los TTYs que tienen operaciones de lectura y escritura actuando sobre flujos de datos desconectados. La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code> permite leer, escribir y buscar sobre un buffer en memoria.</p>
</li>
<li id="index-13"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code>: Proporciona funciones para leer y escribir cadenas (recuerde que las cadenas serán Unicode en Python 3.0), y soporta <a class="reference internal" href="../glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a>. <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code> define el método <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readline()</span></code></a> y soporta la iteración sobre objetos.</p>
<p>Hay dos implementaciones concretas. <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOWrapper</span></code> envuelve un objeto de E/S con buffer, soportando todos los métodos de E/S de texto y añadiendo un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">buffer</span></code> para acceder al objeto subyacente. <code class="xref py py-class docutils literal notranslate"><span class="pre">StringIO</span></code> simplemente almacena todo en memoria sin escribir nunca nada en el disco.</p>
<p>(En Python 2.6, <a class="reference internal" href="../library/io.html#io.StringIO" title="io.StringIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.StringIO</span></code></a> está implementado en Python puro, por lo que es bastante lento.   Por lo tanto, deberías seguir con el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">StringIO</span></code> existente o con <code class="xref py py-mod docutils literal notranslate"><span class="pre">cStringIO</span></code> por ahora.  En algún momento el módulo <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a> de Python 3.0 será reescrito en C para aumentar la velocidad, y quizás la implementación en C será retroalimentada a las versiones 2.x)</p>
</li>
</ul>
<p>En Python 2.6, las implementaciones subyacentes no han sido reestructuradas para construir sobre las clases del módulo <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a>.  El módulo se proporciona para facilitar la escritura de código compatible con la versión 3.0, y para ahorrar a los desarrolladores el esfuerzo de escribir sus propias implementaciones de búfer y E/S de texto.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-62"></span><a class="pep reference external" href="https://peps.python.org/pep-3116/"><strong>PEP 3116</strong></a> - Nueva E/S</dt><dd><p>PEP escrito por Daniel Stutzbach, Mike Verdone y Guido van Rossum. Código de Guido van Rossum, Georg Brandl, Walter Doerwald, Jeremy Hylton, Martin von Löwis, Tony Lownds y otros.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3118-revised-buffer-protocol">
<span id="pep-3118"></span><h2>PEP 3118: Protocolo revisado de la memoria intermedia<a class="headerlink" href="#pep-3118-revised-buffer-protocol" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El protocolo de búferes es una API de nivel C que permite a los tipos de Python intercambiar punteros a sus representaciones internas.  Un archivo mapeado en memoria puede ser visto como un buffer de caracteres, por ejemplo, y esto permite que otro módulo como <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a> trate los archivos mapeados en memoria como una cadena de caracteres a buscar.</p>
<p>Los principales usuarios del protocolo de búferes son los paquetes de procesamiento numérico como NumPy, que exponen la representación interna de los arrays para que los invocadores puedan escribir datos directamente en un array en lugar de pasar por una API más lenta.  Este PEP actualiza el protocolo de búfer a la luz de la experiencia del desarrollo de NumPy, añadiendo una serie de nuevas características como la indicación de la forma de un array o el bloqueo de una región de memoria.</p>
<p>La nueva función más importante de la API en C es <code class="docutils literal notranslate"><span class="pre">PyObject_GetBuffer(PyObject</span> <span class="pre">*obj,</span> <span class="pre">Py_buffer</span> <span class="pre">*view,</span> <span class="pre">int</span> <span class="pre">flags)</span></code>, que toma un objeto y un conjunto de flags, y rellena la estructura <code class="docutils literal notranslate"><span class="pre">Py_buffer</span></code> con información sobre la representación en memoria del objeto.  Los objetos pueden utilizar esta operación para bloquear la memoria en su lugar mientras un llamador externo podría estar modificando el contenido, por lo que hay un correspondiente <code class="docutils literal notranslate"><span class="pre">PyBuffer_Release(Py_buffer</span> <span class="pre">*view)</span></code> para indicar que el llamador externo ha terminado.</p>
<p>El argumento <em>flags</em> de <a class="reference internal" href="../c-api/buffer.html#c.PyObject_GetBuffer" title="PyObject_GetBuffer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_GetBuffer()</span></code></a> especifica las restricciones de la memoria devuelta.  Algunos ejemplos son:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-const docutils literal notranslate"><span class="pre">PyBUF_WRITABLE</span></code> indica que la memoria debe ser escribible.</p></li>
<li><p><code class="xref py py-const docutils literal notranslate"><span class="pre">PyBUF_LOCK</span></code> solicita un bloqueo de sólo lectura o exclusivo en la memoria.</p></li>
<li><p><code class="xref py py-const docutils literal notranslate"><span class="pre">PyBUF_C_CONTIGUOUS</span></code> y <code class="xref py py-const docutils literal notranslate"><span class="pre">PyBUF_F_CONTIGUOUS</span></code> solicitan una disposición de matriz contigua en C (la última dimensión varía más rápidamente) o contigua en Fortran (la primera dimensión varía más rápidamente).</p></li>
</ul>
</div></blockquote>
<p>Dos nuevos códigos de argumento para <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a>, <code class="docutils literal notranslate"><span class="pre">s*</span></code> y <code class="docutils literal notranslate"><span class="pre">z*</span></code>, devuelven objetos buffer bloqueados para un parámetro.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-63"></span><a class="pep reference external" href="https://peps.python.org/pep-3118/"><strong>PEP 3118</strong></a> - Revisión del protocolo del buffer</dt><dd><p>PEP escrito por Travis Oliphant y Carl Banks; implementado por Travis Oliphant.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3119-abstract-base-classes">
<span id="pep-3119"></span><h2>PEP 3119: Clases base abstractas<a class="headerlink" href="#pep-3119-abstract-base-classes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Algunos lenguajes orientados a objetos, como Java, admiten interfaces, que declaran que una clase tiene un determinado conjunto de métodos o admite un determinado protocolo de acceso.  Las clases base abstractas (o ABC) son una característica equivalente para Python. El soporte de ABC consiste en un módulo <a class="reference internal" href="../library/abc.html#module-abc" title="abc: Abstract base classes according to :pep:`3119`."><code class="xref py py-mod docutils literal notranslate"><span class="pre">abc</span></code></a> que contiene una metaclase llamada <code class="xref py py-class docutils literal notranslate"><span class="pre">ABCMeta</span></code>, un manejo especial de esta metaclase por parte de los builtins <a class="reference internal" href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> y <a class="reference internal" href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">issubclass()</span></code></a>, y una colección de ABCs básicas que los desarrolladores de Python creen que serán ampliamente útiles.  Las futuras versiones de Python probablemente añadirán más ABCs.</p>
<p>Supongamos que tiene una clase concreta y desea saber si admite el acceso tipo diccionario.  Sin embargo, la frase «estilo diccionario» es vaga. Probablemente significa que el acceso a los elementos con <code class="docutils literal notranslate"><span class="pre">obj[1]</span></code> funciona. ¿Implica que el establecimiento de elementos con <code class="docutils literal notranslate"><span class="pre">obj[2]</span> <span class="pre">=</span> <span class="pre">valor</span></code> funciona? ¿O que el objeto tendrá métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">values()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code>?  ¿Qué pasa con las variantes iterativas como <code class="xref py py-meth docutils literal notranslate"><span class="pre">iterkeys()</span></code>? <a class="reference internal" href="../library/copy.html#module-copy" title="copy: Shallow and deep copy operations."><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy()</span></code></a> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code>?  ¿Iterar sobre el objeto con <a class="reference internal" href="../library/functions.html#iter" title="iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter()</span></code></a>?</p>
<p>El módulo <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> de Python 2.6 incluye un número de ABCs diferentes que representan estas distinciones. <code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code> indica que una clase define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code>, y <code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code> significa que la clase define un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__contains__()</span></code> y por lo tanto soporta expresiones <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">y</span></code>.  La interfaz básica del diccionario para obtener elementos, establecer elementos, y <code class="xref py py-meth docutils literal notranslate"><span class="pre">llaves()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">valores()</span></code>, y <code class="xref py py-meth docutils literal notranslate"><span class="pre">elementos()</span></code>, está definida por el <code class="xref py py-class docutils literal notranslate"><span class="pre">MutableMapping</span></code> ABC.</p>
<p>Puedes derivar tus propias clases de un ABC particular para indicar que soportan la interfaz de ese ABC:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>

<span class="k">class</span> <span class="nc">Storage</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">MutableMapping</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Alternativamente, puede escribir la clase sin derivar del ABC deseado y en su lugar registrar la clase llamando al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> del ABC:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>

<span class="k">class</span> <span class="nc">Storage</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">collections</span><span class="o">.</span><span class="n">MutableMapping</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Storage</span><span class="p">)</span>
</pre></div>
</div>
<p>Para las clases que usted escribe, derivar del ABC es probablemente más claro. El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code> es útil cuando has escrito un nuevo ABC que puede describir un tipo o clase existente, o si quieres declarar que alguna clase de terceros implementa un ABC. Por ejemplo, si has definido un <code class="xref py py-class docutils literal notranslate"><span class="pre">PrintableType</span></code> ABC, es legal hacer:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Register Python&#39;s types</span>
<span class="n">PrintableType</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">PrintableType</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">PrintableType</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
<p>Las clases deben obedecer la semántica especificada por un ABC, pero Python no puede comprobarlo; depende del autor de la clase entender los requisitos del ABC e implementar el código en consecuencia.</p>
<p>Para comprobar si un objeto es compatible con una determinada interfaz, ahora se puede escribir:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">MutableMapping</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Mapping object expected, not </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>No sientas que ahora debes empezar a escribir muchas comprobaciones como en el ejemplo anterior.  Python tiene una fuerte tradición de «duck-typing», donde la comprobación explícita de tipos nunca se hace y el código simplemente llama a los métodos de un objeto, confiando en que esos métodos estarán ahí y lanzando una excepción si no lo están.  Sea juicioso al comprobar el ABC y hágalo sólo cuando sea absolutamente necesario.</p>
<p>Puedes escribir tu propio ABC utilizando <code class="docutils literal notranslate"><span class="pre">abc.ABCMeta</span></code> como metaclase en una definición de clase:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABCMeta</span><span class="p">,</span> <span class="n">abstractmethod</span>

<span class="k">class</span> <span class="nc">Drawable</span><span class="p">():</span>
    <span class="n">__metaclass__</span> <span class="o">=</span> <span class="n">ABCMeta</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">draw_doubled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Square</span><span class="p">(</span><span class="n">Drawable</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scale</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>En el ABC de <code class="xref py py-class docutils literal notranslate"><span class="pre">Drawable</span></code> anterior, el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">draw_doubled()</span></code> renderiza el objeto al doble de su tamaño y puede ser implementado en términos de otros métodos descritos en <code class="xref py py-class docutils literal notranslate"><span class="pre">Drawable</span></code>.  Las clases que implementan este ABC no necesitan proporcionar su propia implementación de <code class="xref py py-meth docutils literal notranslate"><span class="pre">draw_doubled()</span></code>, aunque pueden hacerlo.  Sin embargo, es necesaria una implementación de <code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code>; el ABC no puede proporcionar una implementación genérica útil.</p>
<p>Puedes aplicar el decorador <code class="docutils literal notranslate"><span class="pre">&#64;abstractmethod</span></code> a métodos como <code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code> que deben ser implementados; Python lanzará una excepción para las clases que no definan el método. Ten en cuenta que la excepción sólo se produce cuando intentas crear una instancia de una subclase que carece del método:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Circle</span><span class="p">(</span><span class="n">Drawable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">Can&#39;t instantiate abstract class Circle with abstract methods draw</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Los atributos de datos abstractos pueden declararse utilizando el decorador <code class="docutils literal notranslate"><span class="pre">&#64;abstractproperty</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractproperty</span>
<span class="o">...</span>

<span class="nd">@abstractproperty</span>
<span class="k">def</span> <span class="nf">readonly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>
</pre></div>
</div>
<p>Las subclases deben definir una propiedad <code class="xref py py-meth docutils literal notranslate"><span class="pre">readonly()</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-64"></span><a class="pep reference external" href="https://peps.python.org/pep-3119/"><strong>PEP 3119</strong></a> - Presentación de las clases base abstractas</dt><dd><p>PEP escrito por Guido van Rossum y Talin. Implementado por Guido van Rossum. Adaptado a la versión 2.6 por Benjamin Aranguren, con Alex Martelli.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3127-integer-literal-support-and-syntax">
<span id="pep-3127"></span><h2>PEP 3127: Soporte y sintaxis de literales enteros<a class="headerlink" href="#pep-3127-integer-literal-support-and-syntax" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Python 3.0 cambia la sintaxis de los literales enteros octales (base-8), prefijándolos con «0o» o «0O» en lugar de un cero inicial, y añade soporte para los literales enteros binarios (base-2), señalados con un prefijo «0b» o «0B».</p>
<p>Python 2.6 no elimina el soporte para el 0 inicial que señala un número octal, pero sí añade soporte para «0o» y «0b»:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mo">0o21</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">8</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">(17, 17)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mb">0b101111</span>
<span class="go">47</span>
</pre></div>
</div>
<p>La función <a class="reference internal" href="../library/functions.html#oct" title="oct"><code class="xref py py-func docutils literal notranslate"><span class="pre">oct()</span></code></a> sigue devolviendo números prefijados con un cero a la izquierda, y la nueva función <a class="reference internal" href="../library/functions.html#bin" title="bin"><code class="xref py py-func docutils literal notranslate"><span class="pre">bin()</span></code></a> devuelve la representación binaria de un número:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">oct</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;052&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">future_builtins</span><span class="o">.</span><span class="n">oct</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;0o52&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bin</span><span class="p">(</span><span class="mi">173</span><span class="p">)</span>
<span class="go">&#39;0b10101101&#39;</span>
</pre></div>
</div>
<p>Las funciones built-in <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> y <code class="xref py py-func docutils literal notranslate"><span class="pre">long()</span></code> aceptarán ahora los prefijos «0o» y «0b» cuando se solicite base-8 o base-2, o cuando el argumento <em>base</em> sea cero (indicando que la base utilizada debe determinarse a partir de la cadena):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span> <span class="p">(</span><span class="s1">&#39;0o52&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;0b1101&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;0b1101&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">13</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-65"></span><a class="pep reference external" href="https://peps.python.org/pep-3127/"><strong>PEP 3127</strong></a> - Soporte y sintaxis de literales enteros</dt><dd><p>PEP escrito por Patrick Maupin; retroalimentado a 2.6 por Eric Smith.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3129-class-decorators">
<span id="pep-3129"></span><h2>PEP 3129: Decoradores de clase<a class="headerlink" href="#pep-3129-class-decorators" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los decoradores se han ampliado de funciones a clases.  Ahora es legal escribir:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@foo</span>
<span class="nd">@bar</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
  <span class="k">pass</span>
</pre></div>
</div>
<p>Esto equivale a:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
  <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">bar</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-66"></span><a class="pep reference external" href="https://peps.python.org/pep-3129/"><strong>PEP 3129</strong></a> - Decoradores de clase</dt><dd><p>PEP escrito por Collin Winter.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-3141-a-type-hierarchy-for-numbers">
<span id="pep-3141"></span><h2>PEP 3141: Una jerarquía de tipos para los números<a class="headerlink" href="#pep-3141-a-type-hierarchy-for-numbers" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Python 3.0 añade varias clases base abstractas para tipos numéricos inspiradas en la torre numérica de Scheme.  Estas clases fueron retrocedidas a la versión 2.6 como el módulo <a class="reference internal" href="../library/numbers.html#module-numbers" title="numbers: Numeric abstract base classes (Complex, Real, Integral, etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">numbers</span></code></a>.</p>
<p>El ABC más general es <code class="xref py py-class docutils literal notranslate"><span class="pre">Number</span></code>.  No define ninguna operación, y sólo existe para permitir comprobar si un objeto es un número haciendo <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">Number)</span></code>.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Complex</span></code> es una subclase de <code class="xref py py-class docutils literal notranslate"><span class="pre">Number</span></code>.  Los números complejos pueden someterse a las operaciones básicas de suma, resta, multiplicación, división y exponenciación, y se pueden recuperar las partes real e imaginaria y obtener el conjugado de un número.  El tipo complejo incorporado en Python es una implementación de <code class="xref py py-class docutils literal notranslate"><span class="pre">Complex</span></code>.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code> deriva a su vez de <code class="xref py py-class docutils literal notranslate"><span class="pre">Complex</span></code>, y añade operaciones que sólo funcionan con números reales: <code class="xref py py-func docutils literal notranslate"><span class="pre">floor()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">trunc()</span></code>, redondeo, toma del resto mod N, división por defecto y comparaciones.</p>
<p>Los números <code class="xref py py-class docutils literal notranslate"><span class="pre">Rational</span></code> derivan de <code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code>, tienen las propiedades <code class="xref py py-attr docutils literal notranslate"><span class="pre">numerator</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">denominator</span></code>, y se pueden convertir en flotantes.  Python 2.6 añade una clase simple de números racionales, <code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code>, en el módulo <a class="reference internal" href="../library/fractions.html#module-fractions" title="fractions: Rational numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a>.  (Se llama <code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code> en lugar de <code class="xref py py-class docutils literal notranslate"><span class="pre">Rational</span></code> para evitar un choque de nombres con <a class="reference internal" href="../library/numbers.html#numbers.Rational" title="numbers.Rational"><code class="xref py py-class docutils literal notranslate"><span class="pre">numbers.Rational</span></code></a>)</p>
<p>Los números de <code class="xref py py-class docutils literal notranslate"><span class="pre">Integral</span></code> derivan de <code class="xref py py-class docutils literal notranslate"><span class="pre">Rational</span></code>, y pueden desplazarse a la izquierda y a la derecha con <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> y <code class="docutils literal notranslate"><span class="pre">&gt;`</span></code>, combinarse utilizando operaciones de bits como <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> y <code class="docutils literal notranslate"><span class="pre">|</span></code>, y pueden utilizarse como índices de matrices y límites de cortes.</p>
<p>En Python 3.0, el PEP redefine ligeramente las funciones integradas existentes <a class="reference internal" href="../library/functions.html#round" title="round"><code class="xref py py-func docutils literal notranslate"><span class="pre">round()</span></code></a>, <a class="reference internal" href="../library/math.html#math.floor" title="math.floor"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.floor()</span></code></a>, <a class="reference internal" href="../library/math.html#math.ceil" title="math.ceil"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.ceil()</span></code></a>, y añade uno nuevo, <a class="reference internal" href="../library/math.html#math.trunc" title="math.trunc"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.trunc()</span></code></a>, que ha sido retrocedido a Python 2.6. <a class="reference internal" href="../library/math.html#math.trunc" title="math.trunc"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.trunc()</span></code></a> redondea hacia cero, devolviendo el <code class="xref py py-class docutils literal notranslate"><span class="pre">Integral</span></code> más cercano que esté entre el argumento de la función y cero.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-67"></span><a class="pep reference external" href="https://peps.python.org/pep-3141/"><strong>PEP 3141</strong></a> - Una jerarquía de tipos para los números</dt><dd><p>PEP escrito por Jeffrey Yasskin.</p>
</dd>
</dl>
<p><a class="reference external" href="https://www.gnu.org/software/guile/manual/html_node/Numerical-Tower.html#Numerical-Tower">Torre numérica del esquema</a>, del manual de Guile.</p>
<p><a class="reference external" href="https://schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-9.html#%_sec_6.2">Scheme’s number datatypes</a> de la especificación del esquema R5RS.</p>
</div>
<section id="the-fractions-module">
<h3>El módulo <a class="reference internal" href="../library/fractions.html#module-fractions" title="fractions: Rational numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a><a class="headerlink" href="#the-fractions-module" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para completar la jerarquía de tipos numéricos, el módulo <a class="reference internal" href="../library/fractions.html#module-fractions" title="fractions: Rational numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a> proporciona una clase de números racionales.  Los números racionales almacenan sus valores como un numerador y un denominador que forman una fracción, y pueden representar exactamente números como <code class="docutils literal notranslate"><span class="pre">2/3</span></code> que los números de punto flotante sólo pueden aproximar.</p>
<p>El constructor <code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code> toma dos valores <code class="xref py py-class docutils literal notranslate"><span class="pre">Integral</span></code> que serán el numerador y el denominador de la fracción resultante.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">(0.66666666666666663, 0.40000000000000002)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">+</span><span class="n">b</span>
<span class="go">Fraction(16, 15)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">/</span><span class="n">b</span>
<span class="go">Fraction(5, 3)</span>
</pre></div>
</div>
<p>Para convertir números de punto flotante en racionales, el tipo float tiene ahora un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_integer_ratio()</span></code> que devuelve el numerador y el denominador de una fracción que se evalúa al mismo valor de punto flotante:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span> <span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()</span>
<span class="go">(5, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">3.1415</span><span class="p">)</span> <span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()</span>
<span class="go">(7074029114692207L, 2251799813685248L)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()</span>
<span class="go">(6004799503160661L, 18014398509481984L)</span>
</pre></div>
</div>
<p>Tenga en cuenta que los valores que sólo pueden ser aproximados por números de punto flotante, como 1,/3, no se simplifican al número que se está aproximando; la fracción intenta coincidir con el valor de punto flotante <strong>exactamente</strong>.</p>
<p>El módulo <a class="reference internal" href="../library/fractions.html#module-fractions" title="fractions: Rational numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a> se basa en una implementación de Sjoerd Mullender que estuvo en el directorio <code class="file docutils literal notranslate"><span class="pre">Demo/classes/</span></code> de Python durante mucho tiempo.  Esta implementación fue significativamente actualizada por Jeffrey Yasskin.</p>
</section>
</section>
<section id="other-language-changes">
<h2>Otros cambios lingüísticos<a class="headerlink" href="#other-language-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Algunos de los cambios más pequeños realizados en el núcleo del lenguaje Python son:</p>
<ul>
<li><p>Los directorios y archivos zip que contengan un archivo <code class="file docutils literal notranslate"><span class="pre">__main__.py</span></code> pueden ahora ejecutarse directamente pasando su nombre al intérprete. El directorio o archivo zip se inserta automáticamente como la primera entrada en sys.path.  (Sugerencia y parche inicial de Andy Chu, revisado posteriormente por Phillip J. Eby y Nick Coghlan; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1739468">bpo-1739468</a>)</p></li>
<li><p>La función <a class="reference internal" href="../library/functions.html#hasattr" title="hasattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">hasattr()</span></code></a> estaba capturando e ignorando todos los errores, bajo la suposición de que significaban que un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code> estaba fallando de alguna manera y que el valor de retorno de <a class="reference internal" href="../library/functions.html#hasattr" title="hasattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">hasattr()</span></code></a> sería por tanto <code class="docutils literal notranslate"><span class="pre">False</span></code>.  Esta lógica no debería aplicarse a <a class="reference internal" href="../library/exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a> y <a class="reference internal" href="../library/exceptions.html#SystemExit" title="SystemExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a>, sin embargo; Python 2.6 ya no descartará tales excepciones cuando <a class="reference internal" href="../library/functions.html#hasattr" title="hasattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">hasattr()</span></code></a> las encuentre.  (Corregido por Benjamin Peterson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2196">bpo-2196</a>.)</p></li>
<li><p>Cuando se llama a una función utilizando la sintaxis <code class="docutils literal notranslate"><span class="pre">**</span></code> para proporcionar argumentos de palabras clave, ya no es necesario utilizar un diccionario de Python; ahora funcionará cualquier asignación:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">):</span>
<span class="gp">... </span>   <span class="nb">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ud</span><span class="o">=</span><span class="n">UserDict</span><span class="o">.</span><span class="n">UserDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ud</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ud</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">ud</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;]</span>
</pre></div>
</div>
<p>(Contribución de Alexander Belopolsky; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1686487">bpo-1686487</a>.)</p>
<p>También se ha convertido en legal proporcionar argumentos de palabras clave después de un argumento <code class="docutils literal notranslate"><span class="pre">*args</span></code> a una llamada de función.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">keyword</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="go">(1, 2, 3, 4, 5, 6) {&#39;keyword&#39;: 13}</span>
</pre></div>
</div>
<p>Anteriormente, esto habría sido un error de sintaxis. (Contribución de Amaury Forgeot d’Arc; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3473">bpo-3473</a>.)</p>
</li>
<li><p>Un nuevo builtin, <code class="docutils literal notranslate"><span class="pre">next(iterator,</span> <span class="pre">[default])</span></code> devuelve el siguiente elemento del iterador especificado.  Si se suministra el argumento <em>default</em>, se devolverá si <em>iterador</em> se ha agotado; en caso contrario, se lanzará la excepción <a class="reference internal" href="../library/exceptions.html#StopIteration" title="StopIteration"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a>.  (Se ha modificado en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2719">bpo-2719</a>.)</p></li>
<li><p>Las tuplas tienen ahora métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">index()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">count()</span></code> que coinciden con los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">index()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">count()</span></code> del tipo lista:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>(Contribución de Raymond Hettinger)</p>
</li>
<li><p>Los tipos incorporados tienen ahora un soporte mejorado para la sintaxis de corte extendida, aceptando varias combinaciones de <code class="docutils literal notranslate"><span class="pre">(inicio,</span> <span class="pre">parada,</span> <span class="pre">paso)</span></code>. Anteriormente, el soporte era parcial y algunos casos de esquina no funcionaban. (Implementado por Thomas Wouters)</p>
</li>
<li><p>Las propiedades tienen ahora tres atributos, <code class="xref py py-attr docutils literal notranslate"><span class="pre">getter</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">setter</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">deleter</span></code>, que son decoradores que proporcionan atajos útiles para añadir una función getter, setter o deleter a una propiedad existente. Los usarás así:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

    <span class="nd">@x</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@x</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

<span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
    <span class="nd">@C</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">getter</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="nd">@x</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">value</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p>Varios métodos de los tipos de conjuntos incorporados aceptan ahora múltiples iterables: <code class="xref py py-meth docutils literal notranslate"><span class="pre">intersection()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">intersection_update()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">union()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">difference()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">difference_update()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="s1">&#39;1234567890&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="s1">&#39;abc123&#39;</span><span class="p">,</span> <span class="s1">&#39;cdf246&#39;</span><span class="p">)</span>  <span class="c1"># Intersection between all inputs</span>
<span class="go">set([&#39;2&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="s1">&#39;246&#39;</span><span class="p">,</span> <span class="s1">&#39;789&#39;</span><span class="p">)</span>
<span class="go">set([&#39;1&#39;, &#39;0&#39;, &#39;3&#39;, &#39;5&#39;])</span>
</pre></div>
</div>
<p>(Contribución de Raymond Hettinger.)</p>
</li>
<li><p>Se han añadido muchas funciones de punto flotante.  La función <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code></a> ahora convertirá la cadena <code class="docutils literal notranslate"><span class="pre">nan</span></code> en un valor IEEE 754 Not A Number, y <code class="docutils literal notranslate"><span class="pre">+inf</span></code> y <code class="docutils literal notranslate"><span class="pre">-inf</span></code> en infinito positivo o negativo.  Esto funciona en cualquier plataforma con semántica IEEE 754.  (Contribución de Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1635">bpo-1635</a>.)</p>
<p>Otras funciones del módulo <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code>, devuelven true si su argumento en coma flotante es infinito o No es un número.  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1640">bpo-1640</a>)</p>
<p>Se han añadido funciones de conversión para convertir números de punto flotante en cadenas hexadecimales (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3008">bpo-3008</a>).  Estas funciones convierten los números flotantes a y desde una representación de cadena sin introducir errores de redondeo por la conversión entre decimal y binario.  Los flotadores tienen un método <a class="reference internal" href="../library/functions.html#hex" title="hex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hex()</span></code></a> que devuelve una representación de cadena, y el método <code class="docutils literal notranslate"><span class="pre">float.fromhex()</span></code> convierte una cadena de nuevo en un número:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mf">3.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span>
<span class="go">&#39;0x1.e000000000000p+1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s1">&#39;0x1.e000000000000p+1&#39;</span><span class="p">)</span>
<span class="go">3.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span>
<span class="go">&#39;0x1.5555555555555p-2&#39;</span>
</pre></div>
</div>
</li>
<li><p>Un detalle numérico: cuando se crea un número complejo a partir de dos flotantes en sistemas que admiten ceros con signo (-0 y +0), el constructor <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-func docutils literal notranslate"><span class="pre">complex()</span></code></a> conserva ahora el signo del cero.  (Corregido por Mark T. Dickinson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1507">bpo-1507</a>.)</p></li>
<li><p>Las clases que heredan un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hash__()</span></code> de una clase padre pueden establecer <code class="docutils literal notranslate"><span class="pre">__hash__</span> <span class="pre">=</span> <span class="pre">None</span></code> para indicar que la clase no es hashable.  Esto hará que <code class="docutils literal notranslate"><span class="pre">hash(obj)</span></code> lance un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> y la clase no será indicada como implementando el ABC de <code class="xref py py-class docutils literal notranslate"><span class="pre">Hashable</span></code>.</p>
<p>Debes hacer esto cuando hayas definido un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__cmp__()</span></code> o <code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code> que compare objetos por su valor en lugar de por su identidad.  Todos los objetos tienen un método hash por defecto que utiliza <code class="docutils literal notranslate"><span class="pre">id(obj)</span></code> como valor hash.  No hay una forma ordenada de eliminar el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hash__()</span></code> heredado de una clase padre, por lo que la asignación de <code class="docutils literal notranslate"><span class="pre">None</span></code> fue implementada como una sobreescritura.  A nivel de C, las extensiones pueden establecer <code class="docutils literal notranslate"><span class="pre">tp_hash</span></code> a <a class="reference internal" href="../c-api/object.html#c.PyObject_HashNotImplemented" title="PyObject_HashNotImplemented"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_HashNotImplemented()</span></code></a>. (Corregido por Nick Coghlan y Amaury Forgeot d’Arc; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2235">bpo-2235</a>.)</p>
</li>
<li><p>La excepción <a class="reference internal" href="../library/exceptions.html#GeneratorExit" title="GeneratorExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">GeneratorExit</span></code></a> ahora subclasa <a class="reference internal" href="../library/exceptions.html#BaseException" title="BaseException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BaseException</span></code></a> en lugar de <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code></a>.  Esto significa que un manejador de excepciones que haga <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception:</span></code> no atrapará inadvertidamente <a class="reference internal" href="../library/exceptions.html#GeneratorExit" title="GeneratorExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">GeneratorExit</span></code></a>. (Contribuido por Chad Austin; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1537">bpo-1537</a>.)</p></li>
<li><p>Los objetos generadores tienen ahora un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">gi_code</span></code> que hace referencia al objeto de código original que respalda al generador. (Contribución de Collin Winter; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1473257">bpo-1473257</a>.)</p></li>
<li><p>La función incorporada <a class="reference internal" href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> ahora acepta argumentos de palabras clave así como parámetros posicionales.  (Contribución de Thomas Wouters; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1444529">bpo-1444529</a>.)</p></li>
<li><p>El constructor <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-func docutils literal notranslate"><span class="pre">complex()</span></code></a> ahora acepta cadenas que contengan números complejos entre paréntesis, lo que significa que <code class="docutils literal notranslate"><span class="pre">complex(repr(cplx))</span></code> ahora redondeará los valores.  Por ejemplo, <code class="docutils literal notranslate"><span class="pre">complex('(3+4j)')</span></code> ahora devuelve el valor (3+4j).  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1491866">bpo-1491866</a>)</p></li>
<li><p>El método string <code class="xref py py-meth docutils literal notranslate"><span class="pre">translate()</span></code> acepta ahora <code class="docutils literal notranslate"><span class="pre">None</span></code> como parámetro de la tabla de traducción, que se trata como la transformación de identidad.   Esto facilita la realización de operaciones que sólo eliminan caracteres.  (Contribuido por Bengt Richter e implementado por Raymond Hettinger; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1193128">bpo-1193128</a>)</p></li>
<li><p>La función incorporada <a class="reference internal" href="../library/functions.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> ahora comprueba si existe un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__dir__()</span></code> en los objetos que recibe.  Este método debe devolver una lista de cadenas que contengan los nombres de los atributos válidos para el objeto, y permite al objeto controlar el valor que <a class="reference internal" href="../library/functions.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> produce. Los objetos que tienen métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code> o <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattribute__()</span></code> pueden usar esto para anunciar los pseudo-atributos que respetarán. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1591665">bpo-1591665</a>)</p></li>
<li><p>Los objetos de método de instancia tienen nuevos atributos para el objeto y la función que comprende el método; el nuevo sinónimo de <code class="xref py py-attr docutils literal notranslate"><span class="pre">im_self</span></code> es <code class="xref py py-attr docutils literal notranslate"><span class="pre">__self__</span></code>, y <code class="xref py py-attr docutils literal notranslate"><span class="pre">im_func</span></code> también está disponible como <code class="xref py py-attr docutils literal notranslate"><span class="pre">__func__</span></code>. Los nombres antiguos todavía se soportan en Python 2.6, pero han desaparecido en la 3.0.</p></li>
<li><p>Un cambio oscuro: cuando se utiliza la función <a class="reference internal" href="../library/functions.html#locals" title="locals"><code class="xref py py-func docutils literal notranslate"><span class="pre">locals()</span></code></a> dentro de una sentencia <a class="reference internal" href="../reference/compound_stmts.html#class"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">class</span></code></a>, el diccionario resultante ya no devuelve variables libres.  (Las variables libres, en este caso, son variables referenciadas en la sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">class</span></code> que no son atributos de la clase)</p></li>
</ul>
<section id="optimizations">
<h3>Optimizaciones<a class="headerlink" href="#optimizations" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>El módulo <a class="reference internal" href="../library/warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> ha sido reescrito en C. Esto hace posible invocar advertencias desde el analizador sintáctico, y también puede hacer que el arranque del intérprete sea más rápido. (Contribuido por Neal Norwitz y Brett Cannon; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1631171">bpo-1631171</a>.)</p></li>
<li><p>Los objetos de tipo tienen ahora una caché de métodos que puede reducir el trabajo necesario para encontrar la implementación del método correcto para una clase en particular; una vez almacenada en la caché, el intérprete no necesita recorrer las clases base para averiguar el método correcto a llamar. La caché se borra si una clase base o la propia clase se modifica, por lo que la caché debería seguir siendo correcta incluso ante la naturaleza dinámica de Python. (Optimización original implementada por Armin Rigo, actualizada para Python 2.6 por Kevin Jacobs; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1700288">bpo-1700288</a>.)</p>
<p>Por defecto, este cambio sólo se aplica a los tipos que se incluyen con el núcleo de Python.  Los módulos de extensión no son necesariamente compatibles con esta caché, por lo que deben añadir explícitamente <code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_HAVE_VERSION_TAG</span></code> al campo <code class="docutils literal notranslate"><span class="pre">tp_flags</span></code> del módulo para habilitar la caché de métodos. (Para ser compatible con la caché de métodos, el código del módulo de extensión no debe acceder directamente ni modificar el miembro <code class="docutils literal notranslate"><span class="pre">tp_dict</span></code> de ninguno de los tipos que implementa.  La mayoría de los módulos no lo hacen, pero es imposible que el intérprete de Python lo determine. Ver <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1878">bpo-1878</a> para una discusión)</p>
</li>
<li><p>Las llamadas a funciones que utilizan argumentos de palabras clave son significativamente más rápidas al hacer una comparación rápida de punteros, lo que suele ahorrar el tiempo de una comparación completa de cadenas.  (Contribución de Raymond Hettinger, tras una implementación inicial de Antoine Pitrou; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1819">bpo-1819</a>)</p></li>
<li><p>Todas las funciones del módulo <a class="reference internal" href="../library/struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><code class="xref py py-mod docutils literal notranslate"><span class="pre">struct</span></code></a> han sido reescritas en C, gracias al trabajo en el sprint de Need For Speed. (Contribución de Raymond Hettinger)</p></li>
<li><p>Algunos de los tipos estándar incorporados ahora establecen un bit en sus objetos de tipo.  Esto acelera la comprobación de si un objeto es una subclase de uno de estos tipos.  (Contribución de Neal Norwitz)</p></li>
<li><p>Las cadenas Unicode utilizan ahora un código más rápido para detectar los espacios en blanco y los saltos de línea; esto acelera el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code> en un 25% a y <code class="xref py py-meth docutils literal notranslate"><span class="pre">splitlines()</span></code> en un 35%. (Contribuido por Antoine Pitrou.) El uso de la memoria se reduce utilizando pymalloc para los datos de la cadena Unicode.</p></li>
<li><p>La sentencia <code class="docutils literal notranslate"><span class="pre">with</span></code> ahora almacena el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code> en la pila, produciendo un pequeño aumento de velocidad.  (Implementado por Jeffrey Yasskin)</p></li>
<li><p>Para reducir el uso de memoria, el recolector de basura ahora borrará las listas libres internas cuando recolecte la generación más alta de objetos. Esto puede devolver la memoria al sistema operativo antes.</p></li>
</ul>
</section>
<section id="interpreter-changes">
<span id="new-26-interpreter"></span><h3>Cambios de intérprete<a class="headerlink" href="#interpreter-changes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se han reservado dos opciones de la línea de comandos para su uso por otras implementaciones de Python.  La opción <a class="reference internal" href="../using/cmdline.html#cmdoption-J"><code class="xref std std-option docutils literal notranslate"><span class="pre">-J</span></code></a> se ha reservado para su uso por parte de Jython para las opciones específicas de Jython, como los interruptores que se pasan a la JVM subyacente. <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> se ha reservado para las opciones específicas de una implementación particular de Python como CPython, Jython o IronPython.  Si cualquiera de estas opciones se utiliza con Python 2.6, el intérprete informará de que la opción no se utiliza actualmente.</p>
<p>Ahora se puede evitar que Python escriba archivos <code class="file docutils literal notranslate"><span class="pre">.pyc</span></code> o <code class="file docutils literal notranslate"><span class="pre">.pyo</span></code> proporcionando el modificador <a class="reference internal" href="../using/cmdline.html#cmdoption-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a> al intérprete de Python, o estableciendo la variable de entorno <span class="target" id="index-68"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDONTWRITEBYTECODE</span></code></a> antes de ejecutar el intérprete.  Esta configuración está disponible para los programas de Python como la variable <code class="docutils literal notranslate"><span class="pre">sys.dont_write_bytecode</span></code>, y el código de Python puede cambiar el valor para modificar el comportamiento del intérprete.  (Contribución de Neal Norwitz y Georg Brandl)</p>
<p>La codificación utilizada para la entrada, la salida y el error estándar puede especificarse estableciendo la variable de entorno <span class="target" id="index-69"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONIOENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONIOENCODING</span></code></a> antes de ejecutar el intérprete.  El valor debe ser una cadena de la forma <code class="docutils literal notranslate"><span class="pre">&lt;encoding&gt;</span></code> o <code class="docutils literal notranslate"><span class="pre">&lt;encoding&gt;:&lt;errorhandler&gt;</span></code>. La parte <em>encoding</em> especifica el nombre de la codificación, por ejemplo <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> o <code class="docutils literal notranslate"><span class="pre">latin-1</span></code>; la parte opcional <em>errorhandler</em> especifica qué hacer con los caracteres que no pueden ser manejados por la codificación, y debe ser una de las opciones «error», «ignorar» o «reemplazar».   (Contribución de Martin von Löwis)&lt;/errorhandler&gt;&lt;/encoding&gt;&lt;/encoding&gt;</p>
</section>
</section>
<section id="new-and-improved-modules">
<h2>Módulos nuevos y mejorados<a class="headerlink" href="#new-and-improved-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Como en cada versión, la biblioteca estándar de Python ha recibido una serie de mejoras y correcciones de errores.  Aquí hay una lista parcial de los cambios más notables, ordenados alfabéticamente por nombre de módulo. Consulta el archivo <code class="file docutils literal notranslate"><span class="pre">Misc/NEWS</span></code> en el árbol de fuentes para una lista más completa de cambios, o mira los registros de Subversion para todos los detalles.</p>
<ul>
<li><p>Los módulos <a class="reference internal" href="../library/asyncore.html#module-asyncore" title="asyncore: A base class for developing asynchronous socket handling services. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncore</span></code></a> y <a class="reference internal" href="../library/asynchat.html#module-asynchat" title="asynchat: Support for asynchronous command/response protocols. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asynchat</span></code></a> están siendo mantenidos activamente de nuevo, y se han aplicado varios parches y correcciones de errores.  (Mantenido por Josiah Carlson; véase <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1736190">bpo-1736190</a> para un parche)</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> también tiene un nuevo mantenedor, Jesús Cea Avión, y el paquete está ahora disponible como paquete independiente.  La página web del paquete es <a class="reference external" href="https://www.jcea.es/programacion/pybsddb.htm">www.jcea.es/programacion/pybsddb.htm</a>. El plan es eliminar el paquete de la biblioteca estándar en Python 3.0, porque su ritmo de lanzamientos es mucho más frecuente que el de Python.</p>
<p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb.dbshelve</span></code> utiliza ahora el protocolo de decapado más alto disponible, en lugar de limitarse al protocolo 1. (Contribución de W. Barnes.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/cgi.html#module-cgi" title="cgi: Helpers for running Python scripts via the Common Gateway Interface. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgi</span></code></a> leerá ahora las variables de la cadena de consulta de una petición HTTP POST.  Esto permite utilizar acciones de formulario con URLs que incluyen cadenas de consulta como «/cgi-bin/add.py?category=1».  (Contribución de Alexandre Fiori y Nubis; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1817">bpo-1817</a>.)</p>
<p>Las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_qs()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_qsl()</span></code> han sido reubicadas del módulo <a class="reference internal" href="../library/cgi.html#module-cgi" title="cgi: Helpers for running Python scripts via the Common Gateway Interface. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgi</span></code></a> al módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">urlparse</span></code>. Las versiones aún disponibles en el módulo <a class="reference internal" href="../library/cgi.html#module-cgi" title="cgi: Helpers for running Python scripts via the Common Gateway Interface. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgi</span></code></a> activarán los mensajes <a class="reference internal" href="../library/exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a> en la versión 2.6 (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=600362">bpo-600362</a>).</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/cmath.html#module-cmath" title="cmath: Mathematical functions for complex numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a> ha sido objeto de una amplia revisión, a la que han contribuido Mark Dickinson y Christian Heimes. Se han añadido cinco nuevas funciones:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">polar()</span></code> convierte un número complejo en forma polar, devolviendo el módulo y el argumento del número complejo.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">rect()</span></code> hace lo contrario, convirtiendo un par de módulos y argumentos en el correspondiente número complejo.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">phase()</span></code> devuelve el argumento (también llamado ángulo) de un número complejo.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code> devuelve True si la parte real o imaginaria de su argumento es un NaN.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code> devuelve True si la parte real o imaginaria de su argumento es infinita.</p></li>
</ul>
<p>Las revisiones también han mejorado la solidez numérica del módulo <a class="reference internal" href="../library/cmath.html#module-cmath" title="cmath: Mathematical functions for complex numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a>.  Para todas las funciones, las partes real e imaginaria de los resultados son exactas con unas pocas unidades de precisión mínima (ulps) siempre que sea posible.  Véase <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1381">bpo-1381</a> para los detalles.  También se han corregido los cortes de rama para <code class="xref py py-func docutils literal notranslate"><span class="pre">asinh()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">atanh()</span></code>: y <code class="xref py py-func docutils literal notranslate"><span class="pre">atan()</span></code>.</p>
<p>Las pruebas del módulo se han ampliado considerablemente; casi 2000 nuevos casos de prueba ejercitan las funciones algebraicas.</p>
<p>En las plataformas IEEE 754, el módulo <a class="reference internal" href="../library/cmath.html#module-cmath" title="cmath: Mathematical functions for complex numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a> maneja ahora los valores especiales IEEE 754 y las excepciones de punto flotante de forma consistente con el Anexo “G” del estándar C99.</p>
</li>
<li><p>Un nuevo tipo de datos en el módulo <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a>: <code class="xref py py-class docutils literal notranslate"><span class="pre">namedtuple(typename,</span> <span class="pre">fieldnames)</span></code> es una función de fábrica que crea subclases de la tupla estándar cuyos campos son accesibles tanto por nombre como por índice.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var_type</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s1">&#39;id name type size&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Names are separated by spaces or commas.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &#39;id, name, type, size&#39; would also work.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var_type</span><span class="o">.</span><span class="n">_fields</span>
<span class="go">(&#39;id&#39;, &#39;name&#39;, &#39;type&#39;, &#39;size&#39;)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">var_type</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;int&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">var</span><span class="o">.</span><span class="n">id</span>    <span class="c1"># Equivalent</span>
<span class="go">1 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">var</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">var</span><span class="o">.</span><span class="n">type</span>  <span class="c1"># Equivalent</span>
<span class="go">int int</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span>
<span class="go">{&#39;size&#39;: 4, &#39;type&#39;: &#39;int&#39;, &#39;id&#39;: 1, &#39;name&#39;: &#39;frequency&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;amplitude&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span>
<span class="go">variable(id=1, name=&#39;amplitude&#39;, type=&#39;int&#39;, size=4)</span>
</pre></div>
</div>
<p>Varios lugares de la biblioteca estándar que devolvían tuplas han sido modificados para devolver instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">namedtuple</span></code>.  Por ejemplo, el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">Decimal.as_tuple()</span></code> ahora devuelve una tupla con nombre con los campos <code class="xref py py-attr docutils literal notranslate"><span class="pre">signo</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">dígitos</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">exponente</span></code>.</p>
<p>(Contribución de Raymond Hettinger.)</p>
</li>
<li><p>Otro cambio en el módulo <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> es que el tipo <code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> admite ahora un parámetro opcional <em>maxlen</em>; si se suministra, el tamaño del deque estará restringido a no más de <em>maxlen</em> elementos.  Si se añaden más elementos a un deque lleno, se descartan los elementos antiguos.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span><span class="o">=</span><span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span>
<span class="go">deque([], maxlen=3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">dq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">dq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span>
<span class="go">deque([1, 2, 3], maxlen=3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dq</span>
<span class="go">deque([2, 3, 4], maxlen=3)</span>
</pre></div>
</div>
<p>(Contribución de Raymond Hettinger.)</p>
</li>
<li><p>Los objetos <code class="xref py py-mod docutils literal notranslate"><span class="pre">Cookie</span></code> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">Morsel</span></code> soportan ahora un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">httponly</span></code>.  En algunos navegadores, las cookies con este atributo no pueden ser accedidas o manipuladas por el código JavaScript. (Contribución de Arvin Schnell; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1638033">bpo-1638033</a>.)</p></li>
<li><p>Un nuevo método de ventana en el módulo <a class="reference internal" href="../library/curses.html#module-curses" title="curses: An interface to the curses library, providing portable terminal handling. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">curses</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">chgat()</span></code>, cambia los atributos de visualización para un determinado número de caracteres en una sola línea.  (Contribución de Fabian Kreutz)</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Boldface text starting at y=0,x=21</span>
<span class="c1"># and affecting the rest of the line.</span>
<span class="n">stdscr</span><span class="o">.</span><span class="n">chgat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">curses</span><span class="o">.</span><span class="n">A_BOLD</span><span class="p">)</span>
</pre></div>
</div>
<p>La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Textbox</span></code> del módulo <a class="reference internal" href="../library/curses.html#module-curses.textpad" title="curses.textpad: Emacs-like input editing in a curses window."><code class="xref py py-mod docutils literal notranslate"><span class="pre">curses.textpad</span></code></a> soporta ahora la edición en modo de inserción así como en modo de sobrescritura. El modo de inserción se activa proporcionando un valor verdadero para el parámetro <em>insert_mode</em> al crear la instancia de <code class="xref py py-class docutils literal notranslate"><span class="pre">Textbox</span></code>.</p>
</li>
<li><p>Los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">strftime()</span></code> del módulo <a class="reference internal" href="../library/datetime.html#module-datetime" title="datetime: Basic date and time types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a> soportan ahora un código de formato <code class="docutils literal notranslate"><span class="pre">%f</span></code> que se expande al número de microsegundos en el objeto, rellenado de cero a la izquierda hasta seis lugares.  (Contribución de Skip Montanaro; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1158">bpo-1158</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/decimal.html#module-decimal" title="decimal: Implementation of the General Decimal Arithmetic  Specification."><code class="xref py py-mod docutils literal notranslate"><span class="pre">decimal</span></code></a> se actualizó a la versión 1.66 de <a class="reference external" href="https://speleotrove.com/decimal/decarith.html">the General Decimal Specification</a>. Las nuevas características incluyen algunos métodos para algunas funciones matemáticas básicas como <code class="xref py py-meth docutils literal notranslate"><span class="pre">exp()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">log10()</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Decimal</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">Decimal(&quot;2.718281828459045235360287471&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;2.7182818&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ln</span><span class="p">()</span>
<span class="go">Decimal(&quot;0.9999999895305022877376682436&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Decimal</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">log10</span><span class="p">()</span>
<span class="go">Decimal(&quot;3&quot;)</span>
</pre></div>
</div>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_tuple()</span></code> de los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code> devuelve ahora una tupla con nombre con los campos <code class="xref py py-attr docutils literal notranslate"><span class="pre">signo</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">dígitos</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">exponente</span></code>.</p>
<p>(Implementado por Facundo Batista y Mark Dickinson.  Soporte de tuplas con nombre añadido por Raymond Hettinger)</p>
</li>
<li><p>La clase <a class="reference internal" href="../library/difflib.html#module-difflib" title="difflib: Helpers for computing differences between objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">difflib</span></code></a> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceMatcher</span></code> devuelve ahora tuplas con nombre que representan coincidencias, con atributos <code class="xref py py-attr docutils literal notranslate"><span class="pre">a</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">b</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code>. (Contribución de Raymond Hettinger)</p></li>
<li><p>Se ha añadido un parámetro opcional <code class="docutils literal notranslate"><span class="pre">timeout</span></code>, que especifica un tiempo de espera medido en segundos, al constructor de la clase <a class="reference internal" href="../library/ftplib.html#ftplib.FTP" title="ftplib.FTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">ftplib.FTP</span></code></a> así como al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code>.  (Añadido por Facundo Batista.) Además, los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">storbinary()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">storlines()</span></code> de la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">FTP</span></code> ahora toman un parámetro opcional <em>callback</em> que será llamado con cada bloque de datos después de que los datos hayan sido enviados. (Contribuido por Phil Schwartz; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1221598">bpo-1221598</a>.)</p></li>
<li><p>La función incorporada <code class="xref py py-func docutils literal notranslate"><span class="pre">reduce()</span></code> también está disponible en el módulo <a class="reference internal" href="../library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a>.  En Python 3.0, la función incorporada se ha eliminado y <code class="xref py py-func docutils literal notranslate"><span class="pre">reduce()</span></code> sólo está disponible en <a class="reference internal" href="../library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a>; actualmente no hay planes para eliminar la función incorporada en la serie 2.x. (Parcheado por Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1739906">bpo-1739906</a>.)</p></li>
<li><p>Cuando sea posible, el módulo <a class="reference internal" href="../library/getpass.html#module-getpass" title="getpass: Portable reading of passwords and retrieval of the userid."><code class="xref py py-mod docutils literal notranslate"><span class="pre">getpass</span></code></a> utilizará ahora <code class="file docutils literal notranslate"><span class="pre">/dev/tty</span></code> para imprimir un mensaje de aviso y leer la contraseña, retrocediendo al error estándar y a la entrada estándar.  Si la contraseña puede ser enviada al terminal, se imprimirá una advertencia antes de que se muestre el aviso.  (Contribución de Gregory P. Smith)</p></li>
<li><p>La función <a class="reference internal" href="../library/glob.html#glob.glob" title="glob.glob"><code class="xref py py-func docutils literal notranslate"><span class="pre">glob.glob()</span></code></a> ahora puede devolver nombres de archivo Unicode si se ha utilizado una ruta Unicode y se han encontrado nombres de archivo Unicode dentro del directorio.  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1001604">bpo-1001604</a>)</p></li>
<li><p>Una nueva función en el módulo <a class="reference internal" href="../library/heapq.html#module-heapq" title="heapq: Heap queue algorithm (a.k.a. priority queue)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code></a>, <code class="docutils literal notranslate"><span class="pre">merge(iter1,</span> <span class="pre">iter2,</span> <span class="pre">...)</span></code>, toma cualquier número de iterables que devuelven datos en orden ordenado, y devuelve un nuevo generador que devuelve el contenido de todos los iteradores, también en ordenado.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">heapq</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">]))</span>
<span class="go">[1, 2, 3, 5, 8, 9, 16]</span>
</pre></div>
</div>
<p>Otra nueva función, <code class="docutils literal notranslate"><span class="pre">heappushpop(heap,</span> <span class="pre">item)</span></code>, empuja <em>item</em> a <em>heap</em>, luego lo saca y devuelve el elemento más pequeño. Esto es más eficiente que hacer una llamada a <code class="xref py py-func docutils literal notranslate"><span class="pre">heappush()</span></code> y luego a <code class="xref py py-func docutils literal notranslate"><span class="pre">heappop()</span></code>.</p>
<p><a class="reference internal" href="../library/heapq.html#module-heapq" title="heapq: Heap queue algorithm (a.k.a. priority queue)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code></a> se ha implementado para utilizar únicamente la comparación menor que, en lugar de la comparación menor o igual que utilizaba anteriormente. Esto hace que el uso de <a class="reference internal" href="../library/heapq.html#module-heapq" title="heapq: Heap queue algorithm (a.k.a. priority queue)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code></a> de un tipo coincida con el método <a class="reference internal" href="../library/stdtypes.html#list.sort" title="list.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list.sort()</span></code></a>. (Contribución de Raymond Hettinger)</p>
</li>
<li><p>Se ha añadido un parámetro opcional <code class="docutils literal notranslate"><span class="pre">timeout</span></code>, que especifica un tiempo de espera medido en segundos, a los constructores de las clases <code class="xref py py-class docutils literal notranslate"><span class="pre">httplib.HTTPConnection</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPSConnection</span></code>.  (Añadido por Facundo Batista)</p></li>
<li><p>La mayoría de las funciones del módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a>, como <code class="xref py py-func docutils literal notranslate"><span class="pre">getmoduleinfo()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">getargs()</span></code>, ahora devuelven tuplas con nombre. Además de comportarse como tuplas, también se puede acceder a los elementos del valor devuelto como atributos. (Contribución de Raymond Hettinger)</p>
<p>Algunas de las nuevas funciones del módulo son <code class="xref py py-func docutils literal notranslate"><span class="pre">isgenerator()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">isgeneratorfunction()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">isabstract()</span></code>.</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/itertools.html#module-itertools" title="itertools: Functions creating iterators for efficient looping."><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a> ha ganado varias funciones nuevas.</p>
<p><code class="docutils literal notranslate"><span class="pre">izip_longest(iter1,</span> <span class="pre">iter2,</span> <span class="pre">...[,</span> <span class="pre">fillvalue])</span></code> hace tuplas de cada uno de los elementos; si algunos de los iterables son más cortos que otros, los valores que faltan se ponen a <em>fillvalue</em>.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">tuple</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">izip_longest</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]))</span>
<span class="go">((1, 1), (2, 2), (3, 3), (None, 4), (None, 5))</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">product(iter1,</span> <span class="pre">iter2,</span> <span class="pre">...,</span> <span class="pre">[repeat=N])</span></code> devuelve el producto cartesiano de los iterables suministrados, un conjunto de tuplas que contiene todas las combinaciones posibles de los elementos devueltos de cada iterable.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]))</span>
<span class="go">[(1, 4), (1, 5), (1, 6),</span>
<span class="go"> (2, 4), (2, 5), (2, 6),</span>
<span class="go"> (3, 4), (3, 5), (3, 6)]</span>
</pre></div>
</div>
<p>El argumento opcional de la palabra clave <em>repeat</em> se utiliza para tomar el producto de un iterable o un conjunto de iterables con ellos mismos, repetido <em>N</em> veces.  Con un único argumento iterable, se devuelven <em>N</em>-tuplas:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[(1, 1, 1), (1, 1, 2), (1, 2, 1), (1, 2, 2),</span>
<span class="go"> (2, 1, 1), (2, 1, 2), (2, 2, 1), (2, 2, 2)]</span>
</pre></div>
</div>
<p>Con dos iterables, se devuelven <em>2N</em>-tuplas.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 3, 1, 3), (1, 3, 1, 4), (1, 3, 2, 3), (1, 3, 2, 4),</span>
<span class="go"> (1, 4, 1, 3), (1, 4, 1, 4), (1, 4, 2, 3), (1, 4, 2, 4),</span>
<span class="go"> (2, 3, 1, 3), (2, 3, 1, 4), (2, 3, 2, 3), (2, 3, 2, 4),</span>
<span class="go"> (2, 4, 1, 3), (2, 4, 1, 4), (2, 4, 2, 3), (2, 4, 2, 4)]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">combinaciones(iterable,</span> <span class="pre">r)</span></code> devuelve subsecuencias de longitud <em>r</em> de los elementos de <em>iterable</em>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(&#39;1&#39;, &#39;2&#39;), (&#39;1&#39;, &#39;3&#39;), (&#39;2&#39;, &#39;3&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">[(&#39;1&#39;, &#39;2&#39;, &#39;3&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="s1">&#39;1234&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">[(&#39;1&#39;, &#39;2&#39;, &#39;3&#39;), (&#39;1&#39;, &#39;2&#39;, &#39;4&#39;),</span>
<span class="go"> (&#39;1&#39;, &#39;3&#39;, &#39;4&#39;), (&#39;2&#39;, &#39;3&#39;, &#39;4&#39;)]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">permutaciones(iter[,</span> <span class="pre">r])</span></code> devuelve todas las permutaciones de longitud <em>r</em> de los elementos del iterable.  Si no se especifica <em>r</em>, por defecto será el número de elementos producidos por el iterable.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">permutations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[(1, 2), (1, 3), (1, 4),</span>
<span class="go"> (2, 1), (2, 3), (2, 4),</span>
<span class="go"> (3, 1), (3, 2), (3, 4),</span>
<span class="go"> (4, 1), (4, 2), (4, 3)]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">itertools.chain(*iterables)</span></code> es una función existente en <a class="reference internal" href="../library/itertools.html#module-itertools" title="itertools: Functions creating iterators for efficient looping."><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a> que obtuvo un nuevo constructor en Python 2.6. <code class="docutils literal notranslate"><span class="pre">itertools.chain.from_iterable(iterable)</span></code> toma un único iterable que debe devolver otros iterables. <code class="xref py py-func docutils literal notranslate"><span class="pre">chain()</span></code> devolverá entonces todos los elementos del primer iterable, luego todos los elementos del segundo, y así sucesivamente.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]))</span>
<span class="go">[1, 2, 3, 4, 5, 6]</span>
</pre></div>
</div>
<p>(Todo ello aportado por Raymond Hettinger)</p>
</li>
<li><p>La clase <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">FileHandler</span></code> y sus subclases <code class="xref py py-class docutils literal notranslate"><span class="pre">WatchedFileHandler</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">RotatingFileHandler</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedRotatingFileHandler</span></code> tienen ahora un parámetro opcional <em>delay</em> en sus constructores.  Si <em>retraso</em> es verdadero, la apertura del fichero de registro se retrasa hasta que se realice la primera llamada <code class="xref py py-meth docutils literal notranslate"><span class="pre">emit()</span></code>.  (Contribuido por Vinay Sajip.)</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedRotatingFileHandler</span></code> también tiene un parámetro constructor <em>utc</em>.  Si el argumento es verdadero, se utilizará la hora UTC para determinar cuándo ocurre la medianoche y para generar los nombres de los archivos; en caso contrario, se utilizará la hora local.</p>
</li>
<li><p>Se han añadido varias funciones nuevas al módulo <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/math.html#math.isinf" title="math.isinf"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code></a> y <a class="reference internal" href="../library/math.html#math.isnan" title="math.isnan"><code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code></a> determinan si un flotador dado es un infinito (positivo o negativo) o un NaN (Not a Number), respectivamente.</p></li>
<li><p><a class="reference internal" href="../library/math.html#math.copysign" title="math.copysign"><code class="xref py py-func docutils literal notranslate"><span class="pre">copysign()</span></code></a> copia el bit de signo de un número IEEE 754, devolviendo el valor absoluto de <em>x</em> combinado con el bit de signo de <em>y</em>.  Por ejemplo, <code class="docutils literal notranslate"><span class="pre">math.copysign(1,</span> <span class="pre">-0.0)</span></code> devuelve -1.0. (Contribución de Christian Heimes)</p></li>
<li><p><a class="reference internal" href="../library/math.html#math.factorial" title="math.factorial"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorial()</span></code></a> calcula el factorial de un número. (Contribuido por Raymond Hettinger; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2138">bpo-2138</a>.)</p></li>
<li><p><a class="reference internal" href="../library/math.html#math.fsum" title="math.fsum"><code class="xref py py-func docutils literal notranslate"><span class="pre">fsum()</span></code></a> suma el flujo de números de un iterable, y tiene cuidado de evitar la pérdida de precisión mediante el uso de sumas parciales. (Contribución de Jean Brouwers, Raymond Hettinger y Mark Dickinson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2819">bpo-2819</a>)</p></li>
<li><p><a class="reference internal" href="../library/math.html#math.acosh" title="math.acosh"><code class="xref py py-func docutils literal notranslate"><span class="pre">acosh()</span></code></a>, <a class="reference internal" href="../library/math.html#math.asinh" title="math.asinh"><code class="xref py py-func docutils literal notranslate"><span class="pre">asinh()</span></code></a> y <a class="reference internal" href="../library/math.html#math.atanh" title="math.atanh"><code class="xref py py-func docutils literal notranslate"><span class="pre">atanh()</span></code></a> calculan las funciones hiperbólicas inversas.</p></li>
<li><p><a class="reference internal" href="../library/math.html#math.log1p" title="math.log1p"><code class="xref py py-func docutils literal notranslate"><span class="pre">log1p()</span></code></a> devuelve el logaritmo natural de <em>1+x</em> (base <em>e</em>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trunc()</span></code> redondea un número hacia cero, devolviendo el <code class="xref py py-class docutils literal notranslate"><span class="pre">Integral</span></code> más cercano que esté entre el argumento de la función y el cero. Añadido como parte del backport de la jerarquía de tipos de números de <a class="reference external" href="#pep-3141">PEP 3141</a>.</p></li>
</ul>
</li>
<li><p>El módulo <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> se ha mejorado para ofrecer un comportamiento más coherente en todas las plataformas, especialmente en lo que respecta al manejo de las excepciones de punto flotante y los valores especiales IEEE 754.</p>
<p>Siempre que es posible, el módulo sigue las recomendaciones del estándar C99 sobre los valores especiales de 754.  Por ejemplo, <code class="docutils literal notranslate"><span class="pre">sqrt(-1.)</span></code> debería dar ahora un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> en casi todas las plataformas, mientras que <code class="docutils literal notranslate"><span class="pre">sqrt(float('NaN'))</span></code> debería devolver un NaN en todas las plataformas IEEE 754.  Cuando el Anexo “F” del estándar C99 recomiende señalar “dividir por cero” o “inválido”, Python lanzará <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>. Cuando el Anexo “F” del estándar C99 recomiende señalar “desbordamiento”, Python lanzará <a class="reference internal" href="../library/exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a>.  (Ver <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=711019">bpo-711019</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1640">bpo-1640</a>)</p>
<p>(Contribución de Christian Heimes y Mark Dickinson)</p>
</li>
<li><p>Los objetos <a class="reference internal" href="../library/mmap.html#mmap.mmap" title="mmap.mmap"><code class="xref py py-class docutils literal notranslate"><span class="pre">mmap</span></code></a> tienen ahora un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">rfind()</span></code> que busca una subcadena empezando por el final de la cadena y buscando hacia atrás.  El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">find()</span></code> también ha ganado un parámetro <em>end</em> que da un índice en el que parar la búsqueda. (Contribución de John Lenton)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/operator.html#module-operator" title="operator: Functions corresponding to the standard operators."><code class="xref py py-mod docutils literal notranslate"><span class="pre">operator</span></code></a> ganó una función <code class="xref py py-func docutils literal notranslate"><span class="pre">methodcaller()</span></code> que toma un nombre y un conjunto opcional de argumentos, devolviendo un callable que llamará a la función nombrada en cualquier argumento que se le pase.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Equivalent to lambda s: s.replace(&#39;old&#39;, &#39;new&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replacer</span> <span class="o">=</span> <span class="n">operator</span><span class="o">.</span><span class="n">methodcaller</span><span class="p">(</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;old&#39;</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replacer</span><span class="p">(</span><span class="s1">&#39;old wine in old bottles&#39;</span><span class="p">)</span>
<span class="go">&#39;new wine in new bottles&#39;</span>
</pre></div>
</div>
<p>(Contribución de Georg Brandl, tras una sugerencia de Gregory Petrosyan)</p>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">attrgetter()</span></code> acepta ahora nombres con puntos y realiza las correspondientes búsquedas de atributos:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inst_name</span> <span class="o">=</span> <span class="n">operator</span><span class="o">.</span><span class="n">attrgetter</span><span class="p">(</span>
<span class="gp">... </span>       <span class="s1">&#39;__class__.__name__&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inst_name</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="go">&#39;str&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inst_name</span><span class="p">(</span><span class="n">help</span><span class="p">)</span>
<span class="go">&#39;_Helper&#39;</span>
</pre></div>
</div>
<p>(Contribución de Georg Brandl, tras una sugerencia de Barry Warsaw)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a> incluye ahora varias llamadas nuevas al sistema. <code class="docutils literal notranslate"><span class="pre">fchmod(fd,</span> <span class="pre">mode)</span></code> y <code class="docutils literal notranslate"><span class="pre">fchown(fd,</span> <span class="pre">uid,</span> <span class="pre">gid)</span></code> cambian el modo y la propiedad de un fichero abierto, y <code class="docutils literal notranslate"><span class="pre">lchmod(path,</span> <span class="pre">mode)</span></code> cambia el modo de un enlace simbólico.  (Contribución de Georg Brandl y Christian Heimes)</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">chflags()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">lchflags()</span></code> son envoltorios para las correspondientes llamadas al sistema (cuando están disponibles), que cambian las banderas establecidas en un archivo.  Las constantes para los valores de las banderas se definen en el módulo <a class="reference internal" href="../library/stat.html#module-stat" title="stat: Utilities for interpreting the results of os.stat(), os.lstat() and os.fstat()."><code class="xref py py-mod docutils literal notranslate"><span class="pre">stat</span></code></a>; algunos valores posibles son <code class="xref py py-const docutils literal notranslate"><span class="pre">UF_IMMUTABLE</span></code> para indicar que el fichero no puede ser modificado y <code class="xref py py-const docutils literal notranslate"><span class="pre">UF_APPEND</span></code> para indicar que sólo se pueden añadir datos al fichero.  (Contribución de M. Levinson)</p>
<p><code class="docutils literal notranslate"><span class="pre">os.closerange(low,</span> <span class="pre">high)</span></code> cierra eficazmente todos los descriptores de fichero desde <em>low</em> hasta <em>high</em>, ignorando cualquier error y sin incluir a <em>high</em> mismo. Esta función es ahora utilizada por el módulo <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> para hacer más rápido el arranque de procesos.  (Contribuido por Georg Brandl; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1663329">bpo-1663329</a>.)</p>
</li>
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code> del objeto <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> ahora desajustará las variables de entorno utilizando <a class="reference internal" href="../library/os.html#os.unsetenv" title="os.unsetenv"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.unsetenv()</span></code></a> además de borrar las claves del objeto.  (Contribuido por Martin Horcicka; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1181">bpo-1181</a>.)</p></li>
<li><p>La función <a class="reference internal" href="../library/os.html#os.walk" title="os.walk"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.walk()</span></code></a> tiene ahora un parámetro <code class="docutils literal notranslate"><span class="pre">followlinks</span></code>. Si se establece como True, seguirá los enlaces simbólicos que apunten a directorios y visitará el contenido del directorio.  Por compatibilidad con el pasado, el valor por defecto del parámetro es false.  Tenga en cuenta que la función puede caer en una recursión infinita si hay un enlace simbólico que apunte a un directorio padre.  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1273829">bpo-1273829</a>)</p></li>
<li><p>En el módulo <a class="reference internal" href="../library/os.path.html#module-os.path" title="os.path: Operations on pathnames."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os.path</span></code></a>, la función <code class="xref py py-func docutils literal notranslate"><span class="pre">splitext()</span></code> ha sido modificada para no dividir los caracteres de punto inicial. Esto produce mejores resultados cuando se opera con archivos de puntos de Unix. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">os.path.splitext('.ipython')</span></code> ahora devuelve <code class="docutils literal notranslate"><span class="pre">('.ipython',</span> <span class="pre">'')</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">('',</span> <span class="pre">'.ipython')</span></code>. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1115886">bpo-1115886</a>)</p>
<p>Una nueva función, <code class="docutils literal notranslate"><span class="pre">os.path.relpath(path,</span> <span class="pre">start='.')</span></code>, devuelve una ruta relativa desde la ruta <code class="docutils literal notranslate"><span class="pre">start</span></code>, si se suministra, o desde el directorio de trabajo actual hasta el destino <code class="docutils literal notranslate"><span class="pre">path</span></code>.  (Contribución de Richard Barran; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1339796">bpo-1339796</a>.)</p>
<p>En Windows, <a class="reference internal" href="../library/os.path.html#os.path.expandvars" title="os.path.expandvars"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expandvars()</span></code></a> ahora expandirá las variables de entorno dadas en la forma «%var%», y «~user» se expandirá en la ruta del directorio personal del usuario.  (Contribución de Josiah Carlson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=957650">bpo-957650</a>.)</p>
</li>
<li><p>El depurador de Python proporcionado por el módulo <a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> ganó un nuevo comando: «run» reinicia el programa Python que se está depurando y puede tomar opcionalmente nuevos argumentos de línea de comandos para el programa. (Contribución de Rocky Bernstein; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1393667">bpo-1393667</a>.)</p></li>
<li><p>La función <a class="reference internal" href="../library/pdb.html#pdb.post_mortem" title="pdb.post_mortem"><code class="xref py py-func docutils literal notranslate"><span class="pre">pdb.post_mortem()</span></code></a>, utilizada para iniciar la depuración de un traceback, utilizará ahora el traceback devuelto por <a class="reference internal" href="../library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a> si no se suministra ningún traceback.   (Contribuido por Facundo Batista; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1106316">bpo-1106316</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/pickletools.html#module-pickletools" title="pickletools: Contains extensive comments about the pickle protocols and pickle-machine opcodes, as well as some useful functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickletools</span></code></a> tiene ahora una función <code class="xref py py-func docutils literal notranslate"><span class="pre">optimize()</span></code> que toma una cadena que contiene un pickle y elimina algunos opcodes no utilizados, devolviendo un pickle más corto que contiene la misma estructura de datos. (Contribución de Raymond Hettinger)</p></li>
<li><p>Se ha añadido una función <code class="xref py py-func docutils literal notranslate"><span class="pre">get_data()</span></code> al módulo <a class="reference internal" href="../library/pkgutil.html#module-pkgutil" title="pkgutil: Utilities for the import system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pkgutil</span></code></a> que devuelve el contenido de los archivos de recursos incluidos con un paquete Python instalado.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pkgutil</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">pkgutil</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;exception_hierarchy.txt&#39;</span><span class="p">)</span>
<span class="go">BaseException</span>
<span class="go"> +-- SystemExit</span>
<span class="go"> +-- KeyboardInterrupt</span>
<span class="go"> +-- GeneratorExit</span>
<span class="go"> +-- Exception</span>
<span class="go">      +-- StopIteration</span>
<span class="go">      +-- StandardError</span>
<span class="go"> ...</span>
</pre></div>
</div>
<p>(Contribución de Paul Moore; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2439">bpo-2439</a>.)</p>
</li>
<li><p>Los objetos <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyexpat</span></code> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code> permiten ahora establecer su atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">buffer_size</span></code> para cambiar el tamaño del buffer utilizado para mantener los datos de caracteres. (Contribución de Achim Gaedke; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1137">bpo-1137</a>.)</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Queue</span></code> proporciona ahora variantes de colas que recuperan las entradas en diferentes órdenes.  La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">PriorityQueue</span></code> almacena los elementos en cola en un montón y los recupera en orden de prioridad, y <code class="xref py py-class docutils literal notranslate"><span class="pre">LifoQueue</span></code> recupera primero las entradas añadidas más recientemente, lo que significa que se comporta como una pila. (Contribución de Raymond Hettinger)</p></li>
<li><p>Los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Random</span></code> del módulo <a class="reference internal" href="../library/random.html#module-random" title="random: Generate pseudo-random numbers with various common distributions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code></a> ahora pueden ser decapados en un sistema de 32 bits y desempaquetados en un sistema de 64 bits, y viceversa.  Desafortunadamente, este cambio también significa que los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Random</span></code> de Python 2.6 no pueden ser desempaquetados correctamente en versiones anteriores de Python. (Contribuido por Shawn Ligocki; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1727780">bpo-1727780</a>.)</p>
<p>La nueva función <code class="docutils literal notranslate"><span class="pre">triangular(low,</span> <span class="pre">high,</span> <span class="pre">mode)</span></code> devuelve números aleatorios siguiendo una distribución triangular.   Los valores devueltos están entre <em>bajos</em> y <em>altos</em>, sin incluir los propios <em>altos</em>, y con <em>modo</em> como valor más frecuente en la distribución.  (Contribución de Wladmir van der Laan y Raymond Hettinger; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1681432">bpo-1681432</a>.)</p>
</li>
<li><p>Las búsquedas de expresiones regulares largas llevadas a cabo por el módulo <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a> comprobarán la entrega de señales, por lo que ahora se pueden interrumpir las búsquedas que consumen mucho tiempo. (Contribución de Josh Hoyt y Ralf Schmitt; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=846388">bpo-846388</a>.)</p>
<p>El módulo de expresiones regulares se implementa compilando bytecodes para una pequeña máquina virtual específica de regex.  El código no fiable podría crear cadenas maliciosas de código de bytes directamente y causar caídas, por lo que Python 2.6 incluye un verificador para el código de bytes regex. (Contribuido por Guido van Rossum del trabajo para Google App Engine; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3487">bpo-3487</a>.)</p>
</li>
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">Completer.complete()</span></code> del módulo <a class="reference internal" href="../library/rlcompleter.html#module-rlcompleter" title="rlcompleter: Python identifier completion, suitable for the GNU readline library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">rlcompleter</span></code></a> ahora ignorará las excepciones que se produzcan al evaluar un nombre. (Corregido por Lorenz Quack; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2250">bpo-2250</a>.)</p></li>
<li><p>Las instancias <a class="reference internal" href="../library/sched.html#module-sched" title="sched: General purpose event scheduler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sched</span></code></a> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">scheduler</span></code> tienen ahora un atributo <a class="reference internal" href="../library/queue.html#module-queue" title="queue: A synchronized queue class."><code class="xref py py-attr docutils literal notranslate"><span class="pre">queue</span></code></a> de sólo lectura que devuelve el contenido de la cola del planificador, representado como una lista de tuplas con nombre con los campos <code class="docutils literal notranslate"><span class="pre">(tiempo,</span> <span class="pre">prioridad,</span> <span class="pre">acción,</span> <span class="pre">argumento)</span></code>. (Contribución de Raymond Hettinger; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1861">bpo-1861</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/select.html#module-select" title="select: Wait for I/O completion on multiple streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">select</span></code></a> tiene ahora funciones de envoltura para las llamadas al sistema Linux <code class="xref c c-func docutils literal notranslate"><span class="pre">epoll()</span></code> y BSD <code class="xref c c-func docutils literal notranslate"><span class="pre">kqueue()</span></code>. Se ha añadido el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">modify()</span></code> a los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">poll</span></code> existentes; <code class="docutils literal notranslate"><span class="pre">pollobj.modify(fd,</span> <span class="pre">eventmask)</span></code> toma un descriptor de fichero o un objeto de fichero y una máscara de evento, modificando la máscara de evento registrada para ese fichero. (Contribución de Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1657">bpo-1657</a>.)</p></li>
<li><p>La función <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> tiene ahora un argumento opcional <em>ignore</em> que toma un objeto callable.  Esta llamada recibirá cada ruta de directorio y una lista del contenido del directorio, y devuelve una lista de nombres que serán ignorados, no copiados.</p>
<p>El módulo <a class="reference internal" href="../library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a> también proporciona una función <code class="xref py py-func docutils literal notranslate"><span class="pre">ignore_patterns()</span></code> para su uso con este nuevo parámetro. <code class="xref py py-func docutils literal notranslate"><span class="pre">ignore_patterns()</span></code> toma un número arbitrario de patrones de estilo glob y devuelve una llamada que ignorará cualquier archivo o directorio que coincida con cualquiera de estos patrones.  El siguiente ejemplo copia un árbol de directorios, pero omite los directorios <code class="file docutils literal notranslate"><span class="pre">.svn</span></code> y los ficheros de copia de seguridad de Emacs, que tienen nombres que terminan en “~”:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="s1">&#39;Doc/library&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp/library&#39;</span><span class="p">,</span>
                <span class="n">ignore</span><span class="o">=</span><span class="n">shutil</span><span class="o">.</span><span class="n">ignore_patterns</span><span class="p">(</span><span class="s1">&#39;*~&#39;</span><span class="p">,</span> <span class="s1">&#39;.svn&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>(Contribución de Tarek Ziadé; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2663">bpo-2663</a>.)</p>
</li>
<li><p>Integrar el manejo de señales con los bucles de eventos de manejo de la interfaz gráfica de usuario (GUI), como los utilizados por Tkinter o GTk+, ha sido durante mucho tiempo un problema; la mayoría del software acaba sondeando, despertando cada fracción de segundo para comprobar si se ha producido algún evento de la GUI. El módulo <a class="reference internal" href="../library/signal.html#module-signal" title="signal: Set handlers for asynchronous events."><code class="xref py py-mod docutils literal notranslate"><span class="pre">signal</span></code></a> puede ahora hacer esto más eficiente. Llamando a <code class="docutils literal notranslate"><span class="pre">signal.set_wakeup_fd(fd)</span></code> se establece un descriptor de fichero a utilizar; cuando se recibe una señal, se escribe un byte en ese descriptor de fichero.  También hay una función en C, <a class="reference internal" href="../c-api/exceptions.html#c.PySignal_SetWakeupFd" title="PySignal_SetWakeupFd"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySignal_SetWakeupFd()</span></code></a>, para establecer el descriptor.</p>
<p>Los bucles de eventos utilizarán esto abriendo una tubería para crear dos descriptores, uno de lectura y otro de escritura.  El descriptor de escritura se pasará a <code class="xref py py-func docutils literal notranslate"><span class="pre">set_wakeup_fd()</span></code>, y el descriptor de lectura se añadirá a la lista de descriptores monitorizados por el bucle de eventos mediante <code class="xref c c-func docutils literal notranslate"><span class="pre">select()</span></code> o <code class="xref c c-func docutils literal notranslate"><span class="pre">poll()</span></code>. Al recibir una señal, se escribirá un byte y se despertará el bucle de eventos principal, evitando la necesidad de hacer un sondeo.</p>
<p>(Contribución de Adam Olsen; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1583">bpo-1583</a>.)</p>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">siginterrupt()</span></code> está ahora disponible desde el código Python, y permite cambiar si las señales pueden interrumpir las llamadas al sistema o no. (Contribución de Ralf Schmitt)</p>
<p>También se han añadido las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">setitimer()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">getitimer()</span></code> (cuando están disponibles). <code class="xref py py-func docutils literal notranslate"><span class="pre">setitimer()</span></code> permite establecer temporizadores de intervalo que harán que se entregue una señal al proceso después de un tiempo especificado, medido en tiempo de reloj de pared, tiempo de proceso consumido, o tiempo combinado de proceso+sistema.  (Contribuido por Guilherme Polo; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2240">bpo-2240</a>.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/smtplib.html#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> ahora soporta SMTP sobre SSL gracias a la adición de la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP_SSL</span></code>. Esta clase soporta una interfaz idéntica a la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code> existente. (Contribuido por Monty Taylor.) Ambos constructores de la clase también tienen un parámetro opcional <code class="docutils literal notranslate"><span class="pre">timeout</span></code> que especifica un tiempo de espera para el intento de conexión inicial, medido en segundos.  (Contribuido por Facundo Batista.)</p>
<p>También se ha añadido al módulo una implementación del protocolo LMTP (<span class="target" id="index-70"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2033.html"><strong>RFC 2033</strong></a>).  LMTP se utiliza en lugar de SMTP cuando se transfiere correo electrónico entre agentes que no gestionan una cola de correo.  (LMTP implementado por Leif Hedstrom; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=957003">bpo-957003</a>.)</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">SMTP.starttls()</span></code> ahora cumple con <span class="target" id="index-71"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3207.html"><strong>RFC 3207</strong></a> y olvida cualquier conocimiento obtenido del servidor que no se haya obtenido de la propia negociación TLS.  (Parche aportado por Bill Fenner; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=829951">bpo-829951</a>.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> soporta ahora TIPC (<a class="reference external" href="http://tipc.sourceforge.net/">http://tipc.sourceforge.net/</a>), un protocolo de alto rendimiento no basado en IP y diseñado para su uso en entornos agrupados.  Las direcciones TIPC son de 4 o 5 tuplas. (Contribución de Alberto Bertogli; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1646">bpo-1646</a>.)</p>
<p>Una nueva función, <code class="xref py py-func docutils literal notranslate"><span class="pre">create_connection()</span></code>, toma una dirección y se conecta a ella utilizando un valor opcional de tiempo de espera, devolviendo el objeto socket conectado.  Esta función también busca el tipo de dirección y se conecta a ella usando IPv4 o IPv6 según sea el caso.  Cambiar su código para usar <code class="xref py py-func docutils literal notranslate"><span class="pre">create_connection()</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">socket(socket.AF_INET,</span> <span class="pre">...)</span></code> puede ser todo lo que se necesita para que su código funcione con IPv6.</p>
</li>
<li><p>Las clases base del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">SocketServer</span></code> ahora soportan la llamada a un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_timeout()</span></code> después de un periodo de inactividad especificado por el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">timeout</span></code> del servidor.  (Contribuido por Michael Pomraning.) El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">serve_forever()</span></code> ahora toma un intervalo de sondeo opcional medido en segundos, controlando la frecuencia con la que el servidor comprobará si hay una solicitud de cierre. (Contribuido por Pedro Werneck y Jeffrey Yasskin; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=742598">bpo-742598</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1193577">bpo-1193577</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a>, mantenido por Gerhard Häring, ha sido actualizado de la versión 2.3.2 en Python 2.5 a la versión 2.4.1.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><code class="xref py py-mod docutils literal notranslate"><span class="pre">struct</span></code></a> ahora admite el tipo C99 <span class="c-expr sig sig-inline c"><span class="kt">_Bool</span></span>, utilizando el carácter de formato <code class="docutils literal notranslate"><span class="pre">'?'</span></code>. (Aportado por David Remahl.)</p></li>
<li><p>Los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code> proporcionados por el módulo <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> tienen ahora métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">terminate()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">kill()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_signal()</span></code>. En Windows, <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_signal()</span></code> sólo soporta la señal <code class="xref py py-const docutils literal notranslate"><span class="pre">SIGTERM</span></code>, y todos estos métodos son alias de la función de la API Win32 <code class="xref c c-func docutils literal notranslate"><span class="pre">TerminateProcess()</span></code>. (Contribuido por Christian Heimes.)</p></li>
<li><p>Una nueva variable en el módulo <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">float_info</span></code>, es un objeto que contiene información derivada del archivo <code class="file docutils literal notranslate"><span class="pre">float.h</span></code> sobre el soporte de punto flotante de la plataforma.  Los atributos de este objeto incluyen <code class="xref py py-attr docutils literal notranslate"><span class="pre">mant_dig</span></code> (número de dígitos en la mantisa), <code class="xref py py-attr docutils literal notranslate"><span class="pre">epsilon</span></code> (diferencia más pequeña entre 1.0 y el siguiente valor más grande representable), y varios otros.  (Contribuido por Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1534">bpo-1534</a>.)</p>
<p>Otra nueva variable, <code class="xref py py-attr docutils literal notranslate"><span class="pre">dont_write_bytecode</span></code>, controla si Python escribe algún archivo <code class="file docutils literal notranslate"><span class="pre">.pyc</span></code> o <code class="file docutils literal notranslate"><span class="pre">.pyo</span></code> al importar un módulo. Si esta variable es verdadera, los archivos compilados no se escriben.  La variable se establece inicialmente al iniciar el intérprete de Python con la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a>, o estableciendo la variable de entorno <span class="target" id="index-72"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDONTWRITEBYTECODE</span></code></a> antes de ejecutar el intérprete.  El código de Python puede cambiar posteriormente el valor de esta variable para controlar si los archivos de código de bytes se escriben o no. (Contribución de Neal Norwitz y Georg Brandl)</p>
<p>La información sobre los argumentos de la línea de comandos suministrados al intérprete de Python está disponible leyendo los atributos de una tupla con nombre disponible como <code class="docutils literal notranslate"><span class="pre">sys.flags</span></code>.  Por ejemplo, el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">verbose</span></code> es verdadero si Python fue ejecutado en modo verbose, <code class="xref py py-attr docutils literal notranslate"><span class="pre">debug</span></code> es verdadero en modo debugging, etc. Todos estos atributos son de sólo lectura. (Contribución de Christian Heimes)</p>
<p>Una nueva función, <code class="xref py py-func docutils literal notranslate"><span class="pre">getsizeof()</span></code>, toma un objeto Python y devuelve la cantidad de memoria utilizada por el objeto, medida en bytes.  Los objetos incorporados devuelven resultados correctos; las extensiones de terceros pueden no hacerlo, pero pueden definir un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__sizeof__()</span></code> para devolver el tamaño del objeto. (Contribución de Robert Schuppenies; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2898">bpo-2898</a>.)</p>
<p>Ahora es posible determinar las funciones actuales del perfilador y del trazador llamando a <a class="reference internal" href="../library/sys.html#sys.getprofile" title="sys.getprofile"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getprofile()</span></code></a> y <a class="reference internal" href="../library/sys.html#sys.gettrace" title="sys.gettrace"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.gettrace()</span></code></a>. (Contribuido por Georg Brandl; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1648">bpo-1648</a>.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a> soporta ahora archivos tar POSIX.1-2001 (pax) además de los formatos POSIX.1-1988 (ustar) y GNU tar que ya estaban soportados.  El formato por defecto es GNU tar; especifique el parámetro <code class="docutils literal notranslate"><span class="pre">format</span></code> para abrir un archivo con un formato diferente:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;output.tar&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span>
                   <span class="nb">format</span><span class="o">=</span><span class="n">tarfile</span><span class="o">.</span><span class="n">PAX_FORMAT</span><span class="p">)</span>
</pre></div>
</div>
<p>Los nuevos parámetros <code class="docutils literal notranslate"><span class="pre">encoding</span></code> y <code class="docutils literal notranslate"><span class="pre">errors</span></code> especifican una codificación y un esquema de manejo de errores para las conversiones de caracteres.  <code class="docutils literal notranslate"><span class="pre">'strict'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code>, y <code class="docutils literal notranslate"><span class="pre">'replace'</span></code> son las tres formas estándar en las que Python puede manejar los errores; <code class="docutils literal notranslate"><span class="pre">'utf-8'</span></code> es un valor especial que reemplaza los caracteres erróneos con su representación UTF-8.  (Las conversiones de caracteres ocurren porque el formato PAX soporta nombres de archivo Unicode, por defecto con codificación UTF-8)</p>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">TarFile.add()</span></code> ahora acepta un argumento <code class="docutils literal notranslate"><span class="pre">exclude</span></code> que es una función que se puede usar para excluir ciertos nombres de archivo de un archivo. La función debe tomar un nombre de archivo y retornar verdadero si el archivo debe excluirse o falso si debe archivarse. La función se aplica tanto al nombre pasado inicialmente a <code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code> como a los nombres de los archivos en los directorios agregados recursivamente.</p>
<p>(Todos los cambios han sido aportados por Lars Gustäbel).</p>
</li>
<li><p>Se agregó un parámetro opcional <code class="docutils literal notranslate"><span class="pre">timeout</span></code> al constructor de la clase <a class="reference internal" href="../library/telnetlib.html#telnetlib.Telnet" title="telnetlib.Telnet"><code class="xref py py-class docutils literal notranslate"><span class="pre">telnetlib.Telnet</span></code></a>, especificando un tiempo de espera medido en segundos.  (Añadido por Facundo Batista)</p></li>
<li><p>La clase <a class="reference internal" href="../library/tempfile.html#tempfile.NamedTemporaryFile" title="tempfile.NamedTemporaryFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">tempfile.NamedTemporaryFile</span></code></a> suele borrar el archivo temporal que ha creado cuando se cierra el archivo.  Este comportamiento se puede cambiar pasando <code class="docutils literal notranslate"><span class="pre">delete=False</span></code> al constructor.  (Contribución de Damien Miller; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1537850">bpo-1537850</a>.)</p>
<p>Una nueva clase, <code class="xref py py-class docutils literal notranslate"><span class="pre">SpooledTemporaryFile</span></code>, se comporta como un archivo temporal pero almacena sus datos en memoria hasta que se supera un tamaño máximo.  Al llegar a ese límite, el contenido se escribirá en un archivo temporal en el disco.  (Contribución de Dustin J. Mitchell)</p>
<p>Las clases <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTemporaryFile</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">SpooledTemporaryFile</span></code> funcionan como gestores de contexto, por lo que puedes escribir <code class="docutils literal notranslate"><span class="pre">con</span> <span class="pre">tempfile.NamedTemporaryFile()</span> <span class="pre">como</span> <span class="pre">tmp:</span> <span class="pre">...</span></code>. (Contribuido por Alexander Belopolsky; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2021">bpo-2021</a>.)</p>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">test.test_support</span></code> obtuvo una serie de gestores de contexto útiles para escribir pruebas. <code class="xref py py-func docutils literal notranslate"><span class="pre">EnvironmentVarGuard()</span></code> es un gestor de contexto que cambia temporalmente las variables de entorno y las restaura automáticamente a sus valores anteriores.</p>
<p>Otro gestor de contexto, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransientResource</span></code>, puede rodear las llamadas a recursos que pueden o no estar disponibles; atrapará e ignorará una lista especificada de excepciones.  Por ejemplo, una prueba de red puede ignorar ciertos fallos al conectarse a un sitio web externo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">test_support</span><span class="o">.</span><span class="n">TransientResource</span><span class="p">(</span><span class="ne">IOError</span><span class="p">,</span>
                                <span class="n">errno</span><span class="o">=</span><span class="n">errno</span><span class="o">.</span><span class="n">ETIMEDOUT</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;https://sf.net&#39;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Por último, <code class="xref py py-func docutils literal notranslate"><span class="pre">check_warnings()</span></code> restablece los filtros de advertencia del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">warning</span></code> y devuelve un objeto que registrará todos los mensajes de advertencia activados (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3781">bpo-3781</a>):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">test_support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">()</span> <span class="k">as</span> <span class="n">wrec</span><span class="p">:</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;always&quot;</span><span class="p">)</span>
    <span class="c1"># ... code that triggers a warning ...</span>
    <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">wrec</span><span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;function is outdated&quot;</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">wrec</span><span class="o">.</span><span class="n">warnings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Multiple warnings raised&quot;</span>
</pre></div>
</div>
<p>(Contribución de Brett Cannon.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/textwrap.html#module-textwrap" title="textwrap: Text wrapping and filling"><code class="xref py py-mod docutils literal notranslate"><span class="pre">textwrap</span></code></a> ahora puede conservar los espacios en blanco existentes al principio y al final de las líneas recién creadas especificando <code class="docutils literal notranslate"><span class="pre">drop_whitespace=False</span></code> como argumento:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;This  sentence  has a bunch   of</span>
<span class="gp">... </span><span class="s2">  extra   whitespace.&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="go">This  sentence</span>
<span class="go">has a bunch</span>
<span class="go">of    extra</span>
<span class="go">whitespace.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">drop_whitespace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="go">This  sentence</span>
<span class="go">  has a bunch</span>
<span class="go">   of    extra</span>
<span class="go">   whitespace.</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>(Contribución de Dwayne Bailey; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1581073">bpo-1581073</a>.)</p>
</li>
<li><p>La API del módulo <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> se ha cambiado para utilizar propiedades como <code class="xref py py-attr docutils literal notranslate"><span class="pre">daemon</span></code> en lugar de los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">setDaemon()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">isDaemon()</span></code>, y algunos métodos se han renombrado para utilizar guiones bajos en lugar de mayúsculas; por ejemplo, el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">activeCount()</span></code> se ha renombrado a <code class="xref py py-meth docutils literal notranslate"><span class="pre">active_count()</span></code>.  Tanto la versión 2.6 como la 3.0 del módulo soportan las mismas propiedades y métodos renombrados, pero no eliminan los métodos antiguos.  No se ha fijado una fecha para la eliminación de las antiguas APIs en Python 3.x; las antiguas APIs no se eliminarán en ninguna versión 2.x. (Llevado a cabo por varias personas, sobre todo por Benjamin Peterson)</p>
<p>Los objetos <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code> han ganado una propiedad <code class="xref py py-attr docutils literal notranslate"><span class="pre">ident</span></code> que devuelve el identificador del hilo, un entero no nulo.  (Contribución de Gregory P. Smith; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2871">bpo-2871</a>.)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/timeit.html#module-timeit" title="timeit: Measure the execution time of small code snippets."><code class="xref py py-mod docutils literal notranslate"><span class="pre">timeit</span></code></a> acepta ahora callables así como cadenas para la sentencia que se está cronometrando y para el código de configuración. Se han añadido dos funciones para crear instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">Timer</span></code>: <code class="docutils literal notranslate"><span class="pre">repeat(stmt,</span> <span class="pre">setup,</span> <span class="pre">time,</span> <span class="pre">repeat,</span> <span class="pre">number)</span></code> y <code class="docutils literal notranslate"><span class="pre">timeit(stmt,</span> <span class="pre">setup,</span> <span class="pre">time,</span> <span class="pre">number)</span></code> crean una instancia y llaman al método correspondiente. (Contribución de Erik Demaine; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1533909">bpo-1533909</a>.)</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> ahora acepta listas y tuplas para las opciones, separando los elementos por espacios antes de pasar el valor resultante a Tcl/Tk. (Contribuido por Guilherme Polo; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2906">bpo-2906</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/turtle.html#module-turtle" title="turtle: An educational framework for simple graphics applications"><code class="xref py py-mod docutils literal notranslate"><span class="pre">turtle</span></code></a> para los gráficos de tortugas ha sido muy mejorado por Gregor Lingl.  Las nuevas características del módulo incluyen:</p>
<ul class="simple">
<li><p>Mejor animación del movimiento y la rotación de la tortuga.</p></li>
<li><p>Control del movimiento de las tortugas mediante los nuevos métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">retraso()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">tracer()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">velocidad()</span></code>.</p></li>
<li><p>La posibilidad de establecer nuevas formas para la tortuga y de definir un nuevo sistema de coordenadas.</p></li>
<li><p>Las tortugas ahora tienen un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">undo()</span></code> que puede revertir las acciones.</p></li>
<li><p>Soporte sencillo para reaccionar a eventos de entrada como la actividad del ratón y del teclado, lo que permite escribir juegos sencillos.</p></li>
<li><p>Se puede utilizar un archivo <code class="file docutils literal notranslate"><span class="pre">turtle.cfg</span></code> para personalizar la apariencia inicial de la pantalla de la tortuga.</p></li>
<li><p>Los docstrings del módulo pueden ser sustituidos por nuevos docstrings traducidos a otro idioma.</p></li>
</ul>
<p>(<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1513695">bpo-1513695</a>)</p>
</li>
<li><p>Se ha añadido un parámetro opcional <code class="docutils literal notranslate"><span class="pre">timeout</span></code> a la función <code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.urlopen()</span></code> y al constructor de la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">urllib.ftpwrapper</span></code>, así como a la función <code class="xref py py-func docutils literal notranslate"><span class="pre">urllib2.urlopen()</span></code>.  El parámetro especifica un tiempo de espera medido en segundos.   Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s2">&quot;http://slow.example.com&quot;</span><span class="p">,</span>
<span class="go">                        timeout=3)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">urllib2.URLError</span>: <span class="n">&lt;urlopen error timed out&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>(Añadido por Facundo Batista.)</p>
</li>
<li><p>La base de datos Unicode proporcionada por el módulo <a class="reference internal" href="../library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unicodedata</span></code></a> ha sido actualizada a la versión 5.1.0.  (Actualizado por Martin von Löwis; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3811">bpo-3811</a>.)</p></li>
<li><p>Las funciones <a class="reference internal" href="../library/warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> del módulo <code class="xref py py-func docutils literal notranslate"><span class="pre">formatwarning()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">showwarning()</span></code> han ganado un argumento opcional <em>line</em> que puede utilizarse para proporcionar la línea de código fuente.  (Añadido como parte de <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1631171">bpo-1631171</a>, que reimplementaba parte del módulo <a class="reference internal" href="../library/warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> en código C)</p>
<p>Una nueva función, <code class="xref py py-func docutils literal notranslate"><span class="pre">catch_warnings()</span></code>, es un gestor de contexto destinado a la realización de pruebas que permite modificar temporalmente los filtros de advertencia y luego restaurar sus valores originales (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3781">bpo-3781</a>).</p>
</li>
<li><p>Las clases XML-RPC <code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleXMLRPCServer</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">DocXMLRPCServer</span></code> pueden ahora evitar que se abran inmediatamente y se vinculen a su socket pasando <code class="docutils literal notranslate"><span class="pre">False</span></code> como parámetro del constructor <em>bind_and_activate</em>.  Esto puede usarse para modificar el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">allow_reuse_address</span></code> de la instancia antes de llamar a los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">server_bind()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">server_activate()</span></code> para abrir el socket y comenzar a escuchar conexiones. (Contribuido por Peter Parente; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1599845">bpo-1599845</a>.)</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleXMLRPCServer</span></code> también tiene un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">_send_traceback_header</span></code>; si es true, la excepción y el traceback formateado se devuelven como cabeceras HTTP «X-Exception» y «X-Traceback».  Esta característica es sólo para propósitos de depuración y no debe ser usada en servidores de producción porque los trazos pueden revelar contraseñas u otra información sensible.  (Contribuido por Alan McIntyre como parte de su proyecto para el Summer of Code 2007 de Google)</p>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpclib</span></code> ya no convierte automáticamente las instancias <a class="reference internal" href="../library/datetime.html#datetime.date" title="datetime.date"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.time</span></code></a> al tipo <code class="xref py py-class docutils literal notranslate"><span class="pre">xmlrpclib.DateTime</span></code>; la semántica de conversión no era necesariamente correcta para todas las aplicaciones.  El código que utiliza <code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpclib</span></code> debe convertir las instancias <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1330538">bpo-1330538</a>) El código también puede manejar fechas anteriores a 1900 (contribución de Ralf Schmitt; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2014">bpo-2014</a>) y enteros de 64 bits representados mediante el uso de <code class="docutils literal notranslate"><span class="pre">&lt;i8&gt;</span></code> en las respuestas XML-RPC (contribución de Riku Lindblad; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2985">bpo-2985</a>).</p></li>
<li><p>La clase <a class="reference internal" href="../library/zipfile.html#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> del módulo <code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code> tiene ahora los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">extractall()</span></code> que desempaquetarán un solo fichero o todos los ficheros del archivo en el directorio actual, o en un directorio especificado:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;python-251.zip&#39;</span><span class="p">)</span>

<span class="c1"># Unpack a single file, writing it relative</span>
<span class="c1"># to the /tmp directory.</span>
<span class="n">z</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;Python/sysmodule.c&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>

<span class="c1"># Unpack all the files in the archive.</span>
<span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span>
</pre></div>
</div>
<p>(Contribución de Alan McIntyre; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=467924">bpo-467924</a>.)</p>
<p>Los métodos <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code> ahora pueden tomar un nombre de archivo o un objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code>.  Esto es útil cuando un archivo contiene accidentalmente un nombre de archivo duplicado. (Contribución de Graham Horler; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1775025">bpo-1775025</a>.)</p>
<p>Por último, <a class="reference internal" href="../library/zipfile.html#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> soporta ahora el uso de nombres de archivo Unicode para los ficheros archivados.  (Contribución de Alexey Borzenkov; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1734346">bpo-1734346</a>.)</p>
</li>
</ul>
<section id="the-ast-module">
<h3>El módulo <a class="reference internal" href="../library/ast.html#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a><a class="headerlink" href="#the-ast-module" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/ast.html#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> proporciona una representación de árbol de sintaxis abstracta del código Python, y Armin Ronacher ha contribuido con un conjunto de funciones de ayuda que realizan una variedad de tareas comunes.  Éstas serán útiles para paquetes de plantillas HTML, analizadores de código y herramientas similares que procesan código Python.</p>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code> toma una expresión y devuelve un AST. La función <code class="xref py py-func docutils literal notranslate"><span class="pre">dump()</span></code> devuelve una representación de un árbol, adecuada para la depuración:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ast</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">d = </span><span class="si">{}</span><span class="s2"></span>
<span class="s2">for i in &#39;abcdefghijklm&#39;:</span>
<span class="s2">    d[i + i] = ord(i) - ord(&#39;a&#39;) + 1</span>
<span class="s2">print d</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Esto produce un árbol profundamente anidado:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="p">[</span>
  <span class="n">Assign</span><span class="p">(</span><span class="n">targets</span><span class="o">=</span><span class="p">[</span>
    <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Store</span><span class="p">())</span>
   <span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="n">Dict</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">[],</span> <span class="n">values</span><span class="o">=</span><span class="p">[]))</span>
  <span class="n">For</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Store</span><span class="p">()),</span>
      <span class="nb">iter</span><span class="o">=</span><span class="n">Str</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="s1">&#39;abcdefghijklm&#39;</span><span class="p">),</span> <span class="n">body</span><span class="o">=</span><span class="p">[</span>
    <span class="n">Assign</span><span class="p">(</span><span class="n">targets</span><span class="o">=</span><span class="p">[</span>
      <span class="n">Subscript</span><span class="p">(</span><span class="n">value</span><span class="o">=</span>
        <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span>
          <span class="nb">slice</span><span class="o">=</span>
          <span class="n">Index</span><span class="p">(</span><span class="n">value</span><span class="o">=</span>
            <span class="n">BinOp</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span> <span class="n">op</span><span class="o">=</span><span class="n">Add</span><span class="p">(),</span>
             <span class="n">right</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()))),</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Store</span><span class="p">())</span>
     <span class="p">],</span> <span class="n">value</span><span class="o">=</span>
     <span class="n">BinOp</span><span class="p">(</span><span class="n">left</span><span class="o">=</span>
      <span class="n">BinOp</span><span class="p">(</span><span class="n">left</span><span class="o">=</span>
       <span class="n">Call</span><span class="p">(</span><span class="n">func</span><span class="o">=</span>
        <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;ord&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span>
          <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">())</span>
         <span class="p">],</span> <span class="n">keywords</span><span class="o">=</span><span class="p">[],</span> <span class="n">starargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
       <span class="n">op</span><span class="o">=</span><span class="n">Sub</span><span class="p">(),</span> <span class="n">right</span><span class="o">=</span><span class="n">Call</span><span class="p">(</span><span class="n">func</span><span class="o">=</span>
        <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;ord&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span>
          <span class="n">Str</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
         <span class="p">],</span> <span class="n">keywords</span><span class="o">=</span><span class="p">[],</span> <span class="n">starargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">)),</span>
       <span class="n">op</span><span class="o">=</span><span class="n">Add</span><span class="p">(),</span> <span class="n">right</span><span class="o">=</span><span class="n">Num</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
    <span class="p">],</span> <span class="n">orelse</span><span class="o">=</span><span class="p">[])</span>
   <span class="n">Print</span><span class="p">(</span><span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span>
     <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">())</span>
   <span class="p">],</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="p">])</span>
</pre></div>
</div>
<p>El método <code class="xref py py-func docutils literal notranslate"><span class="pre">literal_eval()</span></code> toma una cadena o un AST que representa una expresión literal, la analiza y evalúa, y devuelve el valor resultante.  Una expresión literal es una expresión de Python que sólo contiene cadenas, números, diccionarios, etc. pero no declaraciones o llamadas a funciones.  Si necesita evaluar una expresión pero no puede aceptar el riesgo de seguridad que supone utilizar una llamada a <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">literal_eval()</span></code> lo hará de forma segura:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">literal</span> <span class="o">=</span> <span class="s1">&#39;(&quot;a&quot;, &quot;b&quot;, {2:4, 3:8, 1:2})&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">literal</span><span class="p">)</span>
<span class="go">(&#39;a&#39;, &#39;b&#39;, {1: 2, 2: 4, 3: 8})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="s1">&#39;&quot;a&quot; + &quot;b&quot;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">malformed string</span>
</pre></div>
</div>
<p>El módulo también incluye las clases <code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code> para recorrer y modificar un AST, y funciones para transformaciones comunes como el cambio de números de línea.</p>
</section>
<section id="the-future-builtins-module">
<h3>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code><a class="headerlink" href="#the-future-builtins-module" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Python 3.0 introduce muchos cambios en el repertorio de funciones incorporadas, y la mayoría de los cambios no pueden introducirse en la serie Python 2.x porque romperían la compatibilidad. El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code> proporciona versiones de estas funciones incorporadas que pueden importarse al escribir código compatible con la versión 3.0.</p>
<p>Las funciones de este módulo incluyen actualmente:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ascii(obj)</span></code>: equivalente a <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a>.  En Python 3.0, <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a> devolverá una cadena Unicode, mientras que <a class="reference internal" href="../library/functions.html#ascii" title="ascii"><code class="xref py py-func docutils literal notranslate"><span class="pre">ascii()</span></code></a> devolverá una cadena de bytes ASCII pura.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filtro(predicado,</span> <span class="pre">iterable)</span></code>, <code class="docutils literal notranslate"><span class="pre">map(func,</span> <span class="pre">iterable1,</span> <span class="pre">...)</span></code>: las versiones 3.0 devuelven iteradores, a diferencia de las funciones integradas 2.x que devuelven listas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hex(valor)</span></code>, <code class="docutils literal notranslate"><span class="pre">oct(valor)</span></code>: en lugar de llamar a los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hex__()</span></code> o <code class="xref py py-meth docutils literal notranslate"><span class="pre">__oct__()</span></code>, estas versiones llamarán al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code> y convertirán el resultado a hexadecimal u octal. <a class="reference internal" href="../library/functions.html#oct" title="oct"><code class="xref py py-func docutils literal notranslate"><span class="pre">oct()</span></code></a> utilizará la nueva notación <code class="docutils literal notranslate"><span class="pre">0o</span></code> para su resultado.</p></li>
</ul>
</section>
<section id="the-json-module-javascript-object-notation">
<h3>El módulo <a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a>: Notación de objetos de JavaScript<a class="headerlink" href="#the-json-module-javascript-object-notation" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> soporta la codificación y decodificación de tipos Python en JSON (<em>Javascript Object Notation</em>). JSON es un formato de intercambio ligero que se utiliza a menudo en las aplicaciones web. Para más información sobre JSON, consulte <a class="reference external" href="http://www.json.org">http://www.json.org</a>.</p>
<p><a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> viene con soporte para decodificar y codificar la mayoría de los tipos incorporados de Python. El siguiente ejemplo codifica y decodifica un diccionario:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;spam&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;parrot&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># Encode the data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in_json</span>
<span class="go">&#39;{&quot;parrot&quot;: 42, &quot;spam&quot;: &quot;foo&quot;}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">in_json</span><span class="p">)</span> <span class="c1"># Decode into a Python object</span>
<span class="go">{&quot;spam&quot;: &quot;foo&quot;, &quot;parrot&quot;: 42}</span>
</pre></div>
</div>
<p>También es posible escribir tus propios decodificadores y codificadores para soportar más tipos. También se admite la impresión bonita de las cadenas JSON.</p>
<p><a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> (originalmente llamado simplejson) fue escrito por Bob Ippolito.</p>
</section>
<section id="the-plistlib-module-a-property-list-parser">
<h3>El módulo <a class="reference internal" href="../library/plistlib.html#module-plistlib" title="plistlib: Generate and parse Apple plist files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code></a>: Un analizador de listas de propiedades<a class="headerlink" href="#the-plistlib-module-a-property-list-parser" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El formato <code class="docutils literal notranslate"><span class="pre">.plist</span></code> se utiliza habitualmente en Mac OS X para almacenar tipos de datos básicos (números, cadenas, listas y diccionarios) serializándolos en un formato basado en XML. Se asemeja a la serialización XML-RPC de los tipos de datos.</p>
<p>A pesar de ser utilizado principalmente en Mac OS X, el formato no tiene nada de específico para Mac y la implementación de Python funciona en cualquier plataforma que soporte Python, por lo que el módulo <a class="reference internal" href="../library/plistlib.html#module-plistlib" title="plistlib: Generate and parse Apple plist files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code></a> ha sido promovido a la biblioteca estándar.</p>
<p>El uso del módulo es sencillo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">plistlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># Create data structure</span>
<span class="n">data_struct</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">lastAccessed</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
                   <span class="n">version</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                   <span class="n">categories</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Personal&#39;</span><span class="p">,</span><span class="s1">&#39;Shared&#39;</span><span class="p">,</span><span class="s1">&#39;Private&#39;</span><span class="p">))</span>

<span class="c1"># Create string containing XML.</span>
<span class="n">plist_str</span> <span class="o">=</span> <span class="n">plistlib</span><span class="o">.</span><span class="n">writePlistToString</span><span class="p">(</span><span class="n">data_struct</span><span class="p">)</span>
<span class="n">new_struct</span> <span class="o">=</span> <span class="n">plistlib</span><span class="o">.</span><span class="n">readPlistFromString</span><span class="p">(</span><span class="n">plist_str</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">data_struct</span>
<span class="nb">print</span> <span class="n">new_struct</span>

<span class="c1"># Write data structure to a file and read it back.</span>
<span class="n">plistlib</span><span class="o">.</span><span class="n">writePlist</span><span class="p">(</span><span class="n">data_struct</span><span class="p">,</span> <span class="s1">&#39;/tmp/customizations.plist&#39;</span><span class="p">)</span>
<span class="n">new_struct</span> <span class="o">=</span> <span class="n">plistlib</span><span class="o">.</span><span class="n">readPlist</span><span class="p">(</span><span class="s1">&#39;/tmp/customizations.plist&#39;</span><span class="p">)</span>

<span class="c1"># read/writePlist accepts file-like objects as well as paths.</span>
<span class="n">plistlib</span><span class="o">.</span><span class="n">writePlist</span><span class="p">(</span><span class="n">data_struct</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ctypes-enhancements">
<h3>mejoras en ctypes<a class="headerlink" href="#ctypes-enhancements" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Thomas Heller siguió manteniendo y mejorando el módulo <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a>.</p>
<p><a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> soporta ahora un tipo de datos <code class="xref py py-class docutils literal notranslate"><span class="pre">c_bool</span></code> que representa el tipo C99 <code class="docutils literal notranslate"><span class="pre">bool</span></code>.  (Contribución de David Remahl; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1649190">bpo-1649190</a>.)</p>
<p>Los tipos de cadena, buffer y array de <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> han mejorado el soporte para la sintaxis de corte extendida, donde se suministran varias combinaciones de <code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code>. (Implementado por Thomas Wouters)</p>
<p>Todos los tipos de datos <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> soportan ahora los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_buffer()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_buffer_copy()</span></code> que crean una instancia de ctypes basada en un objeto buffer proporcionado. <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_buffer_copy()</span></code> copia el contenido del objeto, mientras que <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_buffer()</span></code> compartirá la misma área de memoria.</p>
<p>Una nueva convención de llamada indica a <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> que borre las variables <code class="docutils literal notranslate"><span class="pre">errno</span></code> o Win32 LastError al inicio de cada llamada envuelta. (Implementado por Thomas Heller; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1798">bpo-1798</a>.)</p>
<p>Ahora puede recuperar la variable Unix <code class="docutils literal notranslate"><span class="pre">errno</span></code> después de una llamada a una función.  Al crear una función envuelta, puede suministrar <code class="docutils literal notranslate"><span class="pre">use_errno=True</span></code> como parámetro de palabra clave a la función <code class="xref py py-func docutils literal notranslate"><span class="pre">DLL()</span></code> y luego llamar a los métodos de nivel de módulo <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_errno()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_errno()</span></code> para establecer y recuperar el valor del error.</p>
<p>La variable Win32 LastError es soportada de forma similar por las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">DLL()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">OleDLL()</span></code>, y <code class="xref py py-func docutils literal notranslate"><span class="pre">WinDLL()</span></code>. Se suministra <code class="docutils literal notranslate"><span class="pre">use_last_error=True</span></code> como parámetro de palabra clave y luego se llaman los métodos a nivel de módulo <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_last_error()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_last_error()</span></code>.</p>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">byref()</span></code>, utilizada para recuperar un puntero a una instancia de ctypes, tiene ahora un parámetro opcional <em>offset</em> que es un recuento de bytes que se añadirá al puntero devuelto.</p>
</section>
<section id="improved-ssl-support">
<h3>Mejora de la compatibilidad con SSL<a class="headerlink" href="#improved-ssl-support" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Bill Janssen ha realizado amplias mejoras en el soporte de Python 2.6 para la Capa de Conexión Segura añadiendo un nuevo módulo, <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>, que está construido sobre la biblioteca <a class="reference external" href="https://www.openssl.org/">OpenSSL</a>. Este nuevo módulo proporciona más control sobre el protocolo negociado, los certificados X.509 utilizados, y tiene un mejor soporte para escribir servidores SSL (a diferencia de los clientes) en Python.  El soporte SSL existente en el módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> no ha sido eliminado y sigue funcionando, aunque será eliminado en Python 3.0.</p>
<p>Para utilizar el nuevo módulo, primero hay que crear una conexión TCP de la forma habitual y luego pasarla a la función <a class="reference internal" href="../library/ssl.html#ssl.wrap_socket" title="ssl.wrap_socket"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.wrap_socket()</span></code></a>. Es posible especificar si se requiere un certificado, y obtener información sobre el mismo llamando al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">getpeercert()</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p>La documentación del módulo <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>.</p>
</div>
</section>
</section>
<section id="deprecations-and-removals">
<h2>Cancelaciones y eliminaciones<a class="headerlink" href="#deprecations-and-removals" title="Enlazar permanentemente con este título">¶</a></h2>
<ul>
<li><p>Se han eliminado las excepciones de cadena.  Al intentar utilizarlas se produce un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.</p></li>
<li><p>Los cambios en la interfaz <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> dictados por <span class="target" id="index-73"></span><a class="pep reference external" href="https://peps.python.org/pep-0352/"><strong>PEP 352</strong></a> siguen realizándose.  En la versión 2.6, el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">message</span></code> queda obsoleto en favor del atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">args</span></code>.</p></li>
<li><p>(modo 3.0-warning) Python 3.0 presentará una biblioteca estándar reorganizada que eliminará muchos módulos obsoletos y renombrará otros. Python 2.6 funcionando en modo 3.0-warning avisará de estos módulos cuando se importen.</p>
<p>La lista de módulos obsoletos es: <code class="xref py py-mod docutils literal notranslate"><span class="pre">audiodev</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">bgenlocations</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildtools</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">bundlebuilder</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Canvas</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">compiler</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">dircache</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">dl</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">fpformat</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">gensuitemodule</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">ihooks</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">imageop</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">imgfile</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">linuxaudiodev</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">mhlib</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">mimetools</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">multifile</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">new</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">pure</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">statvfs</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">sunaudiodev</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">test.testall</span></code>, y <code class="xref py py-mod docutils literal notranslate"><span class="pre">toaiff</span></code>.</p>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">gopherlib</span></code> ha sido eliminado.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">MimeWriter</span></code> y el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">mimify</span></code> han quedado obsoletos; utilice en su lugar el paquete <a class="reference internal" href="../library/email.html#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code></a>.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">md5</span></code> ha quedado obsoleto; utilice en su lugar el módulo <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a>.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">posixfile</span></code> ha quedado obsoleto; <a class="reference internal" href="../library/fcntl.html#fcntl.lockf" title="fcntl.lockf"><code class="xref py py-func docutils literal notranslate"><span class="pre">fcntl.lockf()</span></code></a> proporciona un mejor bloqueo.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">popen2</span></code> ha quedado obsoleto; utilice el módulo <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a>.</p></li>
<li><p>Se ha eliminado el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">rgbimg</span></code>.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">sets</span></code> ha quedado obsoleto; es mejor utilizar los tipos incorporados <a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> y <a class="reference internal" href="../library/stdtypes.html#frozenset" title="frozenset"><code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code></a>.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">sha</span></code> ha quedado obsoleto; utilice en su lugar el módulo <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a>.</p></li>
</ul>
</section>
<section id="build-and-c-api-changes">
<h2>Cambios en la API de construcción y C<a class="headerlink" href="#build-and-c-api-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los cambios en el proceso de construcción de Python y en la API de C incluyen:</p>
<ul>
<li><p>Python ahora debe ser compilado con compiladores C89 (¡después de 19 años!).  Esto significa que el árbol de fuentes de Python ha abandonado sus propias implementaciones de <code class="xref c c-func docutils literal notranslate"><span class="pre">memmove()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">strerror()</span></code>, que están en la biblioteca estándar de C89.</p></li>
<li><p>Python 2.6 puede ser construido con Microsoft Visual Studio 2008 (versión 9.0), y este es el nuevo compilador por defecto.  Ver el directorio <code class="file docutils literal notranslate"><span class="pre">PCbuild</span></code> para los archivos de construcción.  (Implementado por Christian Heimes)</p></li>
<li><p>En Mac OS X, Python 2.6 puede ser compilado como una construcción universal de 4 vías. El script <strong class="program">configure</strong> puede tomar una opción :<cite>!–with-universal-archs=[32-bit|64-bit|all]</cite>, controlando si los binarios se construyen para arquitecturas de 32 bits (x86, PowerPC), 64 bits (x86-64 y PPC-64), o ambas. (Contribución de Ronald Oussoren)</p></li>
<li><p>El módulo BerkeleyDB tiene ahora un objeto C API, disponible como <code class="docutils literal notranslate"><span class="pre">bsddb.db.api</span></code>.   Este objeto puede ser utilizado por otras extensiones de C que deseen utilizar el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> para sus propios fines. (Contribución de Duncan Grisby)</p></li>
<li><p>La nueva interfaz del buffer, descrita previamente en <a class="reference external" href="#pep-3118-revised-buffer-protocol">la sección PEP 3118</a>, añade <a class="reference internal" href="../c-api/buffer.html#c.PyObject_GetBuffer" title="PyObject_GetBuffer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_GetBuffer()</span></code></a> y <a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_Release" title="PyBuffer_Release"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_Release()</span></code></a>, así como algunas otras funciones.</p></li>
<li><p>El uso que hace Python de la biblioteca stdio de C es ahora seguro para los hilos, o al menos tan seguro como la biblioteca subyacente.  Un error potencial de larga data ocurría si un hilo cerraba un objeto de archivo mientras otro hilo estaba leyendo o escribiendo en el objeto.  En la versión 2.6 los objetos archivo tienen un contador de referencias, manipulado por las funciones <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFile_IncUseCount()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFile_DecUseCount()</span></code>.  Los objetos de archivo no pueden cerrarse a menos que el recuento de referencias sea cero. <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFile_IncUseCount()</span></code> debe llamarse mientras se mantiene el GIL, antes de realizar una operación de E/S utilizando el puntero <code class="docutils literal notranslate"><span class="pre">FILE</span> <span class="pre">*</span></code>, y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFile_DecUseCount()</span></code> debe llamarse inmediatamente después de recuperar el GIL. (Contribución de Antoine Pitrou y Gregory P. Smith)</p></li>
<li><p>Importar módulos simultáneamente en dos hilos diferentes ya no se bloquea; ahora lanzará un <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a>.  Una nueva función de la API, <a class="reference internal" href="../c-api/import.html#c.PyImport_ImportModuleNoBlock" title="PyImport_ImportModuleNoBlock"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ImportModuleNoBlock()</span></code></a>, buscará un módulo en <code class="docutils literal notranslate"><span class="pre">sys.modules</span></code> primero, y luego intentará importarlo después de adquirir un bloqueo de importación.  Si el bloqueo de importación está en manos de otro hilo, se genera un <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a>. (Contribuido por Christian Heimes.)</p></li>
<li><p>Varias funciones devuelven información sobre el soporte de punto flotante de la plataforma. <a class="reference internal" href="../c-api/float.html#c.PyFloat_GetMax" title="PyFloat_GetMax"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_GetMax()</span></code></a> devuelve el máximo valor de punto flotante representable, y <a class="reference internal" href="../c-api/float.html#c.PyFloat_GetMin" title="PyFloat_GetMin"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_GetMin()</span></code></a> devuelve el mínimo valor positivo.  <a class="reference internal" href="../c-api/float.html#c.PyFloat_GetInfo" title="PyFloat_GetInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_GetInfo()</span></code></a> devuelve un objeto que contiene más información del fichero <code class="file docutils literal notranslate"><span class="pre">float.h</span></code>, como <code class="docutils literal notranslate"><span class="pre">&quot;mant_dig&quot;</span></code> (número de dígitos en la mantisa), <code class="docutils literal notranslate"><span class="pre">&quot;epsilon&quot;</span></code> (diferencia más pequeña entre 1.0 y el siguiente valor más grande representable), y varios otros. (Contribución de Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1534">bpo-1534</a>.)</p></li>
<li><p>Las funciones y métodos de C que utilizan <a class="reference internal" href="../c-api/complex.html#c.PyComplex_AsCComplex" title="PyComplex_AsCComplex"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyComplex_AsCComplex()</span></code></a> ahora aceptarán argumentos que tengan un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__complex__()</span></code>.  En particular, las funciones del módulo <a class="reference internal" href="../library/cmath.html#module-cmath" title="cmath: Mathematical functions for complex numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a> ahora aceptarán objetos con este método. Este es un retroceso de un cambio en Python 3.0. (Contribuido por Mark Dickinson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1675423">bpo-1675423</a>.)</p></li>
<li><p>La API de C de Python incluye ahora dos funciones para comparar cadenas sin distinción de mayúsculas y minúsculas, <code class="docutils literal notranslate"><span class="pre">PyOS_stricmp(char*,</span> <span class="pre">char*)</span></code> y <code class="docutils literal notranslate"><span class="pre">PyOS_strnicmp(char*,</span> <span class="pre">char*,</span> <span class="pre">Py_ssize_t)</span></code>. (Contribución de Christian Heimes; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1635">bpo-1635</a>.)</p></li>
<li><p>Muchas extensiones de C definen su propia macro para añadir enteros y cadenas al diccionario del módulo en la función <code class="docutils literal notranslate"><span class="pre">init*</span></code>.  Python 2.6 finalmente define macros estándar para añadir valores a un módulo, <a class="reference internal" href="../c-api/module.html#c.PyModule_AddStringMacro" title="PyModule_AddStringMacro"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyModule_AddStringMacro</span></code></a> y <a class="reference internal" href="../c-api/module.html#c.PyModule_AddIntMacro" title="PyModule_AddIntMacro"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyModule_AddIntMacro()</span></code></a>.  (Contribución de Christian Heimes.)</p></li>
<li><p>Algunas macros han sido renombradas tanto en la 3.0 como en la 2.6 para dejar más claro que son macros y no funciones. <code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_Size()</span></code> se convierte en <a class="reference internal" href="../c-api/structures.html#c.Py_SIZE" title="Py_SIZE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_SIZE()</span></code></a>, <code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_Type()</span></code> se convierte en <a class="reference internal" href="../c-api/structures.html#c.Py_TYPE" title="Py_TYPE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TYPE()</span></code></a>, y <code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_Refcnt()</span></code> se convierte en <a class="reference internal" href="../c-api/structures.html#c.Py_REFCNT" title="Py_REFCNT"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_REFCNT()</span></code></a>. Las macros de mayúsculas y minúsculas siguen estando disponibles en Python 2.6 por compatibilidad con versiones anteriores. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1629">bpo-1629</a>)</p></li>
<li><p>Distutils ahora coloca las extensiones C que construye en un directorio diferente cuando se ejecuta en una versión de depuración de Python. (Contribución de Collin Winter; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1530959">bpo-1530959</a>.)</p></li>
<li><p>Varios tipos de datos básicos, como los enteros y las cadenas, mantienen listas internas de objetos libres que pueden reutilizarse.  Las estructuras de datos para estas listas libres siguen ahora una convención de nomenclatura: la variable se llama siempre <code class="docutils literal notranslate"><span class="pre">free_list</span></code>, el contador se llama siempre <code class="docutils literal notranslate"><span class="pre">numfree</span></code>, y siempre se define una macro <code class="docutils literal notranslate"><span class="pre">Py&lt;typename&gt;_MAXFREELIST</span></code></p></li>
<li><p>Un nuevo objetivo de Makefile, «make patchcheck», prepara el árbol de fuentes de Python para hacer un parche: corrige los espacios en blanco al final de todos los archivos <code class="docutils literal notranslate"><span class="pre">.py</span></code> modificados, comprueba si la documentación ha sido cambiada, e informa si los archivos <code class="file docutils literal notranslate"><span class="pre">Misc/ACKS</span></code> y <code class="file docutils literal notranslate"><span class="pre">Misc/NEWS</span></code> han sido actualizados. (Contribuido por Brett Cannon.)</p>
<p>Otro nuevo objetivo, «make profile-opt», compila un binario de Python utilizando la optimización guiada por perfiles de GCC.  Compila Python con el perfil habilitado, ejecuta el conjunto de pruebas para obtener un conjunto de resultados de perfil, y luego compila usando estos resultados para la optimización. (Contribución de Gregory P. Smith)</p>
</li>
</ul>
<section id="port-specific-changes-windows">
<h3>Cambios específicos en los puertos: Windows<a class="headerlink" href="#port-specific-changes-windows" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>Se ha eliminado el soporte para Windows 95, 98, ME y NT4. Python 2.6 requiere al menos Windows 2000 SP4.</p></li>
<li><p>El nuevo compilador por defecto en Windows es Visual Studio 2008 (versión 9.0). Los directorios de compilación para Visual Studio 2003 (versión 7.1) y 2005 (versión 8.0) se han trasladado al directorio PC/. El nuevo directorio <code class="file docutils literal notranslate"><span class="pre">PCbuild</span></code> admite la compilación cruzada para X64, las compilaciones de depuración y la optimización guiada por perfil (PGO). Las compilaciones PGO son aproximadamente un 10% f más rápidas que las normales.  (Contribuido por Christian Heimes con la ayuda de Amaury Forgeot d’Arc y Martin von Löwis)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/msvcrt.html#module-msvcrt" title="msvcrt: Miscellaneous useful routines from the MS VC++ runtime. (Windows)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">msvcrt</span></code></a> soporta ahora las variantes normal y wide char de la API de E/S de la consola.  La función <code class="xref py py-func docutils literal notranslate"><span class="pre">getwch()</span></code> lee una pulsación de tecla y devuelve un valor Unicode, al igual que la función <code class="xref py py-func docutils literal notranslate"><span class="pre">getwche()</span></code>.  La función <code class="xref py py-func docutils literal notranslate"><span class="pre">putwch()</span></code> toma un carácter Unicode y lo escribe en la consola. (Contribución de Christian Heimes)</p></li>
<li><p><a class="reference internal" href="../library/os.path.html#os.path.expandvars" title="os.path.expandvars"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expandvars()</span></code></a> ahora expandirá las variables de entorno de la forma «%var%», y «~user» se expandirá en la ruta del directorio personal del usuario.  (Contribución de Josiah Carlson; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=957650">bpo-957650</a>.)</p></li>
<li><p>Los objetos socket del módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> tienen ahora un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">ioctl()</span></code> que proporciona una interfaz limitada a la interfaz del sistema <code class="xref c c-func docutils literal notranslate"><span class="pre">WSAIoctl()</span></code>.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">_winreg</span></code> tiene ahora una función, <code class="xref py py-func docutils literal notranslate"><span class="pre">ExpandEnvironmentStrings()</span></code>, que expande las referencias a variables de entorno como <code class="docutils literal notranslate"><span class="pre">%NAME%</span></code> en una cadena de entrada.  Los objetos handle proporcionados por este módulo ahora soportan el protocolo de contexto, por lo que pueden ser utilizados en sentencias <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>. (Contribuido por Christian Heimes.)</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">_winreg</span></code> también tiene un mejor soporte para los sistemas x64, exponiendo las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">DisableReflectionKey()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">EnableReflectionKey()</span></code>, y <code class="xref py py-func docutils literal notranslate"><span class="pre">QueryReflectionKey()</span></code>, que habilitan y deshabilitan la reflexión del registro para los procesos de 32 bits que se ejecutan en sistemas de 64 bits. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1753245">bpo-1753245</a>)</p>
</li>
<li><p>El objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">Record</span></code> del módulo <a class="reference internal" href="../library/msilib.html#module-msilib" title="msilib: Creation of Microsoft Installer files, and CAB files. (obsoleto) (Windows)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">msilib</span></code></a> ha ganado los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">GetInteger()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">GetString()</span></code> que devuelven los valores de los campos como un entero o una cadena. (Contribución de Floris Bruynooghe; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2125">bpo-2125</a>.)</p></li>
</ul>
</section>
<section id="port-specific-changes-mac-os-x">
<h3>Cambios específicos en los puertos: Mac OS X<a class="headerlink" href="#port-specific-changes-mac-os-x" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Cuando se compila una estructura de Python, ahora se puede especificar el nombre de la estructura que se utilizará proporcionando la opción <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-framework-name=</span></code> al script <strong class="program">configure</strong>.</p></li>
<li><p>Se ha eliminado el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">macfs</span></code>.  Esto, a su vez, ha requerido la eliminación de la función <code class="xref py py-func docutils literal notranslate"><span class="pre">macostools.touched()</span></code> porque dependía del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">macfs</span></code>.  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1490190">bpo-1490190</a>)</p></li>
<li><p>Muchos otros módulos de Mac OS han quedado obsoletos y serán eliminados en Python 3.0: <code class="xref py py-mod docutils literal notranslate"><span class="pre">_builtinSuites</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">aepack</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">aetools</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">aetypes</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">applesingle</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">appletrawmain</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">appletrunner</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">argvemulator</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Audio_mac</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">autoGIL</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Carbon</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">cfmfile</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">CodeWarrior</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">ColorPicker</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">EasyDialogs</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Explorer</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Finder</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">FrameWork</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">findertools</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">ic</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">icglue</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">icopen</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">macerrors</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">MacOS</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">macfs</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">macostools</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">macresource</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">MiniAEFrame</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Nav</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Netscape</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">OSATerminology</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">pimp</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">PixMapWrapper</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">StdSuites</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">SystemEvents</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Terminal</span></code>, y <code class="xref py py-mod docutils literal notranslate"><span class="pre">terminalcommand</span></code>.</p></li>
</ul>
</section>
<section id="port-specific-changes-irix">
<h3>Cambios específicos en los puertos: IRIX<a class="headerlink" href="#port-specific-changes-irix" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una serie de antiguos módulos específicos de IRIX fueron obsoletos y serán eliminados en Python 3.0: <code class="xref py py-mod docutils literal notranslate"><span class="pre">al</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">AL</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">cd</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">cddb</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">cdplayer</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">CL</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">cl</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">DEVICE</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">ERRNO</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">FILE</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">FL</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">fl</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">flp</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">fm</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">GET</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">GLWS</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">GL</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">gl</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">IN</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">IOCTL</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">jpeg</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">panelparser</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">readcd</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">SV</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">sv</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">torgb</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">videoreader</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">WAIT</span></code>.</p>
</section>
</section>
<section id="porting-to-python-2-6">
<h2>Adaptación a Python 2.6<a class="headerlink" href="#porting-to-python-2-6" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección enumera los cambios descritos anteriormente y otras correcciones de errores que pueden requerir cambios en su código:</p>
<ul>
<li><p>Las clases que no se supone que son hashable deben establecer <code class="docutils literal notranslate"><span class="pre">__hash__</span> <span class="pre">=</span> <span class="pre">None</span></code> en sus definiciones para indicar el hecho.</p></li>
<li><p>Se han eliminado las excepciones de cadena.  Al intentar utilizarlas se produce un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.</p></li>
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> de <a class="reference internal" href="../library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.deque</span></code></a> ahora borra cualquier contenido existente del deque antes de añadir elementos del iterable.  Este cambio hace que el comportamiento coincida con <code class="docutils literal notranslate"><span class="pre">list.__init__()</span></code>.</p></li>
<li><p><a class="reference internal" href="../reference/datamodel.html#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__init__()</span></code></a> anteriormente aceptaba argumentos arbitrarios y argumentos de palabras clave, ignorándolos.  En Python 2.6, esto ya no está permitido y resultará en un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.  Esto afectará a los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> que acaben llamando al método correspondiente en <a class="reference internal" href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> (quizás mediante el uso de <a class="reference internal" href="../library/functions.html#super" title="super"><code class="xref py py-func docutils literal notranslate"><span class="pre">super()</span></code></a>). Ver <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1683368">bpo-1683368</a> para su discusión.</p></li>
<li><p>El constructor <code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code> ahora acepta los espacios en blanco iniciales y finales cuando se le pasa una cadena.  Antes lanzaba una excepción <code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidOperation</span></code>.  Por otro lado, el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">create_decimal()</span></code> de los objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code> ahora desestima explícitamente los espacios en blanco adicionales, lanzando una excepción <code class="xref py py-exc docutils literal notranslate"><span class="pre">ConversionSyntax</span></code>.</p></li>
<li><p>Debido a un accidente de implementación, si se pasaba una ruta de archivo a la función incorporada <a class="reference internal" href="../library/functions.html#import__" title="__import__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__import__()</span></code></a>, ésta importaría realmente el archivo especificado.  Sin embargo, nunca se pretendió que esto funcionara, y la implementación ahora comprueba explícitamente este caso y lanza un <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a>.</p></li>
<li><p>API C: las funciones <a class="reference internal" href="../c-api/import.html#c.PyImport_Import" title="PyImport_Import"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_Import()</span></code></a> y <a class="reference internal" href="../c-api/import.html#c.PyImport_ImportModule" title="PyImport_ImportModule"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ImportModule()</span></code></a> ahora se ajustan por defecto a importaciones absolutas, no a importaciones relativas. Esto afectará a las extensiones de C que importen otros módulos.</p></li>
<li><p>API C: los tipos de datos de extensión que no deben ser hashable deben definir su ranura <code class="docutils literal notranslate"><span class="pre">tp_hash</span></code> a <a class="reference internal" href="../c-api/object.html#c.PyObject_HashNotImplemented" title="PyObject_HashNotImplemented"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_HashNotImplemented()</span></code></a>.</p></li>
<li><p>La excepción del módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> <a class="reference internal" href="../library/socket.html#socket.error" title="socket.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">socket.error</span></code></a> ahora hereda de <a class="reference internal" href="../library/exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a>.  Anteriormente no era una subclase de <code class="xref py py-exc docutils literal notranslate"><span class="pre">StandardError</span></code> pero ahora lo es, a través de <a class="reference internal" href="../library/exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a>. (Implementado por Gregory P. Smith; <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1706815">bpo-1706815</a>.)</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpclib</span></code> ya no convierte automáticamente las instancias <a class="reference internal" href="../library/datetime.html#datetime.date" title="datetime.date"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.time</span></code></a> al tipo <code class="xref py py-class docutils literal notranslate"><span class="pre">xmlrpclib.DateTime</span></code>; la semántica de conversión no era necesariamente correcta para todas las aplicaciones.  El código que utiliza <code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpclib</span></code> debe convertir las instancias <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1330538">bpo-1330538</a>)</p></li>
<li><p>(Modo de advertencia 3.0) La clase <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> ahora advierte cuando se accede utilizando el acceso a la rebanada o al índice; tener <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> se comporta como una tupla está siendo eliminado.</p></li>
<li><p>(modo de advertencia 3.0) las comparaciones de desigualdad entre dos diccionarios o dos objetos que no implementan métodos de comparación se reportan como advertencias.  <code class="docutils literal notranslate"><span class="pre">dict1</span> <span class="pre">==</span> <span class="pre">dict2</span></code> sigue funcionando, pero <code class="docutils literal notranslate"><span class="pre">dict1</span> <span class="pre">&lt;</span> <span class="pre">dict2</span></code> está siendo eliminado.</p>
<p>Las comparaciones entre celdas, que son un detalle de implementación de las reglas de alcance de Python, también causan advertencias porque tales comparaciones están prohibidas por completo en 3.0.</p>
</li>
</ul>
</section>
<section id="acknowledgements">
<span id="acks"></span><h2>Agradecimientos<a class="headerlink" href="#acknowledgements" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El autor desea agradecer a las siguientes personas sus sugerencias, correcciones y ayuda en varios borradores de este artículo: Georg Brandl, Steve Brown, Nick Coghlan, Ralph Corderoy, Jim Jewett, Kent Johnson, Chris Lambacher, Martin Michlmayr, Antoine Pitrou, Brian Warner.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 2.6</a><ul>
<li><a class="reference internal" href="#python-3-0">Python 3.0</a></li>
<li><a class="reference internal" href="#changes-to-the-development-process">Cambios en el proceso de desarrollo</a><ul>
<li><a class="reference internal" href="#new-issue-tracker-roundup">Nuevo seguidor de incidentes: Roundup</a></li>
<li><a class="reference internal" href="#new-documentation-format-restructuredtext-using-sphinx">Nuevo formato de documentación: texto reestructurado con Sphinx</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-343-the-with-statement">PEP 343: La sentencia <em>“with”</em></a><ul>
<li><a class="reference internal" href="#writing-context-managers">Escribiendo gestores de contexto</a></li>
<li><a class="reference internal" href="#the-contextlib-module">El módulo contextlib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-366-explicit-relative-imports-from-a-main-module">PEP 366: Importaciones relativas explícitas desde un módulo principal</a></li>
<li><a class="reference internal" href="#pep-370-per-user-site-packages-directory">PEP 370: Directorio de <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> por usuario</a></li>
<li><a class="reference internal" href="#pep-371-the-multiprocessing-package">PEP 371: El paquete <code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code></a></li>
<li><a class="reference internal" href="#pep-3101-advanced-string-formatting">PEP 3101: Formateo avanzado de cadena de caracteres</a></li>
<li><a class="reference internal" href="#pep-3105-print-as-a-function">PEP 3105: <code class="docutils literal notranslate"><span class="pre">print</span></code> como función</a></li>
<li><a class="reference internal" href="#pep-3110-exception-handling-changes">PEP 3110: Cambios en el manejo de excepciones</a></li>
<li><a class="reference internal" href="#pep-3112-byte-literals">PEP 3112: Literales de bytes</a></li>
<li><a class="reference internal" href="#pep-3116-new-i-o-library">PEP 3116: Nueva biblioteca de E/S</a></li>
<li><a class="reference internal" href="#pep-3118-revised-buffer-protocol">PEP 3118: Protocolo revisado de la memoria intermedia</a></li>
<li><a class="reference internal" href="#pep-3119-abstract-base-classes">PEP 3119: Clases base abstractas</a></li>
<li><a class="reference internal" href="#pep-3127-integer-literal-support-and-syntax">PEP 3127: Soporte y sintaxis de literales enteros</a></li>
<li><a class="reference internal" href="#pep-3129-class-decorators">PEP 3129: Decoradores de clase</a></li>
<li><a class="reference internal" href="#pep-3141-a-type-hierarchy-for-numbers">PEP 3141: Una jerarquía de tipos para los números</a><ul>
<li><a class="reference internal" href="#the-fractions-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios lingüísticos</a><ul>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#interpreter-changes">Cambios de intérprete</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-and-improved-modules">Módulos nuevos y mejorados</a><ul>
<li><a class="reference internal" href="#the-ast-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a></li>
<li><a class="reference internal" href="#the-future-builtins-module">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">future_builtins</span></code></a></li>
<li><a class="reference internal" href="#the-json-module-javascript-object-notation">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code>: Notación de objetos de JavaScript</a></li>
<li><a class="reference internal" href="#the-plistlib-module-a-property-list-parser">El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code>: Un analizador de listas de propiedades</a></li>
<li><a class="reference internal" href="#ctypes-enhancements">mejoras en ctypes</a></li>
<li><a class="reference internal" href="#improved-ssl-support">Mejora de la compatibilidad con SSL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecations-and-removals">Cancelaciones y eliminaciones</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la API de construcción y C</a><ul>
<li><a class="reference internal" href="#port-specific-changes-windows">Cambios específicos en los puertos: Windows</a></li>
<li><a class="reference internal" href="#port-specific-changes-mac-os-x">Cambios específicos en los puertos: Mac OS X</a></li>
<li><a class="reference internal" href="#port-specific-changes-irix">Cambios específicos en los puertos: IRIX</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-2-6">Adaptación a Python 2.6</a></li>
<li><a class="reference internal" href="#acknowledgements">Agradecimientos</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="2.7.html"
                          title="capítulo anterior">Qué hay de nuevo en Python 2.7</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="2.5.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 2.5</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/whatsnew/2.6.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="2.5.html" title="Qué hay de nuevo en Python 2.5"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="2.7.html" title="Qué hay de nuevo en Python 2.7"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 2.6</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>