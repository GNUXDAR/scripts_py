
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="email.generator: Generando documentos MIME" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/email.generator.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Código fuente: Lib/email/generator.py Una de las tareas más comunes es generar la versión plana (serializada) del mensaje de correo electrónico representado por una estructura de objeto de mensaje...." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Código fuente: Lib/email/generator.py Una de las tareas más comunes es generar la versión plana (serializada) del mensaje de correo electrónico representado por una estructura de objeto de mensaje...." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>email.generator: Generando documentos MIME &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="email.policy: Objetos Policy" href="email.policy.html" />
    <link rel="prev" title="email.parser: Analizar mensajes de correo electrónico" href="email.parser.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/email.generator.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="email.parser.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.parser</span></code>: Analizar mensajes de correo electrónico</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="email.policy.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.policy</span></code>: Objetos <em>Policy</em></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/email.generator.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="email.policy.html" title="email.policy: Objetos Policy"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="email.parser.html" title="email.parser: Analizar mensajes de correo electrónico"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="netdata.html" >Manejo de datos de internet</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="email.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> — Un paquete de manejo de correo electrónico y MIME</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.generator</span></code>: Generando documentos MIME</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-email.generator">
<span id="email-generator-generating-mime-documents"></span><h1><a class="reference internal" href="#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.generator</span></code></a>: Generando documentos MIME<a class="headerlink" href="#module-email.generator" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Código fuente:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/email/generator.py">Lib/email/generator.py</a></p>
<hr class="docutils" />
<p>Una de las tareas más comunes es generar la versión plana (serializada) del mensaje de correo electrónico representado por una estructura de objeto de mensaje.  Se tendrá que hacer esto si se desea enviar un mensaje a través de <a class="reference internal" href="smtplib.html#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smtplib.SMTP.sendmail()</span></code></a>,  o el módulo <a class="reference internal" href="nntplib.html#module-nntplib" title="nntplib: NNTP protocol client (requires sockets). (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nntplib</span></code></a>, o imprimir el mensaje en la consola. Tomar una estructura de objeto de mensaje y producir una representación serializada es el trabajo de las clases generadoras.</p>
<p>Al igual que con el módulo <a class="reference internal" href="email.parser.html#module-email.parser" title="email.parser: Parse flat text email messages to produce a message object structure."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.parser</span></code></a>, no se limita a la funcionalidad del generador incluido; se podría escribir uno desde cero. Sin embargo, el generador incluido sabe cómo generar la mayoría del correo electrónico de una manera compatible con los estándares, debería controlar los mensajes de correo electrónico MIME y no MIME bien. Está diseñado para que las operaciones de análisis y generación orientadas a bytes sean inversas, asumiendo que se utilice la misma <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> de no transformación para ambos. Es decir, analizar la secuencia de bytes serializada a través de la clase <a class="reference internal" href="email.parser.html#email.parser.BytesParser" title="email.parser.BytesParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesParser</span></code></a> y, a continuación, regenerar la secuencia de bytes serializada mediante <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a> debe producir una salida idéntica a la entrada <a class="footnote-reference brackets" href="#id3" id="id1">1</a>. (Por otro lado, el uso del generador en un <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> construido por el programa puede dar lugar a cambios en el objeto <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> a medida que se rellenan los valores predeterminados.)</p>
<p>La clase <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> se puede utilizar para acoplar un mensaje en una representación serializada de texto (a diferencia de la binaria). Sin embargo, como Unicode no puede representar datos binarios directamente, el mensaje es necesariamente transformado en algo que contiene sólo caracteres ASCII. Se utiliza las técnicas de codificación de transferencia de contenido RFC de correo electrónico estándar para codificar mensajes de correo electrónico para el transporte a través de canales que no son «8 bits limpios».</p>
<p>Para adaptar procesamiento reproducible de mensajes firmados por SMIME,  <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> deshabilita el encabezamiento para las partes del mensaje de tipo <code class="docutils literal notranslate"><span class="pre">multipart/signed</span></code> y todas sus subpartes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.generator.BytesGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.generator.</span></span><span class="sig-name descname"><span class="pre">BytesGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mangle_from_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxheaderlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.BytesGenerator" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un objeto <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a> que escribirá cualquier mensaje provisto por el método <a class="reference internal" href="#email.generator.BytesGenerator.flatten" title="email.generator.BytesGenerator.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flatten()</span></code></a>, o cualquier texto de escape sustituto cifrado con el método <a class="reference internal" href="#email.generator.BytesGenerator.write" title="email.generator.BytesGenerator.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a>, al <a class="reference internal" href="../glossary.html#term-file-like-object"><span class="xref std std-term">file-like object</span></a> <em>outfp</em>. <em>outfp</em> debe soportar un método <code class="docutils literal notranslate"><span class="pre">write</span></code> que acepte datos binarios.</p>
<p>If optional <em>mangle_from_</em> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, put a <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> character in front of
any line in the body that starts with the exact string <code class="docutils literal notranslate"><span class="pre">&quot;From</span> <span class="pre">&quot;</span></code>, that is
<code class="docutils literal notranslate"><span class="pre">From</span></code> followed by a space at the beginning of a line.  <em>mangle_from_</em>
defaults to the value of the <a class="reference internal" href="email.policy.html#email.policy.Policy.mangle_from_" title="email.policy.Policy.mangle_from_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mangle_from_</span></code></a>
setting of the <em>policy</em> (which is <code class="docutils literal notranslate"><span class="pre">True</span></code> for the
<a class="reference internal" href="email.policy.html#email.policy.compat32" title="email.policy.compat32"><code class="xref py py-data docutils literal notranslate"><span class="pre">compat32</span></code></a> policy and <code class="docutils literal notranslate"><span class="pre">False</span></code> for all others).
<em>mangle_from_</em> is intended for use when messages are stored in Unix mbox
format (see <a class="reference internal" href="mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailbox</span></code></a> and <a class="reference external" href="https://www.jwz.org/doc/content-length.html">WHY THE CONTENT-LENGTH FORMAT IS BAD</a>).</p>
<p>Si <em>maxheaderlen</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, se repliega las líneas de encabezado que son mayores que <em>maxheaderlen</em>, o si es <code class="docutils literal notranslate"><span class="pre">0</span></code>, no se reenvuelve ningún encabezado. Si <em>manheaderlen</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se envuelven los encabezados y otras líneas de mensajes de acuerdo a los ajustes de <em>policy</em>.</p>
<p>Si la <em>norma</em> es especificada, se usa esa norma para controlar la generación de mensajes. Si la <em>norma</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se usa la norma asociada con el <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> o el objeto <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> pasado para <code class="docutils literal notranslate"><span class="pre">flatten</span></code> para controlar la generación del mensaje. Se puede ver <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.policy</span></code></a> para detalles de que controla la <em>norma</em>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.2.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Agregada la palabra clave <em>norma</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El comportamiento predeterminado de los parámetros <em>mangle_from_</em> y <em>maxheaderlen</em> es para seguir la norma.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="email.generator.BytesGenerator.flatten">
<span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unixfrom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linesep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.BytesGenerator.flatten" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Imprime la representación textual de la estructura del objeto de mensaje originada en <em>msg</em> al archivo de salida especificado cuando se creó la instancia <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a>.</p>
<p>Si el tipo <a class="reference internal" href="email.policy.html#email.policy.Policy.cte_type" title="email.policy.Policy.cte_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cte_type</span></code></a> de la opción <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> es <code class="docutils literal notranslate"><span class="pre">8bit</span></code> (valor predeterminado), se copia los encabezados en el mensaje analizado original que no se hayan modificado con ningún bytes a la salida con el conjunto de bits altos, reproducido como en el original, y se conserva el <em class="mailheader">Content-Transfer-Encoding</em> no ASCII de cualquier parte del cuerpo que los tenga. Si <code class="docutils literal notranslate"><span class="pre">cte_type</span></code> es <code class="docutils literal notranslate"><span class="pre">7bit</span></code>, se convierte los bytes con el conjunto de bits altos según sea necesario utilizando un <em class="mailheader">Content-Transfer-Encoding</em> compatible con ASCII . Es decir, se transforma partes con <em class="mailheader">Content-Transfer-Encoding</em> no ASCII (<em class="mailheader">Content-Transfer-Encoding: 8bit</em>) en un conjunto de caracteres compatible con ASCII <em class="mailheader">Content-Transfer-Encoding</em>, y se codifica bytes inválidos RFC no ASCII en encabezados mediante el conjunto de caracteres MIME <code class="docutils literal notranslate"><span class="pre">unknown-8bit</span></code>, lo que los convierte en compatibles con RFC.</p>
<p>Si <em>unixfrom</em> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, se imprime el delimitador de encabezado de sobre utilizado por el formato de buzón de correo Unix (consulta <a class="reference internal" href="mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailbox</span></code></a>) antes del primero de los encabezados <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a> del objeto de mensaje raíz. Si el objeto raíz no tiene encabezado de sobre, se crea uno estándar. El valor predeterminado es <code class="docutils literal notranslate"><span class="pre">False</span></code>. Tener en cuenta que para las subpartes, nunca se imprime ningún encabezado de sobre.</p>
<p>Si <em>linesep</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, se usa como caracter separador entre todas las líneas del mensaje acoplado. Si <em>linesep</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se usa el valor especificado en la <em>norma</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.generator.BytesGenerator.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.BytesGenerator.clone" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un clon independiente de esta instancia de  <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a> con las mismas configuraciones exactas, y <em>fp</em> como el nuevo <em>outfp</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.generator.BytesGenerator.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.BytesGenerator.write" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Codifica <em>s</em> usando el códec <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> u el manipulador de error <code class="docutils literal notranslate"><span class="pre">escape</span> <span class="pre">sustituto</span></code>, y lo pasa al método <em>write</em> del <em>outfp</em> pasado al constructor de la clase <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a>.</p>
</dd></dl>

</dd></dl>

<p>Como conveniencia, <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> provee los métodos <a class="reference internal" href="email.message.html#email.message.EmailMessage.as_bytes" title="email.message.EmailMessage.as_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_bytes()</span></code></a> y <code class="docutils literal notranslate"><span class="pre">bytes(aMessage)</span></code> (también conocido como <a class="reference internal" href="email.message.html#email.message.EmailMessage.__bytes__" title="email.message.EmailMessage.__bytes__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__bytes__()</span></code></a>) que simplifican la generación de la representación serializada binaria de un objeto mensaje. Para más detalle, ver <a class="reference internal" href="email.message.html#module-email.message" title="email.message: The base class representing email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.message</span></code></a>.</p>
<p>Dado que las cadenas de caracteres no pueden representar datos binarios, la clase <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> debe convertir los datos binarios en cualquier mensaje que aplane a un formato compatible con ASCII, convirtiéndolos en un <em class="mailheader">Content-Transfer_Encoding</em> compatible con ASCII. Usando la terminología de RFC de correo electrónico, se puede pensar en esto como <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> serializando a una secuencia de E/S que no es <em>«8 bit clean»</em>. En otras palabras, la mayoría de las aplicaciones querrán usar <a class="reference internal" href="#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a>, y no <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.generator.Generator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.generator.</span></span><span class="sig-name descname"><span class="pre">Generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mangle_from_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxheaderlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.Generator" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un objeto <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> que escribirá cualquier mensaje provisto al método <a class="reference internal" href="#email.generator.Generator.flatten" title="email.generator.Generator.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flatten()</span></code></a>, o cualquier texto provisto al método <a class="reference internal" href="#email.generator.Generator.write" title="email.generator.Generator.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a>, al <a class="reference internal" href="../glossary.html#term-file-like-object"><span class="xref std std-term">file-like object</span></a> <em>outfp</em>. <em>outfp</em> debe soportar un método <code class="docutils literal notranslate"><span class="pre">write</span></code> que acepte datos de cadena de caracteres.</p>
<p>If optional <em>mangle_from_</em> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, put a <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> character in front of
any line in the body that starts with the exact string <code class="docutils literal notranslate"><span class="pre">&quot;From</span> <span class="pre">&quot;</span></code>, that is
<code class="docutils literal notranslate"><span class="pre">From</span></code> followed by a space at the beginning of a line.  <em>mangle_from_</em>
defaults to the value of the <a class="reference internal" href="email.policy.html#email.policy.Policy.mangle_from_" title="email.policy.Policy.mangle_from_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mangle_from_</span></code></a>
setting of the <em>policy</em> (which is <code class="docutils literal notranslate"><span class="pre">True</span></code> for the
<a class="reference internal" href="email.policy.html#email.policy.compat32" title="email.policy.compat32"><code class="xref py py-data docutils literal notranslate"><span class="pre">compat32</span></code></a> policy and <code class="docutils literal notranslate"><span class="pre">False</span></code> for all others).
<em>mangle_from_</em> is intended for use when messages are stored in Unix mbox
format (see <a class="reference internal" href="mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailbox</span></code></a> and <a class="reference external" href="https://www.jwz.org/doc/content-length.html">WHY THE CONTENT-LENGTH FORMAT IS BAD</a>).</p>
<p>Si <em>maxheaderlen</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, se repliega las líneas de encabezado que son mayores que <em>maxheaderlen</em>, o si es <code class="docutils literal notranslate"><span class="pre">0</span></code>, no se reenvuelve ningún encabezado. Si <em>manheaderlen</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se envuelven los encabezados y otras líneas de mensajes de acuerdo a los ajustes de <em>policy</em>.</p>
<p>Si la <em>norma</em> es especificada, se usa esa norma para controlar la generación de mensajes. Si la <em>norma</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se usa la norma asociada con el <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> o el objeto <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> pasado para <code class="docutils literal notranslate"><span class="pre">flatten</span></code> para controlar la generación del mensaje. Se puede ver <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.policy</span></code></a> para detalles de que controla la <em>norma</em>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Agregada la palabra clave <em>norma</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El comportamiento predeterminado de los parámetros <em>mangle_from_</em> y <em>maxheaderlen</em> es para seguir la norma.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="email.generator.Generator.flatten">
<span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unixfrom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linesep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.Generator.flatten" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Imprime la representación textual de la estructura del objeto de mensaje originado en el <em>msg</em> al archivo especificado de salida cuando la instancia de <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> fue creada.</p>
<p>Si la opción <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> <a class="reference internal" href="email.policy.html#email.policy.Policy.cte_type" title="email.policy.Policy.cte_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cte_type</span></code></a> es <code class="docutils literal notranslate"><span class="pre">8bit</span></code>, se genera el mensaje como si la opción estuviera establecida en <code class="docutils literal notranslate"><span class="pre">7bit</span></code>. (Esto es necesario porque las cadenas de caracteres no pueden representar bytes que no sean ASCII). Convierte cualesquiera bytes con el conjunto de bits alto según sea necesario utilizando un <em class="mailheader">Content-Transfer-Encoding</em> compatible con ASCII. Es decir, transforma partes con <em class="mailheader">Content-Transfer-Encoding</em> (<em class="mailheader">Content-Transfer-Encoding: 8bit</em>) no ASCII en un conjunto de caracteres <em class="mailheader">Content-Transfer-Encoding</em> compatible con ASCII. Y codifica bytes no ASCII RFC inválidos ASCII en encabezados mediante el conjunto de caracteres MIME <code class="docutils literal notranslate"><span class="pre">unknown-8bit</span></code>, lo que los convierte en compatibles con RFC.</p>
<p>Si <em>unixfrom</em> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, se imprime el delimitador de encabezado de sobre utilizado por el formato de buzón de correo Unix (consulta <a class="reference internal" href="mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailbox</span></code></a>) antes del primero de los encabezados <span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a> del objeto de mensaje raíz. Si el objeto raíz no tiene encabezado de sobre, se crea uno estándar. El valor predeterminado es <code class="docutils literal notranslate"><span class="pre">False</span></code>. Tener en cuenta que para las subpartes, nunca se imprime ningún encabezado de sobre.</p>
<p>Si <em>linesep</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, se usa como caracter separador entre todas las líneas del mensaje acoplado. Si <em>linesep</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> (predeterminado), se usa el valor especificado en la <em>norma</em>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>Agrega soporte para el recodificado de cuerpos de mensajes <code class="docutils literal notranslate"><span class="pre">8bit</span></code>, y el argumento <em>linesep</em>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.generator.Generator.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.Generator.clone" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un clon independiente de esta instancia de  <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> con las mismas opciones exactas y <em>fp</em> como la nueva <em>outfp</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.generator.Generator.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.Generator.write" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Escribe <em>s</em> al método <em>write</em> del <em>outfp</em> pasado al constructor de la <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>. Esto provee justo la suficiente API de tipo archivo para instancias de <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> para ser usadas en la función <a class="reference internal" href="functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<p>Para conveniencia, <a class="reference internal" href="email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a>  provee los métodos  <a class="reference internal" href="email.message.html#email.message.EmailMessage.as_string" title="email.message.EmailMessage.as_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_string()</span></code></a> y <code class="docutils literal notranslate"><span class="pre">str(aMessage)</span></code> (también conocido como <a class="reference internal" href="email.message.html#email.message.EmailMessage.__str__" title="email.message.EmailMessage.__str__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__str__()</span></code></a>), que simplifican la generación de una representación de una cadena de caracteres formateada de un objeto mensaje. Para más detalles, ver <a class="reference internal" href="email.message.html#module-email.message" title="email.message: The base class representing email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.message</span></code></a>.</p>
<p>El módulo <a class="reference internal" href="#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.generator</span></code></a> también provee una clase derivada, <a class="reference internal" href="#email.generator.DecodedGenerator" title="email.generator.DecodedGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecodedGenerator</span></code></a>, la cual es como la clase base <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>, excepto que las partes no <em class="mimetype">text</em> no están serializadas, sino que en su lugar, están representadas en el flujo de salida por una cadena de caracteres derivada de una plantilla llenada con información sobre la parte.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.generator.DecodedGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.generator.</span></span><span class="sig-name descname"><span class="pre">DecodedGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mangle_from_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxheaderlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#email.generator.DecodedGenerator" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Se actúa como <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>, excepto para cualquier subparte del mensaje pasado a <a class="reference internal" href="#email.generator.Generator.flatten" title="email.generator.Generator.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.flatten()</span></code></a>, si la subparte es de tipo principal <em class="mimetype">text</em>, se imprime la carga útil decodificada de la subparte, y si el tipo principal no es <em class="mimetype">text</em>, en lugar de imprimirlo se rellena la cadena de caracteres <em>fmt</em> utilizando la información de la parte y se imprime la cadena de caracteres rellenada resultante.</p>
<p>Para llenar <em>fmt</em>, se ejecuta <code class="docutils literal notranslate"><span class="pre">fmt</span> <span class="pre">%</span> <span class="pre">part_info</span></code>, donde <code class="docutils literal notranslate"><span class="pre">part_info</span></code> es un diccionario compuesto por las siguientes claves y valores:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – Todo el tipo MIME de la parte no<em class="mimetype">text</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maintype</span></code> – Principal tipo MIME de la parte no<em class="mimetype">text</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subtype</span></code> – Tipo sub-MIME de la parte no-<em class="mimetype">text</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> – Nombre de archivo de la parte no<em class="mimetype">text</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">description</span></code> – Descripción asociada con la parte no<em class="mimetype">text</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encoding</span></code> – Codificado de la transferencia del contenido de la parte no-<em class="mimetype">text</em></p></li>
</ul>
<p>Si <em>fmt</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code>, se usa el siguiente <em>fmt</em> predeterminado:</p>
<blockquote>
<div><p>«[Non-text (%(type)s) part of message omitted, filename %(filename)s]»</p>
</div></blockquote>
<p>Los opcionales <em>_mangle_from_</em> y <em>maxheaderlen</em> son como en la clase base <a class="reference internal" href="#email.generator.Generator" title="email.generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.</p>
</dd></dl>

<p class="rubric">Notas al pie</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Esta instrucción supone que se utiliza la configuración adecuada para <code class="docutils literal notranslate"><span class="pre">unixfrom</span></code>, y que no hay ninguna configuración <code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code> que llame a ajustes automáticos (por ejemplo, <code class="xref py py-attr docutils literal notranslate"><span class="pre">refold_source</span></code> debe ser <code class="docutils literal notranslate"><span class="pre">none</span></code>, que es <em>no</em> es el valor predeterminado). Esto tampoco es 100% verdadero, ya que si el mensaje no se ajusta a los estándares RFC ocasionalmente la información sobre el texto original exacto se pierde durante la el análisis de recuperación de errores. Es un objetivo fijar estos últimos casos extremos cuando sea posible.</p>
</dd>
</dl>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="email.parser.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.parser</span></code>: Analizar mensajes de correo electrónico</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="email.policy.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.policy</span></code>: Objetos <em>Policy</em></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/email.generator.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="email.policy.html" title="email.policy: Objetos Policy"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="email.parser.html" title="email.parser: Analizar mensajes de correo electrónico"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="netdata.html" >Manejo de datos de internet</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="email.html" ><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> — Un paquete de manejo de correo electrónico y MIME</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.generator</span></code>: Generando documentos MIME</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>