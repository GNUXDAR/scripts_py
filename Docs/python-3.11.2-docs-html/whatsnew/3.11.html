
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="Qué hay de nuevo en Python 3.11" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/whatsnew/3.11.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Versión, 3.11.2,, Fecha, marzo 23, 2023,, Editor, Pablo Galindo Salgado,. Este artículo explica las nuevas características de Python 3.11, en comparación con 3.10. Para obtener detalles completos, ..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Versión, 3.11.2,, Fecha, marzo 23, 2023,, Editor, Pablo Galindo Salgado,. Este artículo explica las nuevas características de Python 3.11, en comparación con 3.10. Para obtener detalles completos, ..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>Qué hay de nuevo en Python 3.11 &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Qué hay de nuevo en Python 3.10" href="3.10.html" />
    <link rel="prev" title="Qué hay de nuevo en Python" href="index.html" />
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.11.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 3.11</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Aspectos destacados de la versión</a></li>
<li><a class="reference internal" href="#new-features">Nuevas características</a><ul>
<li><a class="reference internal" href="#pep-657-fine-grained-error-locations-in-tracebacks">PEP 657: Ubicaciones de errores detallados en rastreos</a></li>
<li><a class="reference internal" href="#pep-654-exception-groups-and-except">PEP 654: Grupos de excepción y <code class="docutils literal notranslate"><span class="pre">except*</span></code></a></li>
<li><a class="reference internal" href="#pep-678-exceptions-can-be-enriched-with-notes">PEP 678: Las excepciones se pueden enriquecer con notas</a></li>
<li><a class="reference internal" href="#windows-py-exe-launcher-improvements">Mejoras en el iniciador de Windows <code class="docutils literal notranslate"><span class="pre">py.exe</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-related-to-type-hints">Nuevas funciones relacionadas con las sugerencias de tipo</a><ul>
<li><a class="reference internal" href="#pep-646-variadic-generics">PEP 646: Genéricos Variádicos</a></li>
<li><a class="reference internal" href="#pep-655-marking-individual-typeddict-items-as-required-or-not-required">PEP 655: Marcado de elementos <code class="docutils literal notranslate"><span class="pre">TypedDict</span></code> individuales como requeridos o no requeridos</a></li>
<li><a class="reference internal" href="#pep-673-self-type">PEP 673: tipo <code class="docutils literal notranslate"><span class="pre">Self</span></code></a></li>
<li><a class="reference internal" href="#pep-675-arbitrary-literal-string-type">PEP 675: tipo de cadena literal arbitraria</a></li>
<li><a class="reference internal" href="#pep-681-data-class-transforms">PEP 681: Transformaciones de clases de datos</a></li>
<li><a class="reference internal" href="#pep-563-may-not-be-the-future">PEP 563 puede no ser el futuro</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios de idioma</a></li>
<li><a class="reference internal" href="#other-cpython-implementation-changes">Otros cambios en la implementación de CPython</a></li>
<li><a class="reference internal" href="#new-modules">Nuevos Módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#asyncio">asíncio</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#dataclasses">clases de datos</a></li>
<li><a class="reference internal" href="#datetime">fecha y hora</a></li>
<li><a class="reference internal" href="#enum">enumeración</a></li>
<li><a class="reference internal" href="#fcntl">fcntl</a></li>
<li><a class="reference internal" href="#fractions">fracciones</a></li>
<li><a class="reference internal" href="#functools">herramientas funcionales</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#whatsnew311-idle">IDLE y libre de inactividad</a></li>
<li><a class="reference internal" href="#inspect">inspeccionar</a></li>
<li><a class="reference internal" href="#locale">lugar</a></li>
<li><a class="reference internal" href="#logging">Inicio sesión</a></li>
<li><a class="reference internal" href="#math">Matemáticas</a></li>
<li><a class="reference internal" href="#operator">operador</a></li>
<li><a class="reference internal" href="#os">sistema operativo</a></li>
<li><a class="reference internal" href="#pathlib">rutalib</a></li>
<li><a class="reference internal" href="#re">re</a></li>
<li><a class="reference internal" href="#shutil">cerrar</a></li>
<li><a class="reference internal" href="#socket">enchufe</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#string">cuerda</a></li>
<li><a class="reference internal" href="#sys">sistema</a></li>
<li><a class="reference internal" href="#sysconfig">configuración del sistema</a></li>
<li><a class="reference internal" href="#tempfile">archivo temporal</a></li>
<li><a class="reference internal" href="#threading">enhebrar</a></li>
<li><a class="reference internal" href="#time">tiempo</a></li>
<li><a class="reference internal" href="#tkinter">tkinter</a></li>
<li><a class="reference internal" href="#traceback">rastrear</a></li>
<li><a class="reference internal" href="#typing">mecanografía</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#unittest">prueba de unidad</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#warnings">advertencias</a></li>
<li><a class="reference internal" href="#zipfile">archivo zip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#faster-cpython">CPython más rápido</a><ul>
<li><a class="reference internal" href="#faster-startup">Inicio más rápido</a><ul>
<li><a class="reference internal" href="#frozen-imports-static-code-objects">Importaciones congeladas / Objetos de código estático</a></li>
</ul>
</li>
<li><a class="reference internal" href="#faster-runtime">Tiempo de ejecución más rápido</a><ul>
<li><a class="reference internal" href="#cheaper-lazy-python-frames">Marcos de Python más baratos y perezosos</a></li>
<li><a class="reference internal" href="#inlined-python-function-calls">Llamadas a funciones de Python en línea</a></li>
<li><a class="reference internal" href="#pep-659-specializing-adaptive-interpreter">PEP 659: Intérprete Adaptativo Especializado</a></li>
</ul>
</li>
<li><a class="reference internal" href="#misc">Varios</a></li>
<li><a class="reference internal" href="#faq">Preguntas más frecuentes</a><ul>
<li><a class="reference internal" href="#how-should-i-write-my-code-to-utilize-these-speedups">How should I write my code to utilize these speedups?</a></li>
<li><a class="reference internal" href="#will-cpython-3-11-use-more-memory">Will CPython 3.11 use more memory?</a></li>
<li><a class="reference internal" href="#i-don-t-see-any-speedups-in-my-workload-why">I don’t see any speedups in my workload. Why?</a></li>
<li><a class="reference internal" href="#is-there-a-jit-compiler">Is there a JIT compiler?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#about">Sobre</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Cambios en el código de bytes de CPython</a><ul>
<li><a class="reference internal" href="#new-opcodes">Nuevos códigos de operación</a></li>
<li><a class="reference internal" href="#replaced-opcodes">Códigos de operación reemplazados</a></li>
<li><a class="reference internal" href="#changed-removed-opcodes">Códigos de operación cambiados/eliminados</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a><ul>
<li><a class="reference internal" href="#language-builtins">Idioma/Construidos</a></li>
<li><a class="reference internal" href="#modules">Módulos</a></li>
<li><a class="reference internal" href="#standard-library">Biblioteca estándar</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pending-removal-in-python-3-12">Eliminación pendiente en Python 3.12</a></li>
<li><a class="reference internal" href="#removed">Remoto</a></li>
<li><a class="reference internal" href="#porting-to-python-3-11">Migración a Python 3.11</a></li>
<li><a class="reference internal" href="#build-changes">Construir cambios</a></li>
<li><a class="reference internal" href="#c-api-changes">Cambios en la API de C</a><ul>
<li><a class="reference internal" href="#whatsnew311-c-api-new-features">Nuevas características</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-porting">Migración a Python 3.11</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-deprecated">Obsoleto</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-pending-removal">Eliminación pendiente en Python 3.12</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-removed">Remoto</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="index.html"
                          title="capítulo anterior">Qué hay de nuevo en Python</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="3.10.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 3.10</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/whatsnew/3.11.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.10.html" title="Qué hay de nuevo en Python 3.10"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="index.html" title="Qué hay de nuevo en Python"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 3.11</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-3-11">
<h1>Qué hay de nuevo en Python 3.11<a class="headerlink" href="#what-s-new-in-python-3-11" title="Enlazar permanentemente con este título">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Versión</dt>
<dd class="field-odd"><p>3.11.2</p>
</dd>
<dt class="field-even">Fecha</dt>
<dd class="field-even"><p>marzo 23, 2023</p>
</dd>
<dt class="field-odd">Editor</dt>
<dd class="field-odd"><p>Pablo Galindo Salgado</p>
</dd>
</dl>
<p>Este artículo explica las nuevas características de Python 3.11, en comparación con 3.10.</p>
<p>Para obtener detalles completos, consulte <a class="reference internal" href="changelog.html#changelog"><span class="std std-ref">changelog</span></a>.</p>
<section id="summary-release-highlights">
<span id="whatsnew311-summary"></span><h2>Resumen – Aspectos destacados de la versión<a class="headerlink" href="#summary-release-highlights" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p>Python 3.11 es entre un 10 y un 60 % más rápido que Python 3.10. En promedio, medimos un aumento de velocidad de 1.25x en el conjunto de pruebas de referencia estándar. Ver <a class="reference internal" href="#whatsnew311-faster-cpython"><span class="std std-ref">CPython más rápido</span></a> para más detalles.</p></li>
</ul>
<p>Nuevas funciones de sintaxis:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew311-pep654"><span class="std std-ref">PEP 654: Grupos de excepción y except*</span></a></p></li>
</ul>
<p>Nuevas funciones integradas:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew311-pep678"><span class="std std-ref">PEP 678: Las excepciones se pueden enriquecer con notas</span></a></p></li>
</ul>
<p>Nuevos módulos de biblioteca estándar:</p>
<ul class="simple">
<li><p><span class="target" id="index-80"></span><a class="pep reference external" href="https://peps.python.org/pep-0680/"><strong>PEP 680</strong></a>: <a class="reference internal" href="../library/tomllib.html#module-tomllib" title="tomllib: Parse TOML files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tomllib</span></code></a>: soporte para analizar <a class="reference external" href="https://toml.io/">TOML</a> en la biblioteca estándar</p></li>
</ul>
<p>Mejoras en el intérprete:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew311-pep657"><span class="std std-ref">PEP 657: Ubicaciones de errores detallados en rastreos</span></a></p></li>
<li><p>Nueva opción de línea de comando <a class="reference internal" href="../using/cmdline.html#cmdoption-P"><code class="xref std std-option docutils literal notranslate"><span class="pre">-P</span></code></a> y variable de entorno <span class="target" id="index-81"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONSAFEPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONSAFEPATH</span></code></a> a <a class="reference internal" href="#whatsnew311-pythonsafepath"><span class="std std-ref">disable automatically prepending potentially unsafe paths</span></a> a <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a></p></li>
</ul>
<p>Nuevas funciones de escritura:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew311-pep646"><span class="std std-ref">PEP 646: Genéricos Variádicos</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew311-pep655"><span class="std std-ref">PEP 655: Marcado de elementos TypedDict individuales como requeridos o no requeridos</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew311-pep673"><span class="std std-ref">PEP 673: tipo Self</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew311-pep675"><span class="std std-ref">PEP 675: tipo de cadena literal arbitraria</span></a></p></li>
<li><p><a class="reference internal" href="#whatsnew311-pep681"><span class="std std-ref">PEP 681: Transformaciones de clases de datos</span></a></p></li>
</ul>
<p>Importantes depreciaciones, eliminaciones y restricciones:</p>
<ul class="simple">
<li><p><span class="target" id="index-82"></span><a class="pep reference external" href="https://peps.python.org/pep-0594/"><strong>PEP 594</strong></a>: <a class="reference internal" href="#whatsnew311-pep594"><span class="std std-ref">Many legacy standard library modules have been deprecated</span></a> y se eliminará en Python 3.13</p></li>
<li><p><span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0624/"><strong>PEP 624</strong></a>:
<a class="reference internal" href="#whatsnew311-pep624"><span class="std std-ref">Py_UNICODE encoder APIs have been removed</span></a></p></li>
<li><p><span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0670/"><strong>PEP 670</strong></a>:
<a class="reference internal" href="#whatsnew311-pep670"><span class="std std-ref">Macros converted to static inline functions</span></a></p></li>
</ul>
</section>
<section id="new-features">
<span id="whatsnew311-features"></span><h2>Nuevas características<a class="headerlink" href="#new-features" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="pep-657-fine-grained-error-locations-in-tracebacks">
<span id="whatsnew311-pep657"></span><h3>PEP 657: Ubicaciones de errores detallados en rastreos<a class="headerlink" href="#pep-657-fine-grained-error-locations-in-tracebacks" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Al imprimir rastreos, el intérprete ahora señalará la expresión exacta que causó el error, en lugar de solo la línea. Por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;distance.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">manhattan_distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">))</span>
          <span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
  <span class="n">File</span> <span class="s2">&quot;distance.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="n">manhattan_distance</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">point_1</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">point_2</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">point_1</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">point_2</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                           <span class="o">^^^^^^^^^</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="s1">&#39;NoneType&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;x&#39;</span>
</pre></div>
</div>
<p>Las versiones anteriores del intérprete apuntaban solo a la línea, por lo que resultaba ambiguo qué objeto era <code class="docutils literal notranslate"><span class="pre">None</span></code>. Estos errores mejorados también pueden ser útiles cuando se trata de objetos <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> profundamente anidados y múltiples llamadas a funciones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;query.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">37</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">magic_arithmetic</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;query.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">18</span><span class="p">,</span> <span class="ow">in</span> <span class="n">magic_arithmetic</span>
    <span class="k">return</span> <span class="n">add_counts</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="mi">25</span>
           <span class="o">^^^^^^^^^^^^^</span>
  <span class="n">File</span> <span class="s2">&quot;query.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">24</span><span class="p">,</span> <span class="ow">in</span> <span class="n">add_counts</span>
    <span class="k">return</span> <span class="mi">25</span> <span class="o">+</span> <span class="n">query_user</span><span class="p">(</span><span class="n">user1</span><span class="p">)</span> <span class="o">+</span> <span class="n">query_user</span><span class="p">(</span><span class="n">user2</span><span class="p">)</span>
                <span class="o">^^^^^^^^^^^^^^^^^</span>
  <span class="n">File</span> <span class="s2">&quot;query.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query_user</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">query_count</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="s1">&#39;b&#39;</span><span class="p">][</span><span class="s1">&#39;c&#39;</span><span class="p">][</span><span class="s1">&#39;user&#39;</span><span class="p">],</span> <span class="n">retry</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                               <span class="o">~~~~~~~~~~~~~~~~~~^^^^^</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;NoneType&#39;</span> <span class="nb">object</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">subscriptable</span>
</pre></div>
</div>
<p>Además de expresiones aritméticas complejas:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;calculation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">54</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="n">y</span> <span class="o">/</span> <span class="n">z</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="o">/</span> <span class="n">c</span><span class="p">)</span>
              <span class="o">~~~~~~^~~</span>
<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">division</span> <span class="n">by</span> <span class="n">zero</span>
</pre></div>
</div>
<p>Además, la información utilizada por la función de rastreo mejorada está disponible a través de una API general, que se puede usar para correlacionar <a class="reference internal" href="../glossary.html#term-bytecode"><span class="xref std std-term">bytecode</span></a> <a class="reference internal" href="../library/dis.html#bytecodes"><span class="std std-ref">instructions</span></a> con la ubicación del código fuente. Esta información se puede recuperar usando:</p>
<ul class="simple">
<li><p>El método <a class="reference internal" href="../reference/datamodel.html#codeobject.co_positions" title="codeobject.co_positions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">codeobject.co_positions()</span></code></a> en Python.</p></li>
<li><p>La función <a class="reference internal" href="../c-api/code.html#c.PyCode_Addr2Location" title="PyCode_Addr2Location"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_Addr2Location()</span></code></a> en la API de C.</p></li>
</ul>
<p>Ver <span class="target" id="index-83"></span><a class="pep reference external" href="https://peps.python.org/pep-0657/"><strong>PEP 657</strong></a> para más detalles. (Aportado por Pablo Galindo, Batuhan Taskaya y Ammar Askar en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43950">bpo-43950</a>.)</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Esta característica requiere almacenar las posiciones de las columnas en <a class="reference internal" href="../c-api/code.html#codeobjects"><span class="std std-ref">Objetos código</span></a>, lo que puede resultar en un pequeño aumento en el uso de la memoria del intérprete y el uso del disco para los archivos de Python compilados. Para evitar almacenar la información adicional y desactivar la impresión de la información de seguimiento adicional, utilice la opción de línea de comando <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">no_debug_ranges</span></code></a> o la variable de entorno <span class="target" id="index-84"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONNODEBUGRANGES"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONNODEBUGRANGES</span></code></a>.</p>
</div>
</section>
<section id="pep-654-exception-groups-and-except">
<span id="whatsnew311-pep654"></span><h3>PEP 654: Grupos de excepción y <code class="docutils literal notranslate"><span class="pre">except*</span></code><a class="headerlink" href="#pep-654-exception-groups-and-except" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-85"></span><a class="pep reference external" href="https://peps.python.org/pep-0654/"><strong>PEP 654</strong></a> presenta funciones de lenguaje que permiten que un programa genere y maneje múltiples excepciones no relacionadas simultáneamente. Los tipos integrados <a class="reference internal" href="../library/exceptions.html#ExceptionGroup" title="ExceptionGroup"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ExceptionGroup</span></code></a> y <a class="reference internal" href="../library/exceptions.html#BaseExceptionGroup" title="BaseExceptionGroup"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BaseExceptionGroup</span></code></a> permiten agrupar excepciones y generarlas juntas, y la nueva sintaxis <a class="reference internal" href="../reference/compound_stmts.html#except-star"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code></a> generaliza <a class="reference internal" href="../reference/compound_stmts.html#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> para hacer coincidir subgrupos de grupos de excepciones.</p>
<p>Ver <span class="target" id="index-86"></span><a class="pep reference external" href="https://peps.python.org/pep-0654/"><strong>PEP 654</strong></a> para más detalles.</p>
<p>(Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45292">bpo-45292</a>. PEP escrito por Irit Katriel, Yury Selivanov y Guido van Rossum.)</p>
</section>
<section id="pep-678-exceptions-can-be-enriched-with-notes">
<span id="whatsnew311-pep678"></span><h3>PEP 678: Las excepciones se pueden enriquecer con notas<a class="headerlink" href="#pep-678-exceptions-can-be-enriched-with-notes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <a class="reference internal" href="../library/exceptions.html#BaseException.add_note" title="BaseException.add_note"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_note()</span></code></a> se agrega a <a class="reference internal" href="../library/exceptions.html#BaseException" title="BaseException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BaseException</span></code></a>. Se puede utilizar para enriquecer las excepciones con información de contexto que no está disponible en el momento en que se genera la excepción. Las notas añadidas aparecen en el rastreo predeterminado.</p>
<p>Ver <span class="target" id="index-87"></span><a class="pep reference external" href="https://peps.python.org/pep-0678/"><strong>PEP 678</strong></a> para más detalles.</p>
<p>(Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45607">bpo-45607</a>. PEP escrito por Zac Hatfield-Dodds).</p>
</section>
<section id="windows-py-exe-launcher-improvements">
<span id="whatsnew311-windows-launcher"></span><h3>Mejoras en el iniciador de Windows <code class="docutils literal notranslate"><span class="pre">py.exe</span></code><a class="headerlink" href="#windows-py-exe-launcher-improvements" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La copia de <a class="reference internal" href="../using/windows.html#launcher"><span class="std std-ref">Lanzador de Python para Windows</span></a> incluida con Python 3.11 se ha actualizado significativamente. Ahora es compatible con la sintaxis de empresa/etiqueta tal como se define en <span class="target" id="index-88"></span><a class="pep reference external" href="https://peps.python.org/pep-0514/"><strong>PEP 514</strong></a> utilizando el argumento <code class="docutils literal notranslate"><span class="pre">-V:&lt;company&gt;/&lt;tag&gt;</span></code> en lugar del <code class="docutils literal notranslate"><span class="pre">-&lt;major&gt;.&lt;minor&gt;</span></code> limitado. Esto permite lanzar distribuciones distintas a <code class="docutils literal notranslate"><span class="pre">PythonCore</span></code>, la que está alojada en <a class="reference external" href="https://python.org">python.org</a>.</p>
<p>Al usar los selectores <code class="docutils literal notranslate"><span class="pre">-V:</span></code>, se puede omitir la empresa o la etiqueta, pero se buscarán todas las instalaciones. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">-V:OtherPython/</span></code> seleccionará la «mejor» etiqueta registrada para <code class="docutils literal notranslate"><span class="pre">OtherPython</span></code>, mientras que <code class="docutils literal notranslate"><span class="pre">-V:3.11</span></code> o <code class="docutils literal notranslate"><span class="pre">-V:/3.11</span></code> seleccionarán la «mejor» distribución con la etiqueta <code class="docutils literal notranslate"><span class="pre">3.11</span></code>.</p>
<p>Al usar los argumentos heredados <code class="docutils literal notranslate"><span class="pre">-&lt;major&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-&lt;major&gt;.&lt;minor&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-&lt;major&gt;-&lt;bitness&gt;</span></code> o <code class="docutils literal notranslate"><span class="pre">-&lt;major&gt;.&lt;minor&gt;-&lt;bitness&gt;</span></code>, se debe conservar todo el comportamiento existente de las versiones anteriores y solo se seleccionarán las versiones de <code class="docutils literal notranslate"><span class="pre">PythonCore</span></code>. Sin embargo, el sufijo <code class="docutils literal notranslate"><span class="pre">-64</span></code> ahora implica «no de 32 bits» (no necesariamente x86-64), ya que existen múltiples plataformas de 64 bits compatibles. Los tiempos de ejecución de 32 bits se detectan comprobando la etiqueta del tiempo de ejecución en busca de un sufijo <code class="docutils literal notranslate"><span class="pre">-32</span></code>. Todas las versiones de Python desde la 3.5 han incluido esto en sus compilaciones de 32 bits.</p>
</section>
</section>
<section id="new-features-related-to-type-hints">
<span id="whatsnew311-typing-features"></span><span id="new-feat-related-type-hints-311"></span><h2>Nuevas funciones relacionadas con las sugerencias de tipo<a class="headerlink" href="#new-features-related-to-type-hints" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección cubre los cambios principales que afectan las sugerencias de tipo <span class="target" id="index-89"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> y el módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>.</p>
<section id="pep-646-variadic-generics">
<span id="whatsnew311-pep646"></span><h3>PEP 646: Genéricos Variádicos<a class="headerlink" href="#pep-646-variadic-generics" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-90"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> introdujo anteriormente <a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeVar</span></code></a>, lo que permite la creación de genéricos parametrizados con un solo tipo. <span class="target" id="index-91"></span><a class="pep reference external" href="https://peps.python.org/pep-0646/"><strong>PEP 646</strong></a> añade <a class="reference internal" href="../library/typing.html#typing.TypeVarTuple" title="typing.TypeVarTuple"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeVarTuple</span></code></a>, permitiendo la parametrización con un número de tipos <em>arbitrary</em>. En otras palabras, un <a class="reference internal" href="../library/typing.html#typing.TypeVarTuple" title="typing.TypeVarTuple"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeVarTuple</span></code></a> es una variable de tipo <em>variadic</em> que permite los genéricos <em>variadic</em>.</p>
<p>Esto permite una amplia variedad de casos de uso. En particular, permite parametrizar con el arreglo <em>shape</em> el tipo de estructuras similares a arreglos en bibliotecas de computación numérica como NumPy y TensorFlow. Los verificadores de tipo estático ahora podrán detectar errores relacionados con la forma en el código que usa estas bibliotecas.</p>
<p>Ver <span class="target" id="index-92"></span><a class="pep reference external" href="https://peps.python.org/pep-0646/"><strong>PEP 646</strong></a> para más detalles.</p>
<p>(Contribuido por Matthew Rahtz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43224">bpo-43224</a>, con contribuciones de Serhiy Storchaka y Jelle Zijlstra. PEP escrito por Mark Mendoza, Matthew Rahtz, Pradeep Kumar Srinivasan y Vincent Siles).</p>
</section>
<section id="pep-655-marking-individual-typeddict-items-as-required-or-not-required">
<span id="whatsnew311-pep655"></span><h3>PEP 655: Marcado de elementos <code class="docutils literal notranslate"><span class="pre">TypedDict</span></code> individuales como requeridos o no requeridos<a class="headerlink" href="#pep-655-marking-individual-typeddict-items-as-required-or-not-required" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/typing.html#typing.Required" title="typing.Required"><code class="xref py py-data docutils literal notranslate"><span class="pre">Required</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.NotRequired" title="typing.NotRequired"><code class="xref py py-data docutils literal notranslate"><span class="pre">NotRequired</span></code></a> proporcionan una forma sencilla de marcar si deben estar presentes elementos individuales en un <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedDict</span></code></a>. Anteriormente, esto solo era posible mediante la herencia.</p>
<p>Todos los campos siguen siendo obligatorios de forma predeterminada, a menos que el parámetro <em>total</em> se establezca en <code class="docutils literal notranslate"><span class="pre">False</span></code>, en cuyo caso todos los campos siguen sin ser obligatorios de forma predeterminada. Por ejemplo, lo siguiente especifica un <code class="xref py py-class docutils literal notranslate"><span class="pre">TypedDict</span></code> con una clave requerida y una no requerida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
   <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
   <span class="n">year</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

<span class="n">m1</span><span class="p">:</span> <span class="n">Movie</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Black Panther&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="mi">2018</span><span class="p">}</span>  <span class="c1"># OK</span>
<span class="n">m2</span><span class="p">:</span> <span class="n">Movie</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Star Wars&quot;</span><span class="p">}</span>  <span class="c1"># OK (year is not required)</span>
<span class="n">m3</span><span class="p">:</span> <span class="n">Movie</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="mi">2022</span><span class="p">}</span>  <span class="c1"># ERROR (missing required field title)</span>
</pre></div>
</div>
<p>La siguiente definición es equivalente:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
   <span class="n">title</span><span class="p">:</span> <span class="n">Required</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
   <span class="n">year</span><span class="p">:</span> <span class="nb">int</span>
</pre></div>
</div>
<p>Ver <span class="target" id="index-93"></span><a class="pep reference external" href="https://peps.python.org/pep-0655/"><strong>PEP 655</strong></a> para más detalles.</p>
<p>(Aportado por David Foster y Jelle Zijlstra en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47087">bpo-47087</a>. PEP escrito por David Foster).</p>
</section>
<section id="pep-673-self-type">
<span id="whatsnew311-pep673"></span><h3>PEP 673: tipo <code class="docutils literal notranslate"><span class="pre">Self</span></code><a class="headerlink" href="#pep-673-self-type" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva anotación <a class="reference internal" href="../library/typing.html#typing.Self" title="typing.Self"><code class="xref py py-data docutils literal notranslate"><span class="pre">Self</span></code></a> proporciona una forma sencilla e intuitiva de anotar métodos que devuelven una instancia de su clase. Se comporta igual que el enfoque <span class="target" id="index-94"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/#annotating-instance-and-class-methods"><strong>specified in PEP 484</strong></a> basado en <a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>, pero es más conciso y más fácil de seguir.</p>
<p>Los casos de uso comunes incluyen constructores alternativos proporcionados como <a class="reference internal" href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod</span></code></a>s y métodos <a class="reference internal" href="../reference/datamodel.html#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code></a> que devuelven <code class="docutils literal notranslate"><span class="pre">self</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyLock</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="o">...</span>

<span class="k">class</span> <span class="nc">MyInt</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">fromhex</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>

    <span class="o">...</span>
</pre></div>
</div>
<p><a class="reference internal" href="../library/typing.html#typing.Self" title="typing.Self"><code class="xref py py-data docutils literal notranslate"><span class="pre">Self</span></code></a> también se puede usar para anotar parámetros de método o atributos del mismo tipo que su clase envolvente.</p>
<p>Ver <span class="target" id="index-95"></span><a class="pep reference external" href="https://peps.python.org/pep-0673/"><strong>PEP 673</strong></a> para más detalles.</p>
<p>(Aportado por James Hilton-Balfe en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46534">bpo-46534</a>. PEP escrito por Pradeep Kumar Srinivasan y James Hilton-Balfe).</p>
</section>
<section id="pep-675-arbitrary-literal-string-type">
<span id="whatsnew311-pep675"></span><h3>PEP 675: tipo de cadena literal arbitraria<a class="headerlink" href="#pep-675-arbitrary-literal-string-type" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva anotación <a class="reference internal" href="../library/typing.html#typing.LiteralString" title="typing.LiteralString"><code class="xref py py-data docutils literal notranslate"><span class="pre">LiteralString</span></code></a> se puede usar para indicar que un parámetro de función puede ser de cualquier tipo de cadena literal. Esto permite que una función acepte tipos de cadenas literales arbitrarias, así como cadenas creadas a partir de otras cadenas literales. Los verificadores de tipos pueden hacer cumplir que las funciones confidenciales, como las que ejecutan declaraciones SQL o comandos de shell, se llamen solo con argumentos estáticos, lo que brinda protección contra ataques de inyección.</p>
<p>Por ejemplo, una función de consulta SQL podría anotarse de la siguiente manera:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_query</span><span class="p">(</span><span class="n">sql</span><span class="p">:</span> <span class="n">LiteralString</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">...</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">caller</span><span class="p">(</span>
    <span class="n">arbitrary_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">query_string</span><span class="p">:</span> <span class="n">LiteralString</span><span class="p">,</span>
    <span class="n">table_name</span><span class="p">:</span> <span class="n">LiteralString</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">run_query</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM students&quot;</span><span class="p">)</span>       <span class="c1"># ok</span>
    <span class="n">run_query</span><span class="p">(</span><span class="n">query_string</span><span class="p">)</span>                   <span class="c1"># ok</span>
    <span class="n">run_query</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM &quot;</span> <span class="o">+</span> <span class="n">table_name</span><span class="p">)</span>  <span class="c1"># ok</span>
    <span class="n">run_query</span><span class="p">(</span><span class="n">arbitrary_string</span><span class="p">)</span>               <span class="c1"># type checker error</span>
    <span class="n">run_query</span><span class="p">(</span>                                <span class="c1"># type checker error</span>
        <span class="sa">f</span><span class="s2">&quot;SELECT * FROM students WHERE name = </span><span class="si">{</span><span class="n">arbitrary_string</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>Ver <span class="target" id="index-96"></span><a class="pep reference external" href="https://peps.python.org/pep-0675/"><strong>PEP 675</strong></a> para más detalles.</p>
<p>(Aportado por Jelle Zijlstra en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47088">bpo-47088</a>. PEP escrito por Pradeep Kumar Srinivasan y Graham Bleaney).</p>
</section>
<section id="pep-681-data-class-transforms">
<span id="whatsnew311-pep681"></span><h3>PEP 681: Transformaciones de clases de datos<a class="headerlink" href="#pep-681-data-class-transforms" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/typing.html#typing.dataclass_transform" title="typing.dataclass_transform"><code class="xref py py-data docutils literal notranslate"><span class="pre">dataclass_transform</span></code></a> se puede usar para decorar una clase, una metaclase o una función que en sí misma es un decorador. La presencia de <code class="docutils literal notranslate"><span class="pre">&#64;dataclass_transform()</span></code> le dice a un verificador de tipo estático que el objeto decorado realiza una «magia» en tiempo de ejecución que transforma una clase, dándole comportamientos similares a <a class="reference internal" href="../library/dataclasses.html#dataclasses.dataclass" title="dataclasses.dataclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">dataclass</span></code></a>.</p>
<p>Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The create_model decorator is defined by a library.</span>
<span class="nd">@typing</span><span class="o">.</span><span class="n">dataclass_transform</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">create_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
    <span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span> <span class="o">=</span> <span class="o">...</span>
    <span class="bp">cls</span><span class="o">.</span><span class="fm">__eq__</span> <span class="o">=</span> <span class="o">...</span>
    <span class="bp">cls</span><span class="o">.</span><span class="fm">__ne__</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="bp">cls</span>

<span class="c1"># The create_model decorator can now be used to create new model classes:</span>
<span class="nd">@create_model</span>
<span class="k">class</span> <span class="nc">CustomerModel</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">CustomerModel</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">327</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Eric Idle&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Ver <span class="target" id="index-97"></span><a class="pep reference external" href="https://peps.python.org/pep-0681/"><strong>PEP 681</strong></a> para más detalles.</p>
<p>(Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/91860">gh-91860</a>. PEP escrito por Erik De Bonte y Eric Traut.)</p>
</section>
<section id="pep-563-may-not-be-the-future">
<span id="whatsnew311-pep563-deferred"></span><h3>PEP 563 puede no ser el futuro<a class="headerlink" href="#pep-563-may-not-be-the-future" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-98"></span><a class="pep reference external" href="https://peps.python.org/pep-0563/"><strong>PEP 563</strong></a> Evaluación pospuesta de anotaciones (<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code> <a class="reference internal" href="../reference/simple_stmts.html#future"><span class="std std-ref">future statement</span></a>) que originalmente se planeó para su lanzamiento en Python 3.10 se suspendió indefinidamente. Consulte <a class="reference external" href="https://mail.python.org/archives/list/python-dev&#64;python.org/message/VIZEBX5EYMSYIJNDBF6DMUMZOCWHARSO/">this message from the Steering Council</a> para obtener más información.</p>
</section>
</section>
<section id="other-language-changes">
<span id="whatsnew311-other-lang-changes"></span><h2>Otros cambios de idioma<a class="headerlink" href="#other-language-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p>Las expresiones de desempaquetado destacadas ahora se pueden usar en declaraciones <a class="reference internal" href="../reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a>. (Consulte <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46725">bpo-46725</a> para obtener más detalles).</p></li>
<li><p>Ahora se permiten <a class="reference internal" href="../reference/expressions.html#comprehensions"><span class="std std-ref">comprehensions</span></a> asincrónicos dentro de las comprensiones en <a class="reference internal" href="../reference/compound_stmts.html#async-def"><span class="std std-ref">asynchronous functions</span></a>. Las comprensiones externas implícitamente se vuelven asincrónicas en este caso. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33346">bpo-33346</a>.)</p></li>
<li><p>Ahora se genera un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> en lugar de un <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> en declaraciones <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> y <a class="reference internal" href="../library/contextlib.html#contextlib.ExitStack.enter_context" title="contextlib.ExitStack.enter_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contextlib.ExitStack.enter_context()</span></code></a> para objetos que no admiten el protocolo <a class="reference internal" href="../glossary.html#term-context-manager"><span class="xref std std-term">context manager</span></a>, y en declaraciones <a class="reference internal" href="../reference/compound_stmts.html#async-with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code></a> y <a class="reference internal" href="../library/contextlib.html#contextlib.AsyncExitStack.enter_async_context" title="contextlib.AsyncExitStack.enter_async_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contextlib.AsyncExitStack.enter_async_context()</span></code></a> para objetos que no admiten el protocolo <a class="reference internal" href="../glossary.html#term-asynchronous-context-manager"><span class="xref std std-term">asynchronous context manager</span></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12022">bpo-12022</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44471">bpo-44471</a>).</p></li>
<li><p>Se agregó <a class="reference internal" href="../library/pickle.html#object.__getstate__" title="object.__getstate__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__getstate__()</span></code></a>, que proporciona la implementación predeterminada del método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getstate__()</span></code>. Las instancias <a class="reference internal" href="../library/copy.html#module-copy" title="copy: Shallow and deep copy operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">copy</span></code></a>ing y <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a>ing de subclases de tipos integrados <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#frozenset" title="frozenset"><code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code></a>, <a class="reference internal" href="../library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a>, <a class="reference internal" href="../library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.deque</span></code></a>, <a class="reference internal" href="../library/weakref.html#weakref.WeakSet" title="weakref.WeakSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">weakref.WeakSet</span></code></a> y <a class="reference internal" href="../library/datetime.html#datetime.tzinfo" title="datetime.tzinfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.tzinfo</span></code></a> ahora copian y conservan atributos de instancia implementados como <a class="reference internal" href="../glossary.html#term-__slots__"><span class="xref std std-term">slots</span></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26579">bpo-26579</a>.)</p></li>
</ul>
<ul class="simple" id="whatsnew311-pythonsafepath">
<li><p>Se agregó una opción de línea de comando <a class="reference internal" href="../using/cmdline.html#cmdoption-P"><code class="xref std std-option docutils literal notranslate"><span class="pre">-P</span></code></a> y una variable de entorno <span class="target" id="index-99"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONSAFEPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONSAFEPATH</span></code></a>, que deshabilitan la anteposición automática a <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> del directorio del script cuando se ejecuta un script, o el directorio actual cuando se usa <a class="reference internal" href="../using/cmdline.html#cmdoption-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c</span></code></a> y <a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a>. Esto garantiza que <a class="reference internal" href="../reference/simple_stmts.html#import"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">import</span></code></a> solo recopile la biblioteca estándar y los módulos instalados, y evita el remedo involuntario o malicioso de los módulos con los de un directorio local (y normalmente el usuario puede escribir). (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/57684">gh-57684</a>.)</p></li>
<li><p>Se agregó una opción <code class="docutils literal notranslate"><span class="pre">&quot;z&quot;</span></code> a <a class="reference internal" href="../library/string.html#formatspec"><span class="std std-ref">Especificación de formato Mini-Lenguaje</span></a> que cambia negativo a cero positivo después de redondear a la precisión del formato. Ver <span class="target" id="index-100"></span><a class="pep reference external" href="https://peps.python.org/pep-0682/"><strong>PEP 682</strong></a> para más detalles. (Aportado por John Belmonte en <a class="reference external" href="https://github.com/python/cpython/issues/90153">gh-90153</a>.)</p></li>
<li><p>Ya no se aceptan bytes en <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>. El soporte se interrumpió en algún momento entre Python 3.2 y 3.6, y nadie se dio cuenta hasta después del lanzamiento de Python 3.10.0. Además, recuperar la compatibilidad sería problemático debido a las interacciones entre <a class="reference internal" href="../using/cmdline.html#cmdoption-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a> y <a class="reference internal" href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path_importer_cache</span></code></a> cuando hay una combinación de claves <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> y <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>. (Aportado por Thomas Grainger en <a class="reference external" href="https://github.com/python/cpython/issues/91181">gh-91181</a>.)</p></li>
</ul>
</section>
<section id="other-cpython-implementation-changes">
<span id="whatsnew311-other-implementation-changes"></span><h2>Otros cambios en la implementación de CPython<a class="headerlink" href="#other-cpython-implementation-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p>Los métodos especiales <a class="reference internal" href="../reference/datamodel.html#object.__complex__" title="object.__complex__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__complex__()</span></code></a> para <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a> y <a class="reference internal" href="../reference/datamodel.html#object.__bytes__" title="object.__bytes__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__bytes__()</span></code></a> para <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> se implementan para admitir los protocolos <a class="reference internal" href="../library/typing.html#typing.SupportsComplex" title="typing.SupportsComplex"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.SupportsComplex</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.SupportsBytes" title="typing.SupportsBytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.SupportsBytes</span></code></a>. (Aportado por Mark Dickinson y Dong-hee Na en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24234">bpo-24234</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">siphash13</span></code> se agrega como un nuevo algoritmo hash interno. Tiene propiedades de seguridad similares a <code class="docutils literal notranslate"><span class="pre">siphash24</span></code>, pero es un poco más rápido para entradas largas. <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> y algunos otros tipos ahora lo usan como algoritmo predeterminado para <a class="reference internal" href="../library/functions.html#hash" title="hash"><code class="xref py py-func docutils literal notranslate"><span class="pre">hash()</span></code></a>. <span class="target" id="index-101"></span><a class="pep reference external" href="https://peps.python.org/pep-0552/"><strong>PEP 552</strong></a> <a class="reference internal" href="../reference/import.html#pyc-invalidation"><span class="std std-ref">hash-based .pyc files</span></a> ahora también usa <code class="docutils literal notranslate"><span class="pre">siphash13</span></code>. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29410">bpo-29410</a>.)</p></li>
<li><p>Cuando una declaración <a class="reference internal" href="../reference/simple_stmts.html#raise"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">raise</span></code></a> sin parámetros vuelve a generar una excepción activa, el rastreo adjunto a esta excepción ahora siempre es <code class="docutils literal notranslate"><span class="pre">sys.exc_info()[1].__traceback__</span></code>. Esto significa que los cambios realizados en el rastreo en la cláusula <a class="reference internal" href="../reference/compound_stmts.html#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> actual se reflejan en la excepción que se ha vuelto a generar. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p>La representación del estado del intérprete de las excepciones manejadas (también conocido como <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> o <code class="docutils literal notranslate"><span class="pre">_PyErr_StackItem</span></code>) ahora solo tiene el campo <code class="docutils literal notranslate"><span class="pre">exc_value</span></code>; Se han eliminado <code class="docutils literal notranslate"><span class="pre">exc_type</span></code> y <code class="docutils literal notranslate"><span class="pre">exc_traceback</span></code>, ya que se pueden derivar de <code class="docutils literal notranslate"><span class="pre">exc_value</span></code>. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p>Se ha agregado un nuevo <a class="reference internal" href="../using/windows.html#install-quiet-option"><span class="std std-ref">command line option</span></a>, <code class="docutils literal notranslate"><span class="pre">AppendPath</span></code>, para el instalador de Windows. Se comporta de manera similar a <code class="docutils literal notranslate"><span class="pre">PrependPath</span></code>, pero agrega los directorios de instalación y scripts en lugar de anteponerlos. (Aportado por Bastian Neuburger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44934">bpo-44934</a>.)</p></li>
<li><p>El campo <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths_set</span></code></a> ahora debe establecerse en <code class="docutils literal notranslate"><span class="pre">1</span></code> para que la inicialización use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths</span></code></a> para inicializar <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>. De lo contrario, la inicialización volverá a calcular la ruta y reemplazará los valores agregados a <code class="docutils literal notranslate"><span class="pre">module_search_paths</span></code>.</p></li>
<li><p>La salida de la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-help"><code class="xref std std-option docutils literal notranslate"><span class="pre">--help</span></code></a> ahora cabe en 50 líneas/80 columnas. La información sobre las opciones <a class="reference internal" href="../using/cmdline.html#using-on-envvars"><span class="std std-ref">Python environment variables</span></a> y <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> ahora está disponible utilizando los indicadores respectivos <a class="reference internal" href="../using/cmdline.html#cmdoption-help-env"><code class="xref std std-option docutils literal notranslate"><span class="pre">--help-env</span></code></a> y <a class="reference internal" href="../using/cmdline.html#cmdoption-help-xoptions"><code class="xref std std-option docutils literal notranslate"><span class="pre">--help-xoptions</span></code></a>, y con el nuevo <a class="reference internal" href="../using/cmdline.html#cmdoption-help-all"><code class="xref std std-option docutils literal notranslate"><span class="pre">--help-all</span></code></a>. (Contribución de Éric Araujo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46142">bpo-46142</a>.)</p></li>
<li><p>La conversión entre <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> y <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> en bases que no sean 2 (binario), 4, 8 (octal), 16 (hexadecimal) o 32 como base 10 (decimal) ahora genera un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> si el número de dígitos en forma de cadena es superior a un límite para evitar posibles ataques de denegación de servicio debido a la complejidad algorítmica. Esta es una mitigación para <a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10735">CVE-2020-10735</a>. Este límite se puede configurar o deshabilitar mediante la variable de entorno, el indicador de línea de comando o las API <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>. Consulte la documentación de <a class="reference internal" href="../library/stdtypes.html#int-max-str-digits"><span class="std std-ref">integer string conversion length limitation</span></a>. El límite predeterminado es de 4300 dígitos en forma de cadena.</p></li>
</ul>
</section>
<section id="new-modules">
<span id="whatsnew311-new-modules"></span><h2>Nuevos Módulos<a class="headerlink" href="#new-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../library/tomllib.html#module-tomllib" title="tomllib: Parse TOML files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tomllib</span></code></a>: para analizar <a class="reference external" href="https://toml.io/">TOML</a>. Ver <span class="target" id="index-102"></span><a class="pep reference external" href="https://peps.python.org/pep-0680/"><strong>PEP 680</strong></a> para más detalles. (Aportado por Taneli Hukkinen en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40059">bpo-40059</a>.)</p></li>
<li><p><a class="reference internal" href="../library/wsgiref.html#module-wsgiref.types" title="wsgiref.types: WSGI types for static type checking"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref.types</span></code></a>: tipos específicos de <span class="target" id="index-103"></span><a class="pep reference external" href="https://peps.python.org/pep-3333/"><strong>WSGI</strong></a> para la comprobación de tipos estáticos. (Aportado por Sebastian Rittau en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42012">bpo-42012</a>.)</p></li>
</ul>
</section>
<section id="improved-modules">
<span id="whatsnew311-improved-modules"></span><h2>Módulos mejorados<a class="headerlink" href="#improved-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="asyncio">
<span id="whatsnew311-asyncio"></span><h3>asíncio<a class="headerlink" href="#asyncio" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregó la clase <a class="reference internal" href="../library/asyncio-task.html#asyncio.TaskGroup" title="asyncio.TaskGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskGroup</span></code></a>, un <a class="reference internal" href="../reference/datamodel.html#async-context-managers"><span class="std std-ref">asynchronous context manager</span></a> que contiene un grupo de tareas que las esperará a todas al salir. Para código nuevo, se recomienda usar <a class="reference internal" href="../library/asyncio-task.html#asyncio.create_task" title="asyncio.create_task"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_task()</span></code></a> y <a class="reference internal" href="../library/asyncio-task.html#asyncio.gather" title="asyncio.gather"><code class="xref py py-func docutils literal notranslate"><span class="pre">gather()</span></code></a> directamente. (Aportado por Yury Selivanov y otros en <a class="reference external" href="https://github.com/python/cpython/issues/90908">gh-90908</a>.)</p></li>
<li><p>Se agregó <a class="reference internal" href="../library/asyncio-task.html#asyncio.timeout" title="asyncio.timeout"><code class="xref py py-func docutils literal notranslate"><span class="pre">timeout()</span></code></a>, un administrador de contexto asíncrono para establecer un tiempo de espera en operaciones asíncronas. Para código nuevo, se recomienda usar <a class="reference internal" href="../library/asyncio-task.html#asyncio.wait_for" title="asyncio.wait_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_for()</span></code></a> directamente. (Aportado por Andrew Svetlov en <a class="reference external" href="https://github.com/python/cpython/issues/90927">gh-90927</a>.)</p></li>
<li><p>Se agregó la clase <a class="reference internal" href="../library/asyncio-runner.html#asyncio.Runner" title="asyncio.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Runner</span></code></a>, que expone la maquinaria utilizada por <a class="reference internal" href="../library/asyncio-runner.html#asyncio.run" title="asyncio.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>. (Aportado por Andrew Svetlov en <a class="reference external" href="https://github.com/python/cpython/issues/91218">gh-91218</a>.)</p></li>
<li><p>Se agregó la clase <a class="reference internal" href="../library/asyncio-sync.html#asyncio.Barrier" title="asyncio.Barrier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Barrier</span></code></a> a las primitivas de sincronización en la biblioteca asyncio y la excepción <a class="reference internal" href="../library/asyncio-sync.html#asyncio.BrokenBarrierError" title="asyncio.BrokenBarrierError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BrokenBarrierError</span></code></a> relacionada. (Aportado por Yves Duprat y Andrew Svetlov en <a class="reference external" href="https://github.com/python/cpython/issues/87518">gh-87518</a>.)</p></li>
<li><p>Se agregó el argumento de palabra clave <em>all_errors</em> a <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.create_connection" title="asyncio.loop.create_connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.loop.create_connection()</span></code></a> para que se puedan generar varios errores de conexión como <a class="reference internal" href="../library/exceptions.html#ExceptionGroup" title="ExceptionGroup"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ExceptionGroup</span></code></a>.</p></li>
<li><p>Se agregó el método <a class="reference internal" href="../library/asyncio-stream.html#asyncio.StreamWriter.start_tls" title="asyncio.StreamWriter.start_tls"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.StreamWriter.start_tls()</span></code></a> para actualizar las conexiones basadas en secuencias existentes a TLS. (Aportado por Ian Good en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34975">bpo-34975</a>.)</p></li>
<li><p>Se agregaron funciones de socket de datagrama sin formato al bucle de eventos: <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.sock_sendto" title="asyncio.loop.sock_sendto"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sock_sendto()</span></code></a>, <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.sock_recvfrom" title="asyncio.loop.sock_recvfrom"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sock_recvfrom()</span></code></a> y <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.sock_recvfrom_into" title="asyncio.loop.sock_recvfrom_into"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sock_recvfrom_into()</span></code></a>. Estos tienen implementaciones en <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.SelectorEventLoop" title="asyncio.SelectorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectorEventLoop</span></code></a> y <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a>. (Aportado por Alex Grönholm en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46805">bpo-46805</a>.)</p></li>
<li><p>Se agregaron los métodos <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task.cancelling" title="asyncio.Task.cancelling"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cancelling()</span></code></a> y <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task.uncancel" title="asyncio.Task.uncancel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">uncancel()</span></code></a> a <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task" title="asyncio.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>. Estos están destinados principalmente para uso interno, en particular por <a class="reference internal" href="../library/asyncio-task.html#asyncio.TaskGroup" title="asyncio.TaskGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskGroup</span></code></a>.</p></li>
</ul>
</section>
<section id="contextlib">
<span id="whatsnew311-contextlib"></span><h3>contextlib<a class="headerlink" href="#contextlib" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregó un administrador de contexto <a class="reference internal" href="../library/contextlib.html#contextlib.chdir" title="contextlib.chdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">chdir()</span></code></a> no seguro en paralelo para cambiar el directorio de trabajo actual y luego restaurarlo al salir. Envoltorio simple alrededor de <a class="reference internal" href="../library/os.html#os.chdir" title="os.chdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">chdir()</span></code></a>. (Aportación de Filipe Laíns en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=25625">bpo-25625</a>)</p></li>
</ul>
</section>
<section id="dataclasses">
<span id="whatsnew311-dataclasses"></span><h3>clases de datos<a class="headerlink" href="#dataclasses" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Cambie la verificación de mutabilidad predeterminada del campo, permitiendo solo los valores predeterminados que son <a class="reference internal" href="../glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a> en lugar de cualquier objeto que no sea una instancia de <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> o <a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>. (Aportado por Eric V. Smith en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44674">bpo-44674</a>.)</p></li>
</ul>
</section>
<section id="datetime">
<span id="whatsnew311-datetime"></span><h3>fecha y hora<a class="headerlink" href="#datetime" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue <a class="reference internal" href="../library/datetime.html#datetime.UTC" title="datetime.UTC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime.UTC</span></code></a>, un alias conveniente para <a class="reference internal" href="../library/datetime.html#datetime.timezone.utc" title="datetime.timezone.utc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime.timezone.utc</span></code></a>. (Aportado por Kabir Kwatra en <a class="reference external" href="https://github.com/python/cpython/issues/91973">gh-91973</a>.)</p></li>
<li><p><a class="reference internal" href="../library/datetime.html#datetime.date.fromisoformat" title="datetime.date.fromisoformat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.date.fromisoformat()</span></code></a>, <a class="reference internal" href="../library/datetime.html#datetime.time.fromisoformat" title="datetime.time.fromisoformat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.time.fromisoformat()</span></code></a> y <a class="reference internal" href="../library/datetime.html#datetime.datetime.fromisoformat" title="datetime.datetime.fromisoformat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.datetime.fromisoformat()</span></code></a> ahora se pueden usar para analizar la mayoría de los formatos ISO 8601 (excepto aquellos que admiten fracciones de horas y minutos). (Aportado por Paul Ganssle en <a class="reference external" href="https://github.com/python/cpython/issues/80010">gh-80010</a>.)</p></li>
</ul>
</section>
<section id="enum">
<span id="whatsnew311-enum"></span><h3>enumeración<a class="headerlink" href="#enum" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Cambió el nombre de <code class="xref py py-class docutils literal notranslate"><span class="pre">EnumMeta</span></code> a <a class="reference internal" href="../library/enum.html#enum.EnumType" title="enum.EnumType"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumType</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EnumMeta</span></code> se mantuvo como un alias).</p></li>
<li><p>Se agregó <a class="reference internal" href="../library/enum.html#enum.StrEnum" title="enum.StrEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrEnum</span></code></a>, con miembros que se pueden usar como (y deben ser) cadenas.</p></li>
<li><p>Se agregó <a class="reference internal" href="../library/enum.html#enum.ReprEnum" title="enum.ReprEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReprEnum</span></code></a>, que solo modifica el <a class="reference internal" href="../reference/datamodel.html#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code></a> de los miembros mientras devuelve sus valores literales (en lugar de nombres) para <a class="reference internal" href="../reference/datamodel.html#object.__str__" title="object.__str__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__str__()</span></code></a> y <a class="reference internal" href="../reference/datamodel.html#object.__format__" title="object.__format__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__format__()</span></code></a> (utilizados por <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a>, <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a> y <a class="reference internal" href="../glossary.html#term-f-string"><span class="xref std std-term">f-string</span></a>s).</p></li>
<li><p>Changed <a class="reference internal" href="../library/enum.html#enum.IntEnum" title="enum.IntEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntEnum</span></code></a>, <a class="reference internal" href="../library/enum.html#enum.IntFlag" title="enum.IntFlag"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntFlag</span></code></a> and <a class="reference internal" href="../library/enum.html#enum.StrEnum" title="enum.StrEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrEnum</span></code></a>
to now inherit from <a class="reference internal" href="../library/enum.html#enum.ReprEnum" title="enum.ReprEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReprEnum</span></code></a>,
so their <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> output now matches <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a>
(both <code class="docutils literal notranslate"><span class="pre">str(AnIntEnum.ONE)</span></code> and <code class="docutils literal notranslate"><span class="pre">format(AnIntEnum.ONE)</span></code> return <code class="docutils literal notranslate"><span class="pre">'1'</span></code>,
whereas before <code class="docutils literal notranslate"><span class="pre">str(AnIntEnum.ONE)</span></code> returned <code class="docutils literal notranslate"><span class="pre">'AnIntEnum.ONE'</span></code>.</p></li>
<li><p>Se modificó <a class="reference internal" href="../library/enum.html#enum.Enum.__format__" title="enum.Enum.__format__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Enum.__format__()</span></code></a> (el valor predeterminado para <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#str.format" title="str.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> y <a class="reference internal" href="../glossary.html#term-f-string"><span class="xref std std-term">f-string</span></a>s) de enumeraciones con tipos combinados (por ejemplo, <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) para incluir también el nombre de la clase en la salida, no solo la clave del miembro. Esto coincide con el comportamiento existente de <a class="reference internal" href="../library/enum.html#enum.Enum.__str__" title="enum.Enum.__str__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enum.Enum.__str__()</span></code></a>, devolviendo, p. <code class="docutils literal notranslate"><span class="pre">'AnEnum.MEMBER'</span></code> para una enumeración <code class="docutils literal notranslate"><span class="pre">AnEnum(str,</span> <span class="pre">Enum)</span></code> en lugar de solo <code class="docutils literal notranslate"><span class="pre">'MEMBER'</span></code>.</p></li>
<li><p>Se agregó un nuevo parámetro de clase <em>boundary</em> a las enumeraciones <a class="reference internal" href="../library/enum.html#enum.Flag" title="enum.Flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flag</span></code></a> y la enumeración <a class="reference internal" href="../library/enum.html#enum.FlagBoundary" title="enum.FlagBoundary"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlagBoundary</span></code></a> con sus opciones, para controlar cómo manejar los valores de marca fuera de rango.</p></li>
<li><p>Se agregó el decorador de enumeración <a class="reference internal" href="../library/enum.html#enum.verify" title="enum.verify"><code class="xref py py-func docutils literal notranslate"><span class="pre">verify()</span></code></a> y la enumeración <a class="reference internal" href="../library/enum.html#enum.EnumCheck" title="enum.EnumCheck"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnumCheck</span></code></a> con sus opciones, para verificar las clases de enumeración contra varias restricciones específicas.</p></li>
<li><p>Se agregaron los decoradores <a class="reference internal" href="../library/enum.html#enum.member" title="enum.member"><code class="xref py py-func docutils literal notranslate"><span class="pre">member()</span></code></a> y <a class="reference internal" href="../library/enum.html#enum.nonmember" title="enum.nonmember"><code class="xref py py-func docutils literal notranslate"><span class="pre">nonmember()</span></code></a> para garantizar que el objeto decorado no se convierta en un miembro de enumeración.</p></li>
<li><p>Se agregó el decorador <a class="reference internal" href="../library/enum.html#enum.property" title="enum.property"><code class="xref py py-func docutils literal notranslate"><span class="pre">property()</span></code></a>, que funciona como <a class="reference internal" href="../library/functions.html#property" title="property"><code class="xref py py-func docutils literal notranslate"><span class="pre">property()</span></code></a> excepto para las enumeraciones. Use esto en lugar de <a class="reference internal" href="../library/types.html#types.DynamicClassAttribute" title="types.DynamicClassAttribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">types.DynamicClassAttribute()</span></code></a>.</p></li>
<li><p>Se agregó el decorador de enumeración <a class="reference internal" href="../library/enum.html#enum.global_enum" title="enum.global_enum"><code class="xref py py-func docutils literal notranslate"><span class="pre">global_enum()</span></code></a>, que ajusta <a class="reference internal" href="../reference/datamodel.html#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code></a> y <a class="reference internal" href="../reference/datamodel.html#object.__str__" title="object.__str__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__str__()</span></code></a> para mostrar valores como miembros de su módulo en lugar de la clase de enumeración. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">'re.ASCII'</span></code> para el miembro <a class="reference internal" href="../library/re.html#re.ASCII" title="re.ASCII"><code class="xref py py-data docutils literal notranslate"><span class="pre">ASCII</span></code></a> de <a class="reference internal" href="../library/re.html#re.RegexFlag" title="re.RegexFlag"><code class="xref py py-class docutils literal notranslate"><span class="pre">re.RegexFlag</span></code></a> en lugar de <code class="docutils literal notranslate"><span class="pre">'RegexFlag.ASCII'</span></code>.</p></li>
<li><p><a class="reference internal" href="../library/enum.html#enum.Flag" title="enum.Flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flag</span></code></a> mejorado para admitir <a class="reference internal" href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a>, iteración y <a class="reference internal" href="../reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a>/<a class="reference internal" href="../reference/expressions.html#not-in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code></a> en sus miembros. Por ejemplo, ahora funciona lo siguiente: <code class="docutils literal notranslate"><span class="pre">len(AFlag(3))</span> <span class="pre">==</span> <span class="pre">2</span> <span class="pre">and</span> <span class="pre">list(AFlag(3))</span> <span class="pre">==</span> <span class="pre">(AFlag.ONE,</span> <span class="pre">AFlag.TWO)</span></code></p></li>
<li><p>Se cambiaron <a class="reference internal" href="../library/enum.html#enum.Enum" title="enum.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> y <a class="reference internal" href="../library/enum.html#enum.Flag" title="enum.Flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flag</span></code></a> para que los miembros ahora se definan antes de llamar a <a class="reference internal" href="../reference/datamodel.html#object.__init_subclass__" title="object.__init_subclass__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init_subclass__()</span></code></a>; <a class="reference internal" href="../library/functions.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> ahora incluye métodos, etc., de tipos de datos combinados.</p></li>
<li><p>Se modificó <a class="reference internal" href="../library/enum.html#enum.Flag" title="enum.Flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flag</span></code></a> para considerar solo los valores primarios (potencia de dos) canónicos, mientras que los valores compuestos (<code class="docutils literal notranslate"><span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">6</span></code>, <code class="docutils literal notranslate"><span class="pre">10</span></code>, etc.) se consideran alias; las banderas invertidas son forzadas a su equivalente positivo.</p></li>
</ul>
</section>
<section id="fcntl">
<span id="whatsnew311-fcntl"></span><h3>fcntl<a class="headerlink" href="#fcntl" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>On FreeBSD, the <code class="xref py py-data docutils literal notranslate"><span class="pre">F_DUP2FD</span></code> and <code class="xref py py-data docutils literal notranslate"><span class="pre">F_DUP2FD_CLOEXEC</span></code> flags respectively
are supported, the former equals to <code class="docutils literal notranslate"><span class="pre">dup2</span></code> usage while the latter set
the <code class="docutils literal notranslate"><span class="pre">FD_CLOEXEC</span></code> flag in addition.</p></li>
</ul>
</section>
<section id="fractions">
<span id="whatsnew311-fractions"></span><h3>fracciones<a class="headerlink" href="#fractions" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Compatibilidad con la inicialización al estilo <span class="target" id="index-104"></span><a class="pep reference external" href="https://peps.python.org/pep-0515/"><strong>PEP 515</strong></a> de <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a> desde una cadena. (Aportado por Sergey B Kirpichev en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44258">bpo-44258</a>.)</p></li>
<li><p><a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a> ahora implementa un método <code class="docutils literal notranslate"><span class="pre">__int__</span></code>, de modo que pasa una verificación <code class="docutils literal notranslate"><span class="pre">isinstance(some_fraction,</span> <span class="pre">typing.SupportsInt)</span></code>. (Contribuido por Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44547">bpo-44547</a>.)</p></li>
</ul>
</section>
<section id="functools">
<span id="whatsnew311-functools"></span><h3>herramientas funcionales<a class="headerlink" href="#functools" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="../library/functools.html#functools.singledispatch" title="functools.singledispatch"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.singledispatch()</span></code></a> ahora admite <a class="reference internal" href="../library/types.html#types.UnionType" title="types.UnionType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.UnionType</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.Union" title="typing.Union"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code></a> como anotaciones en el argumento de envío.:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@singledispatch</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Let me just say,&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Strength in numbers, eh?&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@fun</span><span class="o">.</span><span class="n">register</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">set</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enumerate this:&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>(Aportado por Yurii Karabas en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46014">bpo-46014</a>.)</p>
</li>
</ul>
</section>
<section id="hashlib">
<span id="whatsnew311-hashlib"></span><h3>hashlib<a class="headerlink" href="#hashlib" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/hashlib.html#hashlib.blake2b" title="hashlib.blake2b"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashlib.blake2b()</span></code></a> y <a class="reference internal" href="../library/hashlib.html#hashlib.blake2s" title="hashlib.blake2s"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashlib.blake2s()</span></code></a> ahora prefieren <a class="reference external" href="https://www.blake2.net/">libb2</a> a la copia proporcionada por Python. (Aportado por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47095">bpo-47095</a>.)</p></li>
<li><p>El módulo interno <code class="docutils literal notranslate"><span class="pre">_sha3</span></code> con algoritmos SHA3 y SHAKE ahora usa <em>tiny_sha3</em> en lugar de <em>Keccak Code Package</em> para reducir el código y el tamaño binario. El módulo <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> prefiere implementaciones SHA3 y SHAKE optimizadas de OpenSSL. El cambio afecta solo a las instalaciones sin compatibilidad con OpenSSL. (Aportado por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47098">bpo-47098</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/hashlib.html#hashlib.file_digest" title="hashlib.file_digest"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashlib.file_digest()</span></code></a>, una función de ayuda para el hash eficiente de archivos u objetos similares a archivos. (Aportado por Christian Heimes en <a class="reference external" href="https://github.com/python/cpython/issues/89313">gh-89313</a>.)</p></li>
</ul>
</section>
<section id="whatsnew311-idle">
<span id="idle-and-idlelib"></span><h3>IDLE y libre de inactividad<a class="headerlink" href="#whatsnew311-idle" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Aplicar resaltado de sintaxis a archivos <code class="docutils literal notranslate"><span class="pre">.pyi</span></code>. (Aportado por Alex Waygood y Terry Jan Reedy en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45447">bpo-45447</a>).</p></li>
<li><p>Incluya avisos al guardar Shell con entradas y salidas. (Aportado por Terry Jan Reedy en <a class="reference external" href="https://github.com/python/cpython/issues/95191">gh-95191</a>.)</p></li>
</ul>
</section>
<section id="inspect">
<span id="whatsnew311-inspect"></span><h3>inspeccionar<a class="headerlink" href="#inspect" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>Agregue <a class="reference internal" href="../library/inspect.html#inspect.getmembers_static" title="inspect.getmembers_static"><code class="xref py py-func docutils literal notranslate"><span class="pre">getmembers_static()</span></code></a> para devolver todos los miembros sin activar la búsqueda dinámica a través del protocolo descriptor. (Contribuido por Weipeng Hong en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30533">bpo-30533</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/inspect.html#inspect.ismethodwrapper" title="inspect.ismethodwrapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismethodwrapper()</span></code></a> para verificar si el tipo de un objeto es <a class="reference internal" href="../library/types.html#types.MethodWrapperType" title="types.MethodWrapperType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MethodWrapperType</span></code></a>. (Aportado por Hakan Çelik en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29418">bpo-29418</a>.)</p></li>
<li><p>Cambie las funciones relacionadas con el marco en el módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> para devolver nuevas instancias de clase <a class="reference internal" href="../library/inspect.html#inspect.FrameInfo" title="inspect.FrameInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrameInfo</span></code></a> y <a class="reference internal" href="../library/inspect.html#inspect.Traceback" title="inspect.Traceback"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traceback</span></code></a> (compatibles con las interfaces similares a <a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> anteriores) que incluyen la información de posición <span class="target" id="index-105"></span><a class="pep reference external" href="https://peps.python.org/pep-0657/"><strong>PEP 657</strong></a> extendida (número de línea final, columna y columna final). Las funciones afectadas son:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/inspect.html#inspect.getframeinfo" title="inspect.getframeinfo"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getframeinfo()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.getouterframes" title="inspect.getouterframes"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getouterframes()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.getinnerframes" title="inspect.getinnerframes"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getinnerframes()</span></code></a>,</p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.stack" title="inspect.stack"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.stack()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.trace" title="inspect.trace"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.trace()</span></code></a></p></li>
</ul>
<p>(Aportado por Pablo Galindo en <a class="reference external" href="https://github.com/python/cpython/issues/88116">gh-88116</a>.)</p>
</li>
</ul>
</section>
<section id="locale">
<span id="whatsnew311-locale"></span><h3>lugar<a class="headerlink" href="#locale" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue <a class="reference internal" href="../library/locale.html#locale.getencoding" title="locale.getencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getencoding()</span></code></a> para obtener la codificación de configuración regional actual. Es similar a <code class="docutils literal notranslate"><span class="pre">locale.getpreferredencoding(False)</span></code> pero ignora <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 Mode</span></a>.</p></li>
</ul>
</section>
<section id="logging">
<span id="whatsnew311-logging"></span><h3>Inicio sesión<a class="headerlink" href="#logging" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregó <a class="reference internal" href="../library/logging.html#logging.getLevelNamesMapping" title="logging.getLevelNamesMapping"><code class="xref py py-func docutils literal notranslate"><span class="pre">getLevelNamesMapping()</span></code></a> para devolver una asignación de nombres de nivel de registro (por ejemplo, <code class="docutils literal notranslate"><span class="pre">'CRITICAL'</span></code>) a los valores de su <a class="reference internal" href="../library/logging.html#levels"><span class="std std-ref">Niveles de logging</span></a> correspondiente (por ejemplo, <code class="docutils literal notranslate"><span class="pre">50</span></code>, de forma predeterminada). (Aportado por Andrei Kulakovin en <a class="reference external" href="https://github.com/python/cpython/issues/88024">gh-88024</a>.)</p></li>
<li><p>Se agregó un método <a class="reference internal" href="../library/logging.handlers.html#logging.handlers.SysLogHandler.createSocket" title="logging.handlers.SysLogHandler.createSocket"><code class="xref py py-meth docutils literal notranslate"><span class="pre">createSocket()</span></code></a> a <a class="reference internal" href="../library/logging.handlers.html#logging.handlers.SysLogHandler" title="logging.handlers.SysLogHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SysLogHandler</span></code></a> para que coincida con <a class="reference internal" href="../library/logging.handlers.html#logging.handlers.SocketHandler.createSocket" title="logging.handlers.SocketHandler.createSocket"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SocketHandler.createSocket()</span></code></a>. Se llama automáticamente durante la inicialización del controlador y cuando se emite un evento, si no hay un socket activo. (Aportado por Kirill Pinchuk en <a class="reference external" href="https://github.com/python/cpython/issues/88457">gh-88457</a>.)</p></li>
</ul>
</section>
<section id="math">
<span id="whatsnew311-math"></span><h3>Matemáticas<a class="headerlink" href="#math" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Suma <a class="reference internal" href="../library/math.html#math.exp2" title="math.exp2"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.exp2()</span></code></a>: devuelve 2 elevado a la potencia de x. (Aportado por Gideon Mitchell en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45917">bpo-45917</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/math.html#math.cbrt" title="math.cbrt"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.cbrt()</span></code></a>: devuelva la raíz cúbica de x. (Aportado por Ajith Ramachandran en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44357">bpo-44357</a>.)</p></li>
<li><p>Se cambió el comportamiento de dos casos de esquina <a class="reference internal" href="../library/math.html#math.pow" title="math.pow"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.pow()</span></code></a>, para mantener la coherencia con la especificación IEEE 754. Las operaciones <code class="docutils literal notranslate"><span class="pre">math.pow(0.0,</span> <span class="pre">-math.inf)</span></code> y <code class="docutils literal notranslate"><span class="pre">math.pow(-0.0,</span> <span class="pre">-math.inf)</span></code> ahora devuelven <code class="docutils literal notranslate"><span class="pre">inf</span></code>. Anteriormente plantearon <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>. (Contribuido por Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44339">bpo-44339</a>.)</p></li>
<li><p>El valor <a class="reference internal" href="../library/math.html#math.nan" title="math.nan"><code class="xref py py-data docutils literal notranslate"><span class="pre">math.nan</span></code></a> ahora está siempre disponible. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46917">bpo-46917</a>.)</p></li>
</ul>
</section>
<section id="operator">
<span id="whatsnew311-operator"></span><h3>operador<a class="headerlink" href="#operator" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se ha añadido una nueva función <code class="docutils literal notranslate"><span class="pre">operator.call</span></code>, de forma que <code class="docutils literal notranslate"><span class="pre">operator.call(obj,</span> <span class="pre">*args,</span> <span class="pre">**kwargs)</span> <span class="pre">==</span> <span class="pre">obj(*args,</span> <span class="pre">**kwargs)</span></code>. (Aportado por Antony Lee en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44019">bpo-44019</a>.)</p></li>
</ul>
</section>
<section id="os">
<span id="whatsnew311-os"></span><h3>sistema operativo<a class="headerlink" href="#os" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En Windows, <a class="reference internal" href="../library/os.html#os.urandom" title="os.urandom"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a> ahora usa <code class="docutils literal notranslate"><span class="pre">BCryptGenRandom()</span></code>, en lugar de <code class="docutils literal notranslate"><span class="pre">CryptGenRandom()</span></code>, que está en desuso. (Aportado por Dong-hee Na en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44611">bpo-44611</a>.)</p></li>
</ul>
</section>
<section id="pathlib">
<span id="whatsnew311-pathlib"></span><h3>rutalib<a class="headerlink" href="#pathlib" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/pathlib.html#pathlib.Path.glob" title="pathlib.Path.glob"><code class="xref py py-meth docutils literal notranslate"><span class="pre">glob()</span></code></a> y <a class="reference internal" href="../library/pathlib.html#pathlib.Path.rglob" title="pathlib.Path.rglob"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rglob()</span></code></a> solo devuelven directorios si <em>pattern</em> termina con un separador de componentes de nombre de ruta: <a class="reference internal" href="../library/os.html#os.sep" title="os.sep"><code class="xref py py-data docutils literal notranslate"><span class="pre">sep</span></code></a> o <a class="reference internal" href="../library/os.html#os.altsep" title="os.altsep"><code class="xref py py-data docutils literal notranslate"><span class="pre">altsep</span></code></a>. (Aportado por Eisuke Kawasima en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=22276">bpo-22276</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33392">bpo-33392</a>).</p></li>
</ul>
</section>
<section id="re">
<span id="whatsnew311-re"></span><h3>re<a class="headerlink" href="#re" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>La agrupación atómica (<code class="docutils literal notranslate"><span class="pre">(?&gt;...)</span></code>) y los cuantificadores posesivos (<code class="docutils literal notranslate"><span class="pre">*+</span></code>, <code class="docutils literal notranslate"><span class="pre">++</span></code>, <code class="docutils literal notranslate"><span class="pre">?+</span></code>, <code class="docutils literal notranslate"><span class="pre">{m,n}+</span></code>) ahora son compatibles con las expresiones regulares. (Aportado por Jeffrey C. Jacobs y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=433030">bpo-433030</a>).</p></li>
</ul>
</section>
<section id="shutil">
<span id="whatsnew311-shutil"></span><h3>cerrar<a class="headerlink" href="#shutil" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue el parámetro opcional <em>dir_fd</em> en <a class="reference internal" href="../library/shutil.html#shutil.rmtree" title="shutil.rmtree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.rmtree()</span></code></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46245">bpo-46245</a>.)</p></li>
</ul>
</section>
<section id="socket">
<span id="whatsnew311-socket"></span><h3>enchufe<a class="headerlink" href="#socket" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue compatibilidad con CAN Socket para NetBSD. (Aportado por Thomas Klausner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30512">bpo-30512</a>.)</p></li>
<li><p><a class="reference internal" href="../library/socket.html#socket.create_connection" title="socket.create_connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_connection()</span></code></a> tiene una opción para generar, en caso de falla de conexión, un <a class="reference internal" href="../library/exceptions.html#ExceptionGroup" title="ExceptionGroup"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ExceptionGroup</span></code></a> que contiene todos los errores en lugar de generar solo el último error. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29980">bpo-29980</a>.)</p></li>
</ul>
</section>
<section id="sqlite3">
<span id="whatsnew311-sqlite3"></span><h3>sqlite3<a class="headerlink" href="#sqlite3" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Ahora puede deshabilitar el autorizador pasando <a class="reference internal" href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a> a <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.set_authorizer" title="sqlite3.Connection.set_authorizer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_authorizer()</span></code></a>. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44491">bpo-44491</a>.)</p></li>
<li><p>El nombre de intercalación <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.create_collation" title="sqlite3.Connection.create_collation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_collation()</span></code></a> ahora puede contener cualquier carácter Unicode. Los nombres de intercalación con caracteres no válidos ahora generan <a class="reference internal" href="../library/exceptions.html#UnicodeEncodeError" title="UnicodeEncodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeEncodeError</span></code></a> en lugar de <a class="reference internal" href="../library/sqlite3.html#sqlite3.ProgrammingError" title="sqlite3.ProgrammingError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">sqlite3.ProgrammingError</span></code></a>. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44688">bpo-44688</a>.)</p></li>
<li><p>Las excepciones <a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> ahora incluyen el código de error extendido de SQLite como <a class="reference internal" href="../library/sqlite3.html#sqlite3.Error.sqlite_errorcode" title="sqlite3.Error.sqlite_errorcode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sqlite_errorcode</span></code></a> y el nombre de error de SQLite como <a class="reference internal" href="../library/sqlite3.html#sqlite3.Error.sqlite_errorname" title="sqlite3.Error.sqlite_errorname"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sqlite_errorname</span></code></a>. (Aportado por Aviv Palivoda, Daniel Shahaf y Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16379">bpo-16379</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24139">bpo-24139</a>).</p></li>
<li><p>Agregue <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.setlimit" title="sqlite3.Connection.setlimit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setlimit()</span></code></a> y <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.getlimit" title="sqlite3.Connection.getlimit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlimit()</span></code></a> a <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Connection</span></code></a> para configurar y obtener límites de SQLite por conexión. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45243">bpo-45243</a>.)</p></li>
<li><p><a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> ahora establece <a class="reference internal" href="../library/sqlite3.html#sqlite3.threadsafety" title="sqlite3.threadsafety"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sqlite3.threadsafety</span></code></a> en función del modo de subprocesamiento predeterminado con el que se ha compilado la biblioteca SQLite subyacente. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45613">bpo-45613</a>.)</p></li>
<li><p>Las devoluciones de llamada de <a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> C ahora usan excepciones que no se pueden generar si las devoluciones de llamada están habilitadas. Los usuarios ahora pueden registrar un <a class="reference internal" href="../library/sys.html#sys.unraisablehook" title="sys.unraisablehook"><code class="xref py py-func docutils literal notranslate"><span class="pre">unraisable</span> <span class="pre">hook</span> <span class="pre">handler</span></code></a> para mejorar su experiencia de depuración. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45828">bpo-45828</a>.)</p></li>
<li><p>Recuperar a través de reversión ya no genera <a class="reference internal" href="../library/sqlite3.html#sqlite3.InterfaceError" title="sqlite3.InterfaceError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InterfaceError</span></code></a>. En cambio, dejamos que la biblioteca SQLite maneje estos casos. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44092">bpo-44092</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.serialize" title="sqlite3.Connection.serialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">serialize()</span></code></a> y <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.deserialize" title="sqlite3.Connection.deserialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">deserialize()</span></code></a> a <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Connection</span></code></a> para serializar y deserializar bases de datos. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41930">bpo-41930</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.create_window_function" title="sqlite3.Connection.create_window_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_window_function()</span></code></a> a <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Connection</span></code></a> para crear funciones de ventana agregadas. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34916">bpo-34916</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.blobopen" title="sqlite3.Connection.blobopen"><code class="xref py py-meth docutils literal notranslate"><span class="pre">blobopen()</span></code></a> a <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Connection</span></code></a>. <a class="reference internal" href="../library/sqlite3.html#sqlite3.Blob" title="sqlite3.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Blob</span></code></a> permite operaciones de E/S incrementales en blobs. (Contribuido por Aviv Palivoda y Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24905">bpo-24905</a>).</p></li>
</ul>
</section>
<section id="string">
<span id="whatsnew311-string"></span><h3>cuerda<a class="headerlink" href="#string" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue <a class="reference internal" href="../library/string.html#string.Template.get_identifiers" title="string.Template.get_identifiers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_identifiers()</span></code></a> y <a class="reference internal" href="../library/string.html#string.Template.is_valid" title="string.Template.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> a <a class="reference internal" href="../library/string.html#string.Template" title="string.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">string.Template</span></code></a>, que devuelven respectivamente todos los marcadores de posición válidos y si hay algún marcador de posición no válido presente. (Aportado por Ben Kehoe en <a class="reference external" href="https://github.com/python/cpython/issues/90465">gh-90465</a>.)</p></li>
</ul>
</section>
<section id="sys">
<span id="whatsnew311-sys"></span><h3>sistema<a class="headerlink" href="#sys" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a> now derives the <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">traceback</span></code> fields
from the <code class="docutils literal notranslate"><span class="pre">value</span></code> (the exception instance), so when an exception is
modified while it is being handled, the changes are reflected in
the results of subsequent calls to <code class="xref py py-func docutils literal notranslate"><span class="pre">exc_info()</span></code>.
(Contributed by Irit Katriel in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/sys.html#sys.exception" title="sys.exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exception()</span></code></a> que devuelve la instancia de excepción activa (equivalente a <code class="docutils literal notranslate"><span class="pre">sys.exc_info()[1]</span></code>). (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46328">bpo-46328</a>.)</p></li>
<li><p>Agregue el indicador <a class="reference internal" href="../library/sys.html#sys.flags" title="sys.flags"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.flags.safe_path</span></code></a>. (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/57684">gh-57684</a>.)</p></li>
</ul>
</section>
<section id="sysconfig">
<span id="whatsnew311-sysconfig"></span><h3>configuración del sistema<a class="headerlink" href="#sysconfig" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregaron tres nuevos <a class="reference internal" href="../library/sysconfig.html#installation-paths"><span class="std std-ref">installation schemes</span></a> (<em>posix_venv</em>, <em>nt_venv</em> y <em>venv</em>) y se usan cuando Python crea nuevos entornos virtuales o cuando se ejecuta desde un entorno virtual. Los primeros dos esquemas (<em>posix_venv</em> y <em>nt_venv</em>) son específicos del sistema operativo para Windows y no Windows, el <em>venv</em> es esencialmente un alias para uno de ellos según el sistema operativo en el que se ejecuta Python. Esto es útil para los distribuidores posteriores que modifican <a class="reference internal" href="../library/sysconfig.html#sysconfig.get_preferred_scheme" title="sysconfig.get_preferred_scheme"><code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.get_preferred_scheme()</span></code></a>. El código de terceros que crea nuevos entornos virtuales debe usar el nuevo esquema de instalación <em>venv</em> para determinar las rutas, al igual que <a class="reference internal" href="../library/venv.html#module-venv" title="venv: Creation of virtual environments."><code class="xref py py-mod docutils literal notranslate"><span class="pre">venv</span></code></a>. (Aportado por Miro Hrončok en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45413">bpo-45413</a>.)</p></li>
</ul>
</section>
<section id="tempfile">
<span id="whatsnew311-tempfile"></span><h3>archivo temporal<a class="headerlink" href="#tempfile" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Los objetos <a class="reference internal" href="../library/tempfile.html#tempfile.SpooledTemporaryFile" title="tempfile.SpooledTemporaryFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpooledTemporaryFile</span></code></a> ahora implementan completamente los métodos de <a class="reference internal" href="../library/io.html#io.BufferedIOBase" title="io.BufferedIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.BufferedIOBase</span></code></a> o <a class="reference internal" href="../library/io.html#io.TextIOBase" title="io.TextIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOBase</span></code></a> (según el modo de archivo). Esto les permite trabajar correctamente con API que esperan objetos similares a archivos, como módulos de compresión. (Aportado por Carey Metcalfe en <a class="reference external" href="https://github.com/python/cpython/issues/70363">gh-70363</a>.)</p></li>
</ul>
</section>
<section id="threading">
<span id="whatsnew311-threading"></span><h3>enhebrar<a class="headerlink" href="#threading" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En Unix, si la función <code class="docutils literal notranslate"><span class="pre">sem_clockwait()</span></code> está disponible en la biblioteca C (glibc 2.30 y posterior), el método <a class="reference internal" href="../library/threading.html#threading.Lock.acquire" title="threading.Lock.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Lock.acquire()</span></code></a> ahora usa el reloj monotónico (<a class="reference internal" href="../library/time.html#time.CLOCK_MONOTONIC" title="time.CLOCK_MONOTONIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">time.CLOCK_MONOTONIC</span></code></a>) para el tiempo de espera, en lugar de usar el reloj del sistema (<a class="reference internal" href="../library/time.html#time.CLOCK_REALTIME" title="time.CLOCK_REALTIME"><code class="xref py py-data docutils literal notranslate"><span class="pre">time.CLOCK_REALTIME</span></code></a>), para no verse afectado por cambios en el reloj del sistema. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41710">bpo-41710</a>.)</p></li>
</ul>
</section>
<section id="time">
<span id="whatsnew311-time"></span><h3>tiempo<a class="headerlink" href="#time" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En Unix, <a class="reference internal" href="../library/time.html#time.sleep" title="time.sleep"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.sleep()</span></code></a> ahora usa la función <code class="docutils literal notranslate"><span class="pre">clock_nanosleep()</span></code> o <code class="docutils literal notranslate"><span class="pre">nanosleep()</span></code>, si está disponible, que tiene una resolución de 1 nanosegundo (10<sup>-9</sup> segundos), en lugar de usar <code class="docutils literal notranslate"><span class="pre">select()</span></code> que tiene una resolución de 1 microsegundo (10<sup>-6</sup> segundos). (Aportado por Benjamin Szőke y Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21302">bpo-21302</a>.)</p></li>
<li><p>En Windows 8.1 y posteriores, <a class="reference internal" href="../library/time.html#time.sleep" title="time.sleep"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.sleep()</span></code></a> ahora usa un temporizador de espera basado en <a class="reference external" href="https://docs.microsoft.com/en-us/windows-hardware/drivers/kernel/high-resolution-timers">high-resolution timers</a> que tiene una resolución de 100 nanosegundos (10<sup>-7</sup> segundos). Anteriormente tenía una resolución de 1 milisegundo (10<sup>-3</sup> segundos). (Aportado por Benjamin Szőke, Dong-hee Na, Eryk Sun y Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21302">bpo-21302</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45429">bpo-45429</a>).</p></li>
</ul>
</section>
<section id="tkinter">
<span id="whatsnew311-tkinter"></span><h3>tkinter<a class="headerlink" href="#tkinter" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregó el método <code class="docutils literal notranslate"><span class="pre">info_patchlevel()</span></code> que devuelve la versión exacta de la biblioteca Tcl como una tupla con nombre similar a <a class="reference internal" href="../library/sys.html#sys.version_info" title="sys.version_info"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.version_info</span></code></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://github.com/python/cpython/issues/91827">gh-91827</a>.)</p></li>
</ul>
</section>
<section id="traceback">
<span id="whatsnew311-traceback"></span><h3>rastrear<a class="headerlink" href="#traceback" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Agregue <a class="reference internal" href="../library/traceback.html#traceback.StackSummary.format_frame_summary" title="traceback.StackSummary.format_frame_summary"><code class="xref py py-func docutils literal notranslate"><span class="pre">traceback.StackSummary.format_frame_summary()</span></code></a> para permitir que los usuarios anulen qué marcos aparecen en el rastreo y cómo están formateados. (Aportado por Ammar Askar en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44569">bpo-44569</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/traceback.html#traceback.TracebackException.print" title="traceback.TracebackException.print"><code class="xref py py-func docutils literal notranslate"><span class="pre">traceback.TracebackException.print()</span></code></a>, que imprime la instancia <a class="reference internal" href="../library/traceback.html#traceback.TracebackException" title="traceback.TracebackException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TracebackException</span></code></a> formateada en un archivo. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33809">bpo-33809</a>.)</p></li>
</ul>
</section>
<section id="typing">
<span id="whatsnew311-typing"></span><h3>mecanografía<a class="headerlink" href="#typing" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para conocer los cambios importantes, consulte <a class="reference internal" href="#new-feat-related-type-hints-311"><span class="std std-ref">Nuevas funciones relacionadas con las sugerencias de tipo</span></a>.</p>
<ul class="simple">
<li><p>Agregue <a class="reference internal" href="../library/typing.html#typing.assert_never" title="typing.assert_never"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.assert_never()</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.Never" title="typing.Never"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Never</span></code></a>. <a class="reference internal" href="../library/typing.html#typing.assert_never" title="typing.assert_never"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.assert_never()</span></code></a> es útil para pedirle a un verificador de tipos que confirme que no se puede acceder a una línea de código. En tiempo de ejecución, genera un <a class="reference internal" href="../library/exceptions.html#AssertionError" title="AssertionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code></a>. (Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/90633">gh-90633</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/typing.html#typing.reveal_type" title="typing.reveal_type"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.reveal_type()</span></code></a>. Esto es útil para preguntarle a un verificador de tipos qué tipo ha inferido para una expresión dada. En tiempo de ejecución imprime el tipo del valor recibido. (Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/90572">gh-90572</a>.)</p></li>
<li><p>Agregue <a class="reference internal" href="../library/typing.html#typing.assert_type" title="typing.assert_type"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.assert_type()</span></code></a>. Esto es útil para pedirle a un verificador de tipos que confirme que el tipo que ha inferido para una expresión dada coincide con el tipo dado. En tiempo de ejecución, simplemente devuelve el valor recibido. (Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/90638">gh-90638</a>.)</p></li>
<li><p>Los tipos <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a> ahora pueden ser genéricos. (Aportado por Samodya Abeysiriwardane en <a class="reference external" href="https://github.com/python/cpython/issues/89026">gh-89026</a>.)</p></li>
<li><p>Los tipos <a class="reference internal" href="../library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a> ahora pueden ser genéricos. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43923">bpo-43923</a>.)</p></li>
<li><p>Permitir subclases de <a class="reference internal" href="../library/typing.html#typing.Any" title="typing.Any"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Any</span></code></a>. Esto es útil para evitar errores de verificación de tipos relacionados con clases altamente dinámicas, como simulacros. (Aportado por Shantanu Jain en <a class="reference external" href="https://github.com/python/cpython/issues/91154">gh-91154</a>.)</p></li>
<li><p>El decorador <a class="reference internal" href="../library/typing.html#typing.final" title="typing.final"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.final()</span></code></a> ahora establece el atributo <code class="docutils literal notranslate"><span class="pre">__final__</span></code> en el objeto decorado. (Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/90500">gh-90500</a>.)</p></li>
<li><p>La función <a class="reference internal" href="../library/typing.html#typing.get_overloads" title="typing.get_overloads"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_overloads()</span></code></a> se puede utilizar para la introspección de las sobrecargas de una función. <a class="reference internal" href="../library/typing.html#typing.clear_overloads" title="typing.clear_overloads"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.clear_overloads()</span></code></a> se puede utilizar para borrar todas las sobrecargas registradas de una función. (Aportado por Jelle Zijlstra en <a class="reference external" href="https://github.com/python/cpython/issues/89263">gh-89263</a>.)</p></li>
<li><p>The <a class="reference internal" href="../reference/datamodel.html#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> method of <a class="reference internal" href="../library/typing.html#typing.Protocol" title="typing.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a> subclasses
is now preserved. (Contributed by Adrian Garcia Badarasco in <a class="reference external" href="https://github.com/python/cpython/issues/88970">gh-88970</a>.)</p></li>
<li><p>La representación de tipos de tuplas vacías (<code class="docutils literal notranslate"><span class="pre">Tuple[()]</span></code>) se simplifica. Esto afecta la introspección, p. <code class="docutils literal notranslate"><span class="pre">get_args(Tuple[()])</span></code> ahora se evalúa como <code class="docutils literal notranslate"><span class="pre">()</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">((),)</span></code>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://github.com/python/cpython/issues/91137">gh-91137</a>.)</p></li>
<li><p>Afloje los requisitos de tiempo de ejecución para las anotaciones de tipo eliminando la verificación invocable en la función privada <code class="docutils literal notranslate"><span class="pre">typing._type_check</span></code>. (Aportado por Gregory Beauregard en <a class="reference external" href="https://github.com/python/cpython/issues/90802">gh-90802</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.get_type_hints" title="typing.get_type_hints"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_type_hints()</span></code></a> ahora admite la evaluación de cadenas como referencias directas en <a class="reference internal" href="../library/stdtypes.html#types-genericalias"><span class="std std-ref">PEP 585 generic aliases</span></a>. (Aportado por Niklas Rosenstein en <a class="reference external" href="https://github.com/python/cpython/issues/85542">gh-85542</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.get_type_hints" title="typing.get_type_hints"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_type_hints()</span></code></a> ya no agrega <a class="reference internal" href="../library/typing.html#typing.Optional" title="typing.Optional"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a> a los parámetros con <code class="docutils literal notranslate"><span class="pre">None</span></code> como predeterminado. (Aportado por Nikita Sobolev en <a class="reference external" href="https://github.com/python/cpython/issues/90353">gh-90353</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.get_type_hints" title="typing.get_type_hints"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_type_hints()</span></code></a> ahora admite la evaluación de anotaciones <a class="reference internal" href="../library/typing.html#typing.ClassVar" title="typing.ClassVar"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a> con cadenas desnudas. (Aportado por Gregory Beauregard en <a class="reference external" href="https://github.com/python/cpython/issues/90711">gh-90711</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.no_type_check" title="typing.no_type_check"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.no_type_check()</span></code></a> ya no modifica clases y funciones externas. Ahora también marca correctamente los métodos de clase para que no se verifique el tipo. (Aportado por Nikita Sobolev en <a class="reference external" href="https://github.com/python/cpython/issues/90729">gh-90729</a>.)</p></li>
</ul>
</section>
<section id="unicodedata">
<span id="whatsnew311-unicodedata"></span><h3>unicodedata<a class="headerlink" href="#unicodedata" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>The Unicode database has been updated to version 14.0.0.
(Contributed by Benjamin Peterson in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45190">bpo-45190</a>).</p></li>
</ul>
</section>
<section id="unittest">
<span id="whatsnew311-unittest"></span><h3>prueba de unidad<a class="headerlink" href="#unittest" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregaron los métodos <a class="reference internal" href="../library/unittest.html#unittest.TestCase.enterContext" title="unittest.TestCase.enterContext"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enterContext()</span></code></a> y <a class="reference internal" href="../library/unittest.html#unittest.TestCase.enterClassContext" title="unittest.TestCase.enterClassContext"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enterClassContext()</span></code></a> de la clase <a class="reference internal" href="../library/unittest.html#unittest.TestCase" title="unittest.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a>, el método <a class="reference internal" href="../library/unittest.html#unittest.IsolatedAsyncioTestCase.enterAsyncContext" title="unittest.IsolatedAsyncioTestCase.enterAsyncContext"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enterAsyncContext()</span></code></a> de la clase <a class="reference internal" href="../library/unittest.html#unittest.IsolatedAsyncioTestCase" title="unittest.IsolatedAsyncioTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsolatedAsyncioTestCase</span></code></a> y la función <a class="reference internal" href="../library/unittest.html#unittest.enterModuleContext" title="unittest.enterModuleContext"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.enterModuleContext()</span></code></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45046">bpo-45046</a>.)</p></li>
</ul>
</section>
<section id="venv">
<span id="whatsnew311-venv"></span><h3>venv<a class="headerlink" href="#venv" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Cuando se crean nuevos entornos virtuales de Python, el <em>venv</em> <a class="reference internal" href="../library/sysconfig.html#installation-paths"><span class="std std-ref">sysconfig installation scheme</span></a> se utiliza para determinar las rutas dentro del entorno. Cuando Python se ejecuta en un entorno virtual, el mismo esquema de instalación es el predeterminado. Eso significa que los distribuidores intermedios pueden cambiar el esquema de instalación de sysconfig predeterminado sin cambiar el comportamiento de los entornos virtuales. El código de terceros que también crea nuevos entornos virtuales debería hacer lo mismo. (Aportado por Miro Hrončok en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45413">bpo-45413</a>.)</p></li>
</ul>
</section>
<section id="warnings">
<span id="whatsnew311-warnings"></span><h3>advertencias<a class="headerlink" href="#warnings" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/warnings.html#warnings.catch_warnings" title="warnings.catch_warnings"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.catch_warnings()</span></code></a> ahora acepta argumentos para <a class="reference internal" href="../library/warnings.html#warnings.simplefilter" title="warnings.simplefilter"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.simplefilter()</span></code></a>, lo que proporciona una forma más concisa de ignorar localmente las advertencias o convertirlas en errores. (Aportado por Zac Hatfield-Dodds en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47074">bpo-47074</a>).</p></li>
</ul>
</section>
<section id="zipfile">
<span id="whatsnew311-zipfile"></span><h3>archivo zip<a class="headerlink" href="#zipfile" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se agregó compatibilidad para especificar la codificación de nombres de miembros para leer metadatos en los encabezados de archivos y directorios de <a class="reference internal" href="../library/zipfile.html#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a>. (Aportado por Stephen J. Turnbull y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=28080">bpo-28080</a>).</p></li>
<li><p>Se agregó <a class="reference internal" href="../library/zipfile.html#zipfile.ZipFile.mkdir" title="zipfile.ZipFile.mkdir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ZipFile.mkdir()</span></code></a> para crear nuevos directorios dentro de archivos ZIP. (Aportado por Sam Ezeh en <a class="reference external" href="https://github.com/python/cpython/issues/49083">gh-49083</a>.)</p></li>
<li><p>Se agregaron <a class="reference internal" href="../library/zipfile.html#zipfile.Path.stem" title="zipfile.Path.stem"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stem</span></code></a>, <a class="reference internal" href="../library/zipfile.html#zipfile.Path.suffix" title="zipfile.Path.suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">suffix</span></code></a> y <a class="reference internal" href="../library/zipfile.html#zipfile.Path.suffixes" title="zipfile.Path.suffixes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">suffixes</span></code></a> a <a class="reference internal" href="../library/zipfile.html#zipfile.Path" title="zipfile.Path"><code class="xref py py-class docutils literal notranslate"><span class="pre">zipfile.Path</span></code></a>. (Aportado por Miguel Brito en <a class="reference external" href="https://github.com/python/cpython/issues/88261">gh-88261</a>.)</p></li>
</ul>
</section>
</section>
<section id="optimizations">
<span id="whatsnew311-optimizations"></span><h2>Optimizaciones<a class="headerlink" href="#optimizations" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección cubre optimizaciones específicas independientes del proyecto <a class="reference internal" href="#whatsnew311-faster-cpython"><span class="std std-ref">CPython más rápido</span></a>, que se trata en su propia sección.</p>
<ul class="simple">
<li><p>El compilador ahora optimiza <a class="reference internal" href="../library/stdtypes.html#old-string-formatting"><span class="std std-ref">printf-style % formatting</span></a> simple en cadenas literales que contienen solo los códigos de formato <code class="docutils literal notranslate"><span class="pre">%s</span></code>, <code class="docutils literal notranslate"><span class="pre">%r</span></code> y <code class="docutils literal notranslate"><span class="pre">%a</span></code> y lo hace tan rápido como una expresión <a class="reference internal" href="../glossary.html#term-f-string"><span class="xref std std-term">f-string</span></a> correspondiente. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=28307">bpo-28307</a>.)</p></li>
<li><p>La división de enteros (<code class="docutils literal notranslate"><span class="pre">//</span></code>) está mejor ajustada para la optimización por parte de los compiladores. Ahora es un 20 % más rápido en x86-64 cuando se divide un <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> por un valor menor que <code class="docutils literal notranslate"><span class="pre">2**30</span></code>. (Aportado por Gregory P. Smith y Tim Peters en <a class="reference external" href="https://github.com/python/cpython/issues/90564">gh-90564</a>.)</p></li>
<li><p><a class="reference internal" href="../library/functions.html#sum" title="sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">sum()</span></code></a> ahora es casi un 30 % más rápido para números enteros más pequeños que <code class="docutils literal notranslate"><span class="pre">2**30</span></code>. (Aportado por Stefan Behnel en <a class="reference external" href="https://github.com/python/cpython/issues/68264">gh-68264</a>.)</p></li>
<li><p>El cambio de tamaño de las listas está simplificado para el caso común, acelerando <code class="xref py py-meth docutils literal notranslate"><span class="pre">list.append()</span></code> en ≈15 % y <a class="reference internal" href="../glossary.html#term-list-comprehension"><span class="xref std std-term">list comprehension</span></a>s simples hasta en un 20-30 % (Contribuido por Dennis Sweeney en <a class="reference external" href="https://github.com/python/cpython/issues/91165">gh-91165</a>).</p></li>
<li><p>Los diccionarios no almacenan valores hash cuando todas las claves son objetos Unicode, lo que reduce el tamaño de <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">sys.getsizeof(dict.fromkeys(&quot;abcdefg&quot;))</span></code> se reduce de 352 bytes a 272 bytes (un 23 % más pequeño) en plataformas de 64 bits. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46845">bpo-46845</a>.)</p></li>
<li><p>El uso de <a class="reference internal" href="../library/asyncio-protocol.html#asyncio.DatagramProtocol" title="asyncio.DatagramProtocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.DatagramProtocol</span></code></a> ahora es mucho más rápido cuando se transfieren archivos grandes a través de UDP, con velocidades 100 veces más altas para un archivo de ≈60 MiB. (Aportado por msoxzw en <a class="reference external" href="https://github.com/python/cpython/issues/91487">gh-91487</a>.)</p></li>
<li><p>Las funciones <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> <a class="reference internal" href="../library/math.html#math.comb" title="math.comb"><code class="xref py py-func docutils literal notranslate"><span class="pre">comb()</span></code></a> y <a class="reference internal" href="../library/math.html#math.perm" title="math.perm"><code class="xref py py-func docutils literal notranslate"><span class="pre">perm()</span></code></a> ahora son ≈10 veces más rápidas para argumentos grandes (con una aceleración mayor para <em>k</em> más grandes). (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37295">bpo-37295</a>.)</p></li>
<li><p>Las funciones <a class="reference internal" href="../library/statistics.html#module-statistics" title="statistics: Mathematical statistics functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statistics</span></code></a> <a class="reference internal" href="../library/statistics.html#statistics.mean" title="statistics.mean"><code class="xref py py-func docutils literal notranslate"><span class="pre">mean()</span></code></a>, <a class="reference internal" href="../library/statistics.html#statistics.variance" title="statistics.variance"><code class="xref py py-func docutils literal notranslate"><span class="pre">variance()</span></code></a> y <a class="reference internal" href="../library/statistics.html#statistics.stdev" title="statistics.stdev"><code class="xref py py-func docutils literal notranslate"><span class="pre">stdev()</span></code></a> ahora consumen iteradores en una sola pasada en lugar de convertirlos primero en <a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>. Esto es el doble de rápido y puede ahorrar una cantidad considerable de memoria. (Aportado por Raymond Hettinger en <a class="reference external" href="https://github.com/python/cpython/issues/90415">gh-90415</a>.)</p></li>
<li><p><a class="reference internal" href="../library/unicodedata.html#unicodedata.normalize" title="unicodedata.normalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">unicodedata.normalize()</span></code></a> ahora normaliza cadenas ASCII puras en tiempo constante. (Aportado por Dong-hee Na en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44987">bpo-44987</a>.)</p></li>
</ul>
</section>
<section id="faster-cpython">
<span id="whatsnew311-faster-cpython"></span><h2>CPython más rápido<a class="headerlink" href="#faster-cpython" title="Enlazar permanentemente con este título">¶</a></h2>
<p>CPython 3.11 is an average of
<a class="reference external" href="https://github.com/faster-cpython/ideas#published-results">25% faster</a>
than CPython 3.10 as measured with the
<a class="reference external" href="https://github.com/python/pyperformance">pyperformance</a> benchmark suite,
when compiled with GCC on Ubuntu Linux.
Depending on your workload, the overall speedup could be 10-60%.</p>
<p>This project focuses on two major areas in Python:
<a class="reference internal" href="#whatsnew311-faster-startup"><span class="std std-ref">Inicio más rápido</span></a> and <a class="reference internal" href="#whatsnew311-faster-runtime"><span class="std std-ref">Tiempo de ejecución más rápido</span></a>.
Optimizations not covered by this project are listed separately under
<a class="reference internal" href="#whatsnew311-optimizations"><span class="std std-ref">Optimizaciones</span></a>.</p>
<section id="faster-startup">
<span id="whatsnew311-faster-startup"></span><h3>Inicio más rápido<a class="headerlink" href="#faster-startup" title="Enlazar permanentemente con este título">¶</a></h3>
<section id="frozen-imports-static-code-objects">
<span id="whatsnew311-faster-imports"></span><h4>Importaciones congeladas / Objetos de código estático<a class="headerlink" href="#frozen-imports-static-code-objects" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Python caches <a class="reference internal" href="../glossary.html#term-bytecode"><span class="xref std std-term">bytecode</span></a> in the <a class="reference internal" href="../tutorial/modules.html#tut-pycache"><span class="std std-ref">__pycache__</span></a>
directory to speed up module loading.</p>
<p>Previamente en 3.10, la ejecución del módulo de Python se veía así:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Read __pycache__ -&gt; Unmarshal -&gt; Heap allocated code object -&gt; Evaluate
</pre></div>
</div>
<p>In Python 3.11, the core modules essential for Python startup are «frozen».
This means that their <a class="reference internal" href="../c-api/code.html#codeobjects"><span class="std std-ref">Objetos código</span></a> (and bytecode)
are statically allocated by the interpreter.
This reduces the steps in module execution process to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Statically allocated code object -&gt; Evaluate
</pre></div>
</div>
<p>El inicio del intérprete ahora es un 10-15 % más rápido en Python 3.11. Esto tiene un gran impacto para los programas de ejecución corta que usan Python.</p>
<p>(Contributed by Eric Snow, Guido van Rossum and Kumar Aditya in many issues.)</p>
</section>
</section>
<section id="faster-runtime">
<span id="whatsnew311-faster-runtime"></span><h3>Tiempo de ejecución más rápido<a class="headerlink" href="#faster-runtime" title="Enlazar permanentemente con este título">¶</a></h3>
<section id="cheaper-lazy-python-frames">
<span id="whatsnew311-lazy-python-frames"></span><h4>Marcos de Python más baratos y perezosos<a class="headerlink" href="#cheaper-lazy-python-frames" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Python frames, holding execution information,
are created whenever Python calls a Python function.
The following are new frame optimizations:</p>
<ul class="simple">
<li><p>Simplificó el proceso de creación de marcos.</p></li>
<li><p>Se evitó la asignación de memoria al reutilizar generosamente el espacio de marcos en la pila C.</p></li>
<li><p>Simplificó la estructura del marco interno para que contenga solo información esencial. Los marcos contenían previamente información adicional de gestión de memoria y depuración.</p></li>
</ul>
<p>Old-style <a class="reference internal" href="../reference/datamodel.html#frame-objects"><span class="std std-ref">frame objects</span></a>
are now created only when requested by debuggers
or by Python introspection functions such as <a class="reference internal" href="../library/sys.html#sys._getframe" title="sys._getframe"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys._getframe()</span></code></a> and
<a class="reference internal" href="../library/inspect.html#inspect.currentframe" title="inspect.currentframe"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.currentframe()</span></code></a>. For most user code, no frame objects are
created at all. As a result, nearly all Python functions calls have sped
up significantly. We measured a 3-7% speedup in pyperformance.</p>
<p>(Aportado por Mark Shannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44590">bpo-44590</a>.)</p>
</section>
<section id="inlined-python-function-calls">
<span id="whatsnew311-inline-calls"></span><span id="inline-calls"></span><h4>Llamadas a funciones de Python en línea<a class="headerlink" href="#inlined-python-function-calls" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Durante una llamada de función de Python, Python llamará a una función C de evaluación para interpretar el código de esa función. Esto limita efectivamente la recursión pura de Python a lo que es seguro para la pila de C.</p>
<p>En 3.11, cuando CPython detecta código de Python que llama a otra función de Python, configura un nuevo marco y «salta» al nuevo código dentro del nuevo marco. Esto evita llamar a la función de interpretación de C por completo.</p>
<p>Most Python function calls now consume no C stack space, speeding them up.
In simple recursive functions like fibonacci or
factorial, we observed a 1.7x speedup. This also means recursive functions
can recurse significantly deeper
(if the user increases the recursion limit with <a class="reference internal" href="../library/sys.html#sys.setrecursionlimit" title="sys.setrecursionlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.setrecursionlimit()</span></code></a>).
We measured a 1-3% improvement in pyperformance.</p>
<p>(Aportado por Pablo Galindo y Mark Shannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45256">bpo-45256</a>.)</p>
</section>
<section id="pep-659-specializing-adaptive-interpreter">
<span id="whatsnew311-pep659"></span><h4>PEP 659: Intérprete Adaptativo Especializado<a class="headerlink" href="#pep-659-specializing-adaptive-interpreter" title="Enlazar permanentemente con este título">¶</a></h4>
<p><span class="target" id="index-28"></span><a class="pep reference external" href="https://peps.python.org/pep-0659/"><strong>PEP 659</strong></a> is one of the key parts of the Faster CPython project. The general
idea is that while Python is a dynamic language, most code has regions where
objects and types rarely change. This concept is known as <em>type stability</em>.</p>
<p>At runtime, Python will try to look for common patterns and type stability
in the executing code. Python will then replace the current operation with a
more specialized one. This specialized operation uses fast paths available only
to those use cases/types, which generally outperform their generic
counterparts. This also brings in another concept called <em>inline caching</em>, where
Python caches the results of expensive operations directly in the
<a class="reference internal" href="../glossary.html#term-bytecode"><span class="xref std std-term">bytecode</span></a>.</p>
<p>The specializer will also combine certain common instruction pairs into one
superinstruction, reducing the overhead during execution.</p>
<p>Python will only specialize
when it sees code that is «hot» (executed multiple times). This prevents Python
from wasting time on run-once code. Python can also de-specialize when code is
too dynamic or when the use changes. Specialization is attempted periodically,
and specialization attempts are not too expensive,
allowing specialization to adapt to new circumstances.</p>
<p>(PEP escrito por Mark Shannon, con ideas inspiradas por Stefan Brunthaler. Consulte <span class="target" id="index-106"></span><a class="pep reference external" href="https://peps.python.org/pep-0659/"><strong>PEP 659</strong></a> para obtener más información. Implementación por Mark Shannon y Brandt Bucher, con ayuda adicional de Irit Katriel y Dennis Sweeney).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 16%" />
<col style="width: 43%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operación</p></th>
<th class="head"><p>Forma</p></th>
<th class="head"><p>Especialización</p></th>
<th class="head"><p>Aceleración de la operación (hasta)</p></th>
<th class="head"><p>Colaborador(es)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Operaciones binarias</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">x</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">x</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">x</span></code></p>
</td>
<td><p>Binary add, multiply and subtract for common types
such as <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
take custom fast paths for their underlying types.</p></td>
<td><p>10%</p></td>
<td><p>Mark Shannon,
Dong-hee Na,
Brandt Bucher,
Dennis Sweeney</p></td>
</tr>
<tr class="row-odd"><td><p>Subíndice</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a[i]</span></code></p></td>
<td><p>Subscripting container types such as <a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>,
<a class="reference internal" href="../library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> directly index
the underlying data structures.</p>
<p>Subscripting custom <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>
is also inlined similar to <a class="reference internal" href="#inline-calls"><span class="std std-ref">Llamadas a funciones de Python en línea</span></a>.</p>
</td>
<td><p>10-25%</p></td>
<td><p>Irit KatrielMark Shannon</p></td>
</tr>
<tr class="row-even"><td><p>Almacenar subíndice</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a[i]</span> <span class="pre">=</span> <span class="pre">z</span></code></p></td>
<td><p>Similar a la especialización de subíndices anterior.</p></td>
<td><p>10-25%</p></td>
<td><p>dennis sweeney</p></td>
</tr>
<tr class="row-odd"><td><p>Llamadas</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">f(arg)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">C(arg)</span></code></p>
</td>
<td><p>Calls to common builtin (C) functions and types such
as <a class="reference internal" href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> directly call their
underlying C version. This avoids going through the
internal calling convention.</p></td>
<td><p>20%</p></td>
<td><p>Mark ShannonKen Jin</p></td>
</tr>
<tr class="row-even"><td><p>Cargar variable global</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">print</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">len</span></code></p>
</td>
<td><p>El índice del objeto en el espacio de nombres globales/integrados se almacena en caché. La carga de globales e integrados requiere cero búsquedas de espacios de nombres.</p></td>
<td><p><a class="footnote-reference brackets" href="#load-global" id="id2">1</a></p></td>
<td><p>marca shannon</p></td>
</tr>
<tr class="row-odd"><td><p>Cargar atributo</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">o.attr</span></code></p></td>
<td><p>Similar a cargar variables globales. El índice del atributo dentro del espacio de nombres de la clase/objeto se almacena en caché. En la mayoría de los casos, la carga de atributos requerirá cero búsquedas de espacios de nombres.</p></td>
<td><p><a class="footnote-reference brackets" href="#load-attr" id="id3">2</a></p></td>
<td><p>marca shannon</p></td>
</tr>
<tr class="row-even"><td><p>Cargar métodos para llamar</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">o.meth()</span></code></p></td>
<td><p>La dirección real del método se almacena en caché. La carga de métodos ahora no tiene búsquedas de espacio de nombres, incluso para clases con largas cadenas de herencia.</p></td>
<td><p>10-20%</p></td>
<td><p>Ken JinMark Shannon</p></td>
</tr>
<tr class="row-odd"><td><p>Atributo de la tienda</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">o.attr</span> <span class="pre">=</span> <span class="pre">z</span></code></p></td>
<td><p>Similar a la optimización de atributos de carga.</p></td>
<td><p>2% en rendimiento</p></td>
<td><p>marca shannon</p></td>
</tr>
<tr class="row-even"><td><p>Secuencia de desempaquetado</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*seq</span></code></p></td>
<td><p>Specialized for common containers such as
<a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>.
Avoids internal calling convention.</p></td>
<td><p>8%</p></td>
<td><p>brandt bucher</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="load-global"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>A similar optimization already existed since Python 3.8.
3.11 specializes for more forms and reduces some overhead.</p>
</dd>
<dt class="label" id="load-attr"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>Ya existía una optimización similar desde Python 3.10. 3.11 se especializa en más formularios. Además, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45947">bpo-45947</a> debería acelerar todas las cargas de atributos.</p>
</dd>
</dl>
</section>
</section>
<section id="misc">
<span id="whatsnew311-faster-cpython-misc"></span><h3>Varios<a class="headerlink" href="#misc" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Los objetos ahora requieren menos memoria debido a los espacios de nombres de objetos creados con pereza. Sus diccionarios de espacio de nombres ahora también comparten claves más libremente. (Contribuido por Mark Shannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45340">bpo-45340</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40116">bpo-40116</a>).</p></li>
<li><p>«Zero-cost» exceptions are implemented, eliminating the cost
of <a class="reference internal" href="../reference/compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> statements when no exception is raised.
(Contributed by Mark Shannon in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40222">bpo-40222</a>.)</p></li>
<li><p>Una representación más concisa de las excepciones en el intérprete redujo el tiempo necesario para detectar una excepción en aproximadamente un 10 %. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p><a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a>’s regular expression matching engine has been partially refactored,
and now uses computed gotos (or «threaded code») on supported platforms. As a
result, Python 3.11 executes the <a class="reference external" href="https://pyperformance.readthedocs.io/benchmarks.html#regex-dna">pyperformance regular expression benchmarks</a> up to 10%
faster than Python 3.10.
(Contributed by Brandt Bucher in <a class="reference external" href="https://github.com/python/cpython/issues/91404">gh-91404</a>.)</p></li>
</ul>
</section>
<section id="faq">
<span id="whatsnew311-faster-cpython-faq"></span><h3>Preguntas más frecuentes<a class="headerlink" href="#faq" title="Enlazar permanentemente con este título">¶</a></h3>
<section id="how-should-i-write-my-code-to-utilize-these-speedups">
<span id="faster-cpython-faq-my-code"></span><h4>How should I write my code to utilize these speedups?<a class="headerlink" href="#how-should-i-write-my-code-to-utilize-these-speedups" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Write Pythonic code that follows common best practices;
you don’t have to change your code.
The Faster CPython project optimizes for common code patterns we observe.</p>
</section>
<section id="will-cpython-3-11-use-more-memory">
<span id="faster-cpython-faq-memory"></span><h4>Will CPython 3.11 use more memory?<a class="headerlink" href="#will-cpython-3-11-use-more-memory" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Maybe not; we don’t expect memory use to exceed 20% higher than 3.10.
This is offset by memory optimizations for frame objects and object
dictionaries as mentioned above.</p>
</section>
<section id="i-don-t-see-any-speedups-in-my-workload-why">
<span id="faster-cpython-ymmv"></span><h4>I don’t see any speedups in my workload. Why?<a class="headerlink" href="#i-don-t-see-any-speedups-in-my-workload-why" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Certain code won’t have noticeable benefits. If your code spends most of
its time on I/O operations, or already does most of its
computation in a C extension library like NumPy, there won’t be significant
speedups. This project currently benefits pure-Python workloads the most.</p>
<p>Además, las cifras de pyperformance son una media geométrica. Incluso dentro de los puntos de referencia de pyrendimiento, ciertos puntos de referencia se han ralentizado ligeramente, mientras que otros se han acelerado casi 2 veces.</p>
</section>
<section id="is-there-a-jit-compiler">
<span id="faster-cpython-jit"></span><h4>Is there a JIT compiler?<a class="headerlink" href="#is-there-a-jit-compiler" title="Enlazar permanentemente con este título">¶</a></h4>
<p>No. We’re still exploring other optimizations.</p>
</section>
</section>
<section id="about">
<span id="whatsnew311-faster-cpython-about"></span><h3>Sobre<a class="headerlink" href="#about" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Faster CPython explora optimizaciones para <a class="reference internal" href="../glossary.html#term-CPython"><span class="xref std std-term">CPython</span></a>. El equipo principal está financiado por Microsoft para trabajar en esto a tiempo completo. Pablo Galindo Salgado también está financiado por Bloomberg LP para trabajar en el proyecto a tiempo parcial. Finalmente, muchos contribuyentes son voluntarios de la comunidad.</p>
</section>
</section>
<section id="cpython-bytecode-changes">
<span id="whatsnew311-bytecode-changes"></span><h2>Cambios en el código de bytes de CPython<a class="headerlink" href="#cpython-bytecode-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El código de bytes ahora contiene entradas de caché en línea, que toman la forma de las instrucciones <a class="reference internal" href="../library/dis.html#opcode-CACHE"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CACHE</span></code></a> recién agregadas. Muchos códigos de operación esperan ser seguidos por una cantidad exacta de cachés e indican al intérprete que los omita en tiempo de ejecución. Los cachés poblados pueden parecer instrucciones arbitrarias, por lo que se debe tener mucho cuidado al leer o modificar el código de bytes adaptativo sin procesar que contiene datos acelerados.</p>
<section id="new-opcodes">
<span id="whatsnew311-added-opcodes"></span><h3>Nuevos códigos de operación<a class="headerlink" href="#new-opcodes" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/dis.html#opcode-ASYNC_GEN_WRAP"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">ASYNC_GEN_WRAP</span></code></a>, <a class="reference internal" href="../library/dis.html#opcode-RETURN_GENERATOR"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">RETURN_GENERATOR</span></code></a> y <a class="reference internal" href="../library/dis.html#opcode-SEND"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">SEND</span></code></a>, utilizados en generadores y co-rutinas.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-COPY_FREE_VARS"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">COPY_FREE_VARS</span></code></a>, que evita la necesidad de un código especial del lado de la persona que llama para los cierres.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-JUMP_BACKWARD_NO_INTERRUPT"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_BACKWARD_NO_INTERRUPT</span></code></a>, para usar en ciertos bucles donde no es deseable manejar interrupciones.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-MAKE_CELL"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">MAKE_CELL</span></code></a>, para crear <a class="reference internal" href="../c-api/cell.html#cell-objects"><span class="std std-ref">Objetos celda</span></a>.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-CHECK_EG_MATCH"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CHECK_EG_MATCH</span></code></a> y <a class="reference internal" href="../library/dis.html#opcode-PREP_RERAISE_STAR"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">PREP_RERAISE_STAR</span></code></a>, para manejar el <a class="reference internal" href="#whatsnew311-pep654"><span class="std std-ref">new exception groups and except*</span></a> agregado en <span class="target" id="index-107"></span><a class="pep reference external" href="https://peps.python.org/pep-0654/"><strong>PEP 654</strong></a>.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-PUSH_EXC_INFO"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">PUSH_EXC_INFO</span></code></a>, para uso en controladores de excepciones.</p></li>
<li><p><a class="reference internal" href="../library/dis.html#opcode-RESUME"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">RESUME</span></code></a>, no operativo, para el seguimiento interno, la depuración y las comprobaciones de optimización.</p></li>
</ul>
</section>
<section id="replaced-opcodes">
<span id="whatsnew311-replaced-opcodes"></span><h3>Códigos de operación reemplazados<a class="headerlink" href="#replaced-opcodes" title="Enlazar permanentemente con este título">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 31%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Códigos de operación reemplazados</p></th>
<th class="head"><p>Nuevos códigos de operación</p></th>
<th class="head"><p>notas</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">BINARY_*</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">INPLACE_*</span></code></div>
</div>
</td>
<td><p><a class="reference internal" href="../library/dis.html#opcode-BINARY_OP"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">BINARY_OP</span></code></a></p></td>
<td><p>Reemplazó todos los códigos de operación numéricos binarios/en el lugar con un solo código de operación</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CALL_FUNCTION</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CALL_FUNCTION_KW</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CALL_METHOD</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-CALL"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CALL</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-KW_NAMES"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">KW_NAMES</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-PRECALL"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">PRECALL</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-PUSH_NULL"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">PUSH_NULL</span></code></a></div>
</div>
</td>
<td><p>Separa el cambio de argumentos para métodos del manejo de argumentos de palabras clave; permite una mejor especialización de las llamadas</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">DUP_TOP</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">DUP_TOP_TWO</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">ROT_TWO</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">ROT_THREE</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">ROT_FOUR</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">ROT_N</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-COPY"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">COPY</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-SWAP"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">SWAP</span></code></a></div>
</div>
</td>
<td><p>Instrucciones de manipulación de pilas</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_IF_NOT_EXC_MATCH</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-CHECK_EXC_MATCH"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">CHECK_EXC_MATCH</span></code></a></div>
</div>
</td>
<td><p>Ahora realiza la comprobación pero no salta.</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_ABSOLUTE</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_JUMP_IF_FALSE</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_JUMP_IF_TRUE</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-JUMP_BACKWARD"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_BACKWARD</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-POP_JUMP_BACKWARD_IF_TRUE"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_JUMP_BACKWARD_IF_*</span></code></a></div>
<div class="line"><a class="reference internal" href="../library/dis.html#opcode-POP_JUMP_FORWARD_IF_TRUE"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_JUMP_FORWARD_IF_*</span></code></a></div>
</div>
</td>
<td><p>Ver <a class="footnote-reference brackets" href="#bytecode-jump" id="id4">3</a>; Variantes <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, <code class="docutils literal notranslate"><span class="pre">NONE</span></code> y <code class="docutils literal notranslate"><span class="pre">NOT_NONE</span></code> para cada dirección</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">SETUP_WITH</span></code></div>
<div class="line"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">SETUP_ASYNC_WITH</span></code></div>
</div>
</td>
<td><p><a class="reference internal" href="../library/dis.html#opcode-BEFORE_WITH"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">BEFORE_WITH</span></code></a></p></td>
<td><p>Configuración del bloque <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="bytecode-jump"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>Todos los códigos de operación de salto ahora son relativos, incluidos los <a class="reference internal" href="../library/dis.html#opcode-JUMP_IF_TRUE_OR_POP"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_IF_TRUE_OR_POP</span></code></a> y <a class="reference internal" href="../library/dis.html#opcode-JUMP_IF_FALSE_OR_POP"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">JUMP_IF_FALSE_OR_POP</span></code></a> existentes. El argumento ahora es un desplazamiento de la instrucción actual en lugar de una ubicación absoluta.</p>
</dd>
</dl>
</section>
<section id="changed-removed-opcodes">
<span id="whatsnew311-changed-removed-opcodes"></span><span id="whatsnew311-removed-opcodes"></span><span id="whatsnew311-changed-opcodes"></span><h3>Códigos de operación cambiados/eliminados<a class="headerlink" href="#changed-removed-opcodes" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se cambiaron <a class="reference internal" href="../library/dis.html#opcode-MATCH_CLASS"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">MATCH_CLASS</span></code></a> y <a class="reference internal" href="../library/dis.html#opcode-MATCH_KEYS"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">MATCH_KEYS</span></code></a> para que ya no envíen un valor booleano adicional para indicar éxito/fracaso. En su lugar, se inserta <code class="docutils literal notranslate"><span class="pre">None</span></code> en caso de error en lugar de la tupla de valores extraídos.</p></li>
<li><p>Se cambiaron los códigos de operación que funcionan con excepciones para reflejarlas y ahora se representan como un elemento en la pila en lugar de tres (ver <a class="reference external" href="https://github.com/python/cpython/issues/89874">gh-89874</a>).</p></li>
<li><p>Se eliminaron <code class="xref std std-opcode docutils literal notranslate"><span class="pre">COPY_DICT_WITHOUT_KEYS</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">GEN_START</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_BLOCK</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">SETUP_FINALLY</span></code> y <code class="xref std std-opcode docutils literal notranslate"><span class="pre">YIELD_FROM</span></code>.</p></li>
</ul>
</section>
</section>
<section id="deprecated">
<span id="whatsnew311-python-api-deprecated"></span><span id="whatsnew311-deprecated"></span><h2>Obsoleto<a class="headerlink" href="#deprecated" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección enumera las API de Python que han quedado obsoletas en Python 3.11.</p>
<p>Las API de C en desuso son <a class="reference internal" href="#whatsnew311-c-api-deprecated"><span class="std std-ref">listed separately</span></a>.</p>
<section id="language-builtins">
<span id="whatsnew311-deprecated-builtins"></span><span id="whatsnew311-deprecated-language"></span><h3>Idioma/Construidos<a class="headerlink" href="#language-builtins" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>El encadenamiento de descriptores <a class="reference internal" href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">classmethod</span></code></a> (introducido en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19072">bpo-19072</a>) ahora está en desuso. Ya no se puede usar para envolver otros descriptores como <a class="reference internal" href="../library/functions.html#property" title="property"><code class="xref py py-class docutils literal notranslate"><span class="pre">property</span></code></a>. El diseño central de esta función tenía fallas y causó una serie de problemas posteriores. Para «transmitir» un <a class="reference internal" href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">classmethod</span></code></a>, considere usar el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">__wrapped__</span></code> que se agregó en Python 3.10. (Aportado por Raymond Hettinger en <a class="reference external" href="https://github.com/python/cpython/issues/89519">gh-89519</a>.)</p></li>
<li><p>Los escapes octales en cadenas y bytes literales con valores mayores que <code class="docutils literal notranslate"><span class="pre">0o377</span></code> (255 en decimal) ahora producen un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. En una futura versión de Python, generarán un <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> y eventualmente un <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://github.com/python/cpython/issues/81548">gh-81548</a>.)</p></li>
<li><p>La delegación de <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> a <a class="reference internal" href="../reference/datamodel.html#object.__trunc__" title="object.__trunc__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__trunc__()</span></code></a> ahora está obsoleta. Llamar a <code class="docutils literal notranslate"><span class="pre">int(a)</span></code> cuando <code class="docutils literal notranslate"><span class="pre">type(a)</span></code> implementa <code class="xref py py-meth docutils literal notranslate"><span class="pre">__trunc__()</span></code> pero no <a class="reference internal" href="../reference/datamodel.html#object.__int__" title="object.__int__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__int__()</span></code></a> o <a class="reference internal" href="../reference/datamodel.html#object.__index__" title="object.__index__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code></a> ahora genera un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. (Aportado por Zackery Spytz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44977">bpo-44977</a>).</p></li>
</ul>
</section>
<section id="modules">
<span id="whatsnew311-deprecated-modules"></span><h3>Módulos<a class="headerlink" href="#modules" title="Enlazar permanentemente con este título">¶</a></h3>
<ul id="whatsnew311-pep594">
<li><p><span class="target" id="index-108"></span><a class="pep reference external" href="https://peps.python.org/pep-0594/"><strong>PEP 594</strong></a> condujo a la desaprobación de los siguientes módulos programados para su eliminación en Python 3.13:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../library/aifc.html#module-aifc" title="aifc: Read and write audio files in AIFF or AIFC format. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">aifc</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/chunk.html#module-chunk" title="chunk: Module to read IFF chunks. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">chunk</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/msilib.html#module-msilib" title="msilib: Creation of Microsoft Installer files, and CAB files. (obsoleto) (Windows)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">msilib</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/pipes.html#module-pipes" title="pipes: A Python interface to Unix shell pipelines. (obsoleto) (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pipes</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/telnetlib.html#module-telnetlib" title="telnetlib: Telnet client class. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">telnetlib</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../library/audioop.html#module-audioop" title="audioop: Manipulate raw audio data. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">audioop</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/crypt.html#module-crypt" title="crypt: The crypt() function used to check Unix passwords. (obsoleto) (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">crypt</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/nis.html#module-nis" title="nis: Interface to Sun's NIS (Yellow Pages) library. (obsoleto) (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nis</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/sndhdr.html#module-sndhdr" title="sndhdr: Determine type of a sound file. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sndhdr</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/uu.html#module-uu" title="uu: Encode and decode files in uuencode format. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uu</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../library/cgi.html#module-cgi" title="cgi: Helpers for running Python scripts via the Common Gateway Interface. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgi</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/imghdr.html#module-imghdr" title="imghdr: Determine the type of image contained in a file or byte stream. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imghdr</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/nntplib.html#module-nntplib" title="nntplib: NNTP protocol client (requires sockets). (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nntplib</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/spwd.html#module-spwd" title="spwd: The shadow password database (getspnam() and friends). (obsoleto) (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spwd</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/xdrlib.html#module-xdrlib" title="xdrlib: Encoders and decoders for the External Data Representation (XDR). (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xdrlib</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../library/cgitb.html#module-cgitb" title="cgitb: Configurable traceback handler for CGI scripts. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cgitb</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/mailcap.html#module-mailcap" title="mailcap: Mailcap file handling. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailcap</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/ossaudiodev.html#module-ossaudiodev" title="ossaudiodev: Access to OSS-compatible audio devices. (obsoleto) (Linux, FreeBSD)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ossaudiodev</span></code></a></p></td>
<td><p><a class="reference internal" href="../library/sunau.html#module-sunau" title="sunau: Provide an interface to the Sun AU sound format. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sunau</span></code></a></p></td>
<td></td>
</tr>
</tbody>
</table>
<p>(Aportado por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47061">bpo-47061</a> y Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/68966">gh-68966</a>).</p>
</li>
<li><p>The <a class="reference internal" href="../library/asynchat.html#module-asynchat" title="asynchat: Support for asynchronous command/response protocols. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asynchat</span></code></a>, <a class="reference internal" href="../library/asyncore.html#module-asyncore" title="asyncore: A base class for developing asynchronous socket handling services. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncore</span></code></a> and  <a class="reference internal" href="../library/smtpd.html#module-smtpd" title="smtpd: A SMTP server implementation in Python. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code></a> modules have been
deprecated since at least Python 3.6. Their documentation and deprecation
warnings have now been updated to note they will be removed in Python 3.12.
(Contributed by Hugo van Kemenade in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47022">bpo-47022</a>.)</p></li>
<li><p>El paquete <a class="reference internal" href="../library/2to3.html#module-lib2to3" title="lib2to3: The 2to3 library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lib2to3</span></code></a> y la herramienta <a class="reference internal" href="../library/2to3.html#to3-reference"><span class="std std-ref">2to3</span></a> ahora están obsoletos y es posible que no puedan analizar Python 3.10 o posterior. Consulte <span class="target" id="index-109"></span><a class="pep reference external" href="https://peps.python.org/pep-0617/"><strong>PEP 617</strong></a>, que presenta el nuevo analizador PEG, para obtener más información. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40360">bpo-40360</a>.)</p></li>
<li><p>Los módulos no documentados <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_compile</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_constants</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_parse</span></code> ahora están obsoletos. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47152">bpo-47152</a>.)</p></li>
</ul>
</section>
<section id="standard-library">
<span id="whatsnew311-deprecated-stdlib"></span><h3>Biblioteca estándar<a class="headerlink" href="#standard-library" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>The following have been deprecated in <a class="reference internal" href="../library/configparser.html#module-configparser" title="configparser: Configuration file parser."><code class="xref py py-mod docutils literal notranslate"><span class="pre">configparser</span></code></a> since Python 3.2.
Their deprecation warnings have now been updated to note they will be removed
in Python 3.12:</p>
<ul class="simple">
<li><p>la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">configparser.SafeConfigParser</span></code></p></li>
<li><p>la propiedad <code class="xref py py-attr docutils literal notranslate"><span class="pre">configparser.ParsingError.filename</span></code></p></li>
<li><p>el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">configparser.RawConfigParser.readfp()</span></code></p></li>
</ul>
<p>(Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45173">bpo-45173</a>.)</p>
</li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">configparser.LegacyInterpolation</span></code> ha quedado obsoleto en la cadena de documentación desde Python 3.2 y no aparece en la documentación de <a class="reference internal" href="../library/configparser.html#module-configparser" title="configparser: Configuration file parser."><code class="xref py py-mod docutils literal notranslate"><span class="pre">configparser</span></code></a>. Ahora emite un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> y se eliminará en Python 3.13. Utilice <a class="reference internal" href="../library/configparser.html#configparser.BasicInterpolation" title="configparser.BasicInterpolation"><code class="xref py py-class docutils literal notranslate"><span class="pre">configparser.BasicInterpolation</span></code></a> o <a class="reference internal" href="../library/configparser.html#configparser.ExtendedInterpolation" title="configparser.ExtendedInterpolation"><code class="xref py py-class docutils literal notranslate"><span class="pre">configparser.ExtendedInterpolation</span></code></a> en su lugar. (Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46607">bpo-46607</a>.)</p></li>
<li><p>El conjunto anterior de funciones <a class="reference internal" href="../library/importlib.resources.html#module-importlib.resources" title="importlib.resources: Package resource reading, opening, and access"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.resources</span></code></a> quedó en desuso en favor de los reemplazos agregados en Python 3.9 y se eliminará en una versión futura de Python, debido a que no admite recursos ubicados dentro de los subdirectorios del paquete:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.contents" title="importlib.resources.contents"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.contents()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.is_resource" title="importlib.resources.is_resource"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.is_resource()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.open_binary" title="importlib.resources.open_binary"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.open_binary()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.open_text" title="importlib.resources.open_text"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.open_text()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.read_binary" title="importlib.resources.read_binary"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.read_binary()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.read_text" title="importlib.resources.read_text"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.read_text()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.resources.html#importlib.resources.path" title="importlib.resources.path"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.path()</span></code></a></p></li>
</ul>
</li>
<li><p>La función <a class="reference internal" href="../library/locale.html#locale.getdefaultlocale" title="locale.getdefaultlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getdefaultlocale()</span></code></a> está en desuso y se eliminará en Python 3.13. Utilice las funciones <a class="reference internal" href="../library/locale.html#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.setlocale()</span></code></a>, <a class="reference internal" href="../library/locale.html#locale.getpreferredencoding" title="locale.getpreferredencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getpreferredencoding(False)</span></code></a> y <a class="reference internal" href="../library/locale.html#locale.getlocale" title="locale.getlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getlocale()</span></code></a> en su lugar. (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/90817">gh-90817</a>.)</p></li>
<li><p>La función <a class="reference internal" href="../library/locale.html#locale.resetlocale" title="locale.resetlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.resetlocale()</span></code></a> está en desuso y se eliminará en Python 3.13. Utilice <code class="docutils literal notranslate"><span class="pre">locale.setlocale(locale.LC_ALL,</span> <span class="pre">&quot;&quot;)</span></code> en su lugar. (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/90817">gh-90817</a>.)</p></li>
<li><p>Ahora se aplicarán reglas más estrictas para las referencias de grupos numéricos y los nombres de grupos en <a class="reference internal" href="../library/re.html#re-syntax"><span class="std std-ref">regular expressions</span></a>. Ahora solo se aceptarán secuencias de dígitos ASCII como referencia numérica, y el nombre del grupo en los patrones <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> y las cadenas de reemplazo solo pueden contener letras ASCII, dígitos y guiones bajos. Por ahora, se genera una advertencia de desaprobación para la sintaxis que viola estas reglas. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://github.com/python/cpython/issues/91760">gh-91760</a>.)</p></li>
<li><p>En el módulo <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a>, la función <code class="xref py py-func docutils literal notranslate"><span class="pre">re.template()</span></code> y los indicadores <code class="xref py py-data docutils literal notranslate"><span class="pre">re.TEMPLATE</span></code> y <code class="xref py py-data docutils literal notranslate"><span class="pre">re.T</span></code> correspondientes están obsoletos, ya que no estaban documentados y carecían de un propósito obvio. Se eliminarán en Python 3.13. (Aportado por Serhiy Storchaka y Miro Hrončok en <a class="reference external" href="https://github.com/python/cpython/issues/92728">gh-92728</a>.)</p></li>
<li><p><a class="reference internal" href="../library/turtle.html#turtle.settiltangle" title="turtle.settiltangle"><code class="xref py py-func docutils literal notranslate"><span class="pre">turtle.settiltangle()</span></code></a> está en desuso desde Python 3.1; ahora emite una advertencia de desaprobación y se eliminará en Python 3.13. Utilice <a class="reference internal" href="../library/turtle.html#turtle.tiltangle" title="turtle.tiltangle"><code class="xref py py-func docutils literal notranslate"><span class="pre">turtle.tiltangle()</span></code></a> en su lugar (anteriormente se marcó incorrectamente como obsoleto y su cadena de documentación ahora está corregida). (Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45837">bpo-45837</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.Text" title="typing.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Text</span></code></a>, que existe únicamente para proporcionar soporte de compatibilidad entre el código de Python 2 y Python 3, ahora está obsoleto. Su eliminación no está planificada actualmente, pero se recomienda a los usuarios que usen <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> en su lugar siempre que sea posible. (Aportado por Alex Waygood en <a class="reference external" href="https://github.com/python/cpython/issues/92332">gh-92332</a>.)</p></li>
<li><p>La sintaxis de argumento de palabra clave para construir tipos <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a> ahora está obsoleta. Se eliminará el soporte en Python 3.13. (Aportado por Jingchen Ye en <a class="reference external" href="https://github.com/python/cpython/issues/90224">gh-90224</a>.)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">webbrowser.MacOSX</span></code> está en desuso y se eliminará en Python 3.13. No está probado, no está documentado y no es utilizado por el propio <a class="reference internal" href="../library/webbrowser.html#module-webbrowser" title="webbrowser: Easy-to-use controller for web browsers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">webbrowser</span></code></a>. (Aportado por Dong-hee Na en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42255">bpo-42255</a>.)</p></li>
<li><p>El comportamiento de devolver un valor de los métodos de prueba <a class="reference internal" href="../library/unittest.html#unittest.TestCase" title="unittest.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a> y <a class="reference internal" href="../library/unittest.html#unittest.IsolatedAsyncioTestCase" title="unittest.IsolatedAsyncioTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsolatedAsyncioTestCase</span></code></a> (aparte del valor <code class="docutils literal notranslate"><span class="pre">None</span></code> predeterminado) ahora está obsoleto.</p></li>
<li><p>Se descartaron las siguientes funciones <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> no documentadas formalmente, programadas para su eliminación en Python 3.13:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.findTestCases()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.makeSuite()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.getTestCaseNames()</span></code></p></li>
</ul>
<p>Utilice métodos <a class="reference internal" href="../library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a> en su lugar:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/unittest.html#unittest.TestLoader.loadTestsFromModule" title="unittest.TestLoader.loadTestsFromModule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestLoader.loadTestsFromModule()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/unittest.html#unittest.TestLoader.loadTestsFromTestCase" title="unittest.TestLoader.loadTestsFromTestCase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestLoader.loadTestsFromTestCase()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/unittest.html#unittest.TestLoader.getTestCaseNames" title="unittest.TestLoader.getTestCaseNames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestLoader.getTestCaseNames()</span></code></a></p></li>
</ul>
<p>(Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5846">bpo-5846</a>.)</p>
</li>
</ul>
</section>
</section>
<section id="pending-removal-in-python-3-12">
<span id="whatsnew311-python-api-pending-removal"></span><span id="whatsnew311-pending-removal"></span><h2>Eliminación pendiente en Python 3.12<a class="headerlink" href="#pending-removal-in-python-3-12" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las siguientes API de Python han quedado obsoletas en versiones anteriores de Python y se eliminarán en Python 3.12.</p>
<p>Las API de C pendientes de eliminación son <a class="reference internal" href="#whatsnew311-c-api-pending-removal"><span class="std std-ref">listed separately</span></a>.</p>
<ul>
<li><p>The <a class="reference internal" href="../library/asynchat.html#module-asynchat" title="asynchat: Support for asynchronous command/response protocols. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asynchat</span></code></a> module</p></li>
<li><p>The <a class="reference internal" href="../library/asyncore.html#module-asyncore" title="asyncore: A base class for developing asynchronous socket handling services. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncore</span></code></a> module</p></li>
<li><p>The <a class="reference internal" href="3.10.html#distutils-deprecated"><span class="std std-ref">entire distutils package</span></a></p></li>
<li><p>The <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a> module</p></li>
<li><p>The <a class="reference internal" href="../library/typing.html#typing.IO" title="typing.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.io</span></code></a> namespace</p></li>
<li><p>The <a class="reference internal" href="../library/typing.html#typing.Pattern" title="typing.Pattern"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.re</span></code></a> namespace</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">cgi.log()</span></code></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.find_loader" title="importlib.find_loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.find_loader()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.module_repr" title="importlib.abc.Loader.module_repr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.Loader.module_repr()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder.find_module" title="importlib.abc.MetaPathFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_module()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_loader" title="importlib.abc.PathEntryFinder.find_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_loader()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_module" title="importlib.abc.PathEntryFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_module()</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.BuiltinImporter.find_module()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.BuiltinLoader.module_repr()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FileFinder.find_loader()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FileFinder.find_module()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FrozenImporter.find_module()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FrozenLoader.module_repr()</span></code></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.machinery.PathFinder.find_module" title="importlib.machinery.PathFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.PathFinder.find_module()</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.WindowsRegistryFinder.find_module()</span></code></p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.util.module_for_loader" title="importlib.util.module_for_loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.module_for_loader()</span></code></a></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.set_loader_wrapper()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.set_package_wrapper()</span></code></p></li>
<li><p><a class="reference internal" href="../library/pkgutil.html#pkgutil.ImpImporter" title="pkgutil.ImpImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pkgutil.ImpImporter</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/pkgutil.html#pkgutil.ImpLoader" title="pkgutil.ImpLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">pkgutil.ImpLoader</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/pathlib.html#pathlib.Path.link_to" title="pathlib.Path.link_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.Path.link_to()</span></code></a></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlite3.enable_shared_cache()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlite3.OptimizedUnicode()</span></code></p></li>
<li><p><span class="target" id="index-33"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONTHREADDEBUG"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONTHREADDEBUG</span></code></a> environment variable</p></li>
<li><p>The following deprecated aliases in <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a>:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 42%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Deprecated alias</p></th>
<th class="head"><p>Method Name</p></th>
<th class="head"><p>Deprecated in</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">failUnless</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertTrue" title="unittest.TestCase.assertTrue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">failIf</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertFalse" title="unittest.TestCase.assertFalse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertFalse()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">failUnlessEqual</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">failIfEqual</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNotEqual" title="unittest.TestCase.assertNotEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotEqual()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">failUnlessAlmostEqual</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertAlmostEqual" title="unittest.TestCase.assertAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertAlmostEqual()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">failIfAlmostEqual</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="unittest.TestCase.assertNotAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotAlmostEqual()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">failUnlessRaises</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a></p></td>
<td><p>3.1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">assert_</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertTrue" title="unittest.TestCase.assertTrue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assertEquals</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">assertNotEquals</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNotEqual" title="unittest.TestCase.assertNotEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotEqual()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assertAlmostEquals</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertAlmostEqual" title="unittest.TestCase.assertAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertAlmostEqual()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">assertNotAlmostEquals</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="unittest.TestCase.assertNotAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotAlmostEqual()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assertRegexpMatches</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertRegex" title="unittest.TestCase.assertRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRegex()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">assertRaisesRegexp</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a></p></td>
<td><p>3.2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assertNotRegexpMatches</span></code></p></td>
<td><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex()</span></code></a></p></td>
<td><p>3.5</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</section>
<section id="removed">
<span id="whatsnew311-python-api-removed"></span><span id="whatsnew311-removed"></span><h2>Remoto<a class="headerlink" href="#removed" title="Enlazar permanentemente con este título">¶</a></h2>
<p>This section lists Python APIs that have been removed in Python 3.11.</p>
<p>Las API C eliminadas son <a class="reference internal" href="#whatsnew311-c-api-removed"><span class="std std-ref">listed separately</span></a>.</p>
<ul>
<li><p>Se eliminó <code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;asyncio.coroutine()</span></code> <a class="reference internal" href="../glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a>, lo que permite que las corrutinas basadas en generadores heredados sean compatibles con el código <a class="reference internal" href="../reference/compound_stmts.html#async"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span></code></a>/<a class="reference internal" href="../reference/expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a>. La función ha quedado obsoleta desde Python 3.8 y la eliminación se programó inicialmente para Python 3.10. Utilice <a class="reference internal" href="../reference/compound_stmts.html#async-def"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code></a> en su lugar. (Aportado por Illia Volochii en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43216">bpo-43216</a>.)</p></li>
<li><p>Se eliminó <code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.coroutines.CoroWrapper</span></code> utilizado para envolver objetos de corrutina basados ​​en generadores heredados en el modo de depuración. (Aportado por Illia Volochii en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43216">bpo-43216</a>.)</p></li>
<li><p>Debido a importantes problemas de seguridad, el parámetro <em>reuse_address</em> de <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.create_datagram_endpoint" title="asyncio.loop.create_datagram_endpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.loop.create_datagram_endpoint()</span></code></a>, deshabilitado en Python 3.9, ahora se eliminó por completo. Esto se debe al comportamiento de la opción de socket <code class="docutils literal notranslate"><span class="pre">SO_REUSEADDR</span></code> en UDP. (Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45129">bpo-45129</a>.)</p></li>
<li><p>Se eliminó el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">binhex</span></code>, obsoleto en Python 3.9. También se eliminaron las funciones <a class="reference internal" href="../library/binascii.html#module-binascii" title="binascii: Tools for converting between binary and various ASCII-encoded binary representations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">binascii</span></code></a> relacionadas y obsoletas de manera similar:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">binascii.a2b_hqx()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">binascii.b2a_hqx()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">binascii.rlecode_hqx()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">binascii.rldecode_hqx()</span></code></p></li>
</ul>
<p>La función <a class="reference internal" href="../library/binascii.html#binascii.crc_hqx" title="binascii.crc_hqx"><code class="xref py py-func docutils literal notranslate"><span class="pre">binascii.crc_hqx()</span></code></a> permanece disponible.</p>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45085">bpo-45085</a>.)</p>
</li>
<li><p>Se eliminó el comando <a class="reference internal" href="../library/distutils.html#module-distutils" title="distutils: Support for building and installing Python modules into an existing Python installation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">distutils</span></code></a> <code class="docutils literal notranslate"><span class="pre">bdist_msi</span></code> en desuso en Python 3.9. Utilice <code class="docutils literal notranslate"><span class="pre">bdist_wheel</span></code> (paquetes de ruedas) en su lugar. (Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45124">bpo-45124</a>.)</p></li>
<li><p>Se eliminaron los métodos <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> de <a class="reference internal" href="../library/xml.dom.pulldom.html#xml.dom.pulldom.DOMEventStream" title="xml.dom.pulldom.DOMEventStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.dom.pulldom.DOMEventStream</span></code></a>, <a class="reference internal" href="../library/wsgiref.html#wsgiref.util.FileWrapper" title="wsgiref.util.FileWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">wsgiref.util.FileWrapper</span></code></a> y <a class="reference internal" href="../library/fileinput.html#fileinput.FileInput" title="fileinput.FileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">fileinput.FileInput</span></code></a>, obsoletos desde Python 3.9. (Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45132">bpo-45132</a>.)</p></li>
<li><p>Se eliminaron las funciones obsoletas <a class="reference internal" href="../library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a> <code class="xref py py-func docutils literal notranslate"><span class="pre">lgettext()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">ldgettext()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">lngettext()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">ldngettext()</span></code>. También se eliminó la función <code class="xref py py-func docutils literal notranslate"><span class="pre">bind_textdomain_codeset()</span></code>, los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">NullTranslations.output_charset()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">NullTranslations.set_output_charset()</span></code>, y el parámetro <em>codeset</em> de <code class="xref py py-func docutils literal notranslate"><span class="pre">translation()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">install()</span></code>, ya que solo se usan para las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">l*gettext()</span></code>. (Aportado por Dong-hee Na y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44235">bpo-44235</a>).</p></li>
<li><p>Eliminado del módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a>:</p>
<ul class="simple">
<li><p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">getargspec()</span></code>, en desuso desde Python 3.0; utilice <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a> o <a class="reference internal" href="../library/inspect.html#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getfullargspec()</span></code></a> en su lugar.</p></li>
<li><p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">formatargspec()</span></code>, obsoleta desde Python 3.5; use la función <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a> o el objeto <a class="reference internal" href="../library/inspect.html#inspect.Signature" title="inspect.Signature"><code class="xref py py-class docutils literal notranslate"><span class="pre">inspect.Signature</span></code></a> directamente.</p></li>
<li><p>Los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">Signature.from_builtin()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">Signature.from_function()</span></code> no documentados, obsoletos desde Python 3.5; utilice el método <a class="reference internal" href="../library/inspect.html#inspect.Signature.from_callable" title="inspect.Signature.from_callable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Signature.from_callable()</span></code></a> en su lugar.</p></li>
</ul>
<p>(Aportado por Hugo van Kemenade en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45320">bpo-45320</a>.)</p>
</li>
<li><p>Se eliminó el método <a class="reference internal" href="../reference/datamodel.html#object.__class_getitem__" title="object.__class_getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__class_getitem__()</span></code></a> de <a class="reference internal" href="../library/pathlib.html#pathlib.PurePath" title="pathlib.PurePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.PurePath</span></code></a>, porque no se usó y se agregó por error en versiones anteriores. (Aportado por Nikita Sobolev en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46483">bpo-46483</a>.)</p></li>
<li><p>Se eliminó la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">MailmanProxy</span></code> en el módulo <a class="reference internal" href="../library/smtpd.html#module-smtpd" title="smtpd: A SMTP server implementation in Python. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code></a>, ya que no se puede usar sin el paquete <code class="xref py py-mod docutils literal notranslate"><span class="pre">mailman</span></code> externo. (Aportado por Dong-hee Na en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35800">bpo-35800</a>.)</p></li>
<li><p>Se eliminó el método obsoleto <code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code> de <code class="xref py py-class docutils literal notranslate"><span class="pre">_tkinter.TkappType</span></code>. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38371">bpo-38371</a>.)</p></li>
<li><p>Se eliminó la compatibilidad con el paquete de espacio de nombres del descubrimiento <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a>. Se introdujo en Python 3.4 pero se rompió desde Python 3.7. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23882">bpo-23882</a>.)</p></li>
<li><p>Se eliminó el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">float.__set_format__()</span></code> privado no documentado, anteriormente conocido como <code class="xref py py-meth docutils literal notranslate"><span class="pre">float.__setformat__()</span></code> en Python 3.7. Su cadena de documentación decía: «Probablemente no desee utilizar esta función. Existe principalmente para ser utilizada en el conjunto de pruebas de Python». (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46852">bpo-46852</a>.)</p></li>
<li><p>El indicador de configuración <code class="xref std std-option docutils literal notranslate"><span class="pre">--experimental-isolated-subinterpreters</span></code> (y la macro <code class="xref c c-macro docutils literal notranslate"><span class="pre">EXPERIMENTAL_ISOLATED_SUBINTERPRETERS</span></code> correspondiente) se han eliminado.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/pynche/">Pynche</a> — El editor de tonos y colores naturales de Python — se ha sacado de <code class="docutils literal notranslate"><span class="pre">Tools/scripts</span></code> y es <a class="reference external" href="https://gitlab.com/warsaw/pynche/-/tree/main">being developed independently</a> del árbol de fuentes de Python.</p></li>
</ul>
</section>
<section id="porting-to-python-3-11">
<span id="whatsnew311-python-api-porting"></span><span id="whatsnew311-porting"></span><h2>Migración a Python 3.11<a class="headerlink" href="#porting-to-python-3-11" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección enumera los cambios descritos anteriormente y otras correcciones de errores en la API de Python que pueden requerir cambios en su código de Python.</p>
<p>Las notas de portabilidad para la API de C son <a class="reference internal" href="#whatsnew311-c-api-porting"><span class="std std-ref">listed separately</span></a>.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>, <a class="reference internal" href="../library/io.html#io.open" title="io.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a>, <a class="reference internal" href="../library/codecs.html#codecs.open" title="codecs.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.open()</span></code></a> y <a class="reference internal" href="../library/fileinput.html#fileinput.FileInput" title="fileinput.FileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">fileinput.FileInput</span></code></a> ya no aceptan <code class="docutils literal notranslate"><span class="pre">'U'</span></code> («nueva línea universal») en el modo de archivo. En Python 3, el modo «nueva línea universal» se usa de forma predeterminada cada vez que se abre un archivo en modo de texto, y el indicador <code class="docutils literal notranslate"><span class="pre">'U'</span></code> ha quedado obsoleto desde Python 3.3. El <a class="reference internal" href="../library/functions.html#open-newline-parameter"><span class="std std-ref">newline parameter</span></a> para estas funciones controla cómo funcionan las nuevas líneas universales. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37330">bpo-37330</a>.)</p></li>
<li><p>Las posiciones de los nodos <a class="reference internal" href="../library/ast.html#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> ahora se validan cuando se proporcionan a <a class="reference internal" href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> y otras funciones relacionadas. Si se detectan posiciones no válidas, se generará un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>. (Aportado por Pablo Galindo en <a class="reference external" href="https://github.com/python/cpython/issues/93351">gh-93351</a>)</p></li>
<li><p>Prohibido pasar ejecutores que no sean <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor" title="concurrent.futures.ThreadPoolExecutor"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.ThreadPoolExecutor</span></code></a> a <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.set_default_executor" title="asyncio.loop.set_default_executor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.loop.set_default_executor()</span></code></a> luego de una obsolescencia en Python 3.8. (Aportado por Illia Volochii en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43234">bpo-43234</a>.)</p></li>
<li><p><a class="reference internal" href="../library/calendar.html#module-calendar" title="calendar: Functions for working with calendars, including some emulation of the Unix cal program."><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code></a>: las clases <a class="reference internal" href="../library/calendar.html#calendar.LocaleTextCalendar" title="calendar.LocaleTextCalendar"><code class="xref py py-class docutils literal notranslate"><span class="pre">calendar.LocaleTextCalendar</span></code></a> y <a class="reference internal" href="../library/calendar.html#calendar.LocaleHTMLCalendar" title="calendar.LocaleHTMLCalendar"><code class="xref py py-class docutils literal notranslate"><span class="pre">calendar.LocaleHTMLCalendar</span></code></a> ahora usan <a class="reference internal" href="../library/locale.html#locale.getlocale" title="locale.getlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getlocale()</span></code></a>, en lugar de usar <a class="reference internal" href="../library/locale.html#locale.getdefaultlocale" title="locale.getdefaultlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getdefaultlocale()</span></code></a>, si no se especifica una configuración regional. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46659">bpo-46659</a>.)</p></li>
<li><p>El módulo <a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> ahora lee el archivo de configuración <code class="file docutils literal notranslate"><span class="pre">.pdbrc</span></code> con la codificación <code class="docutils literal notranslate"><span class="pre">'UTF-8'</span></code>. (Contribuido por Srinivas Reddy Thatiparthy (శ్రీనివాస్ రెడ్డి తాటిపర్తి) en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41137">bpo-41137</a>.)</p></li>
<li><p>El parámetro <em>population</em> de <a class="reference internal" href="../library/random.html#random.sample" title="random.sample"><code class="xref py py-func docutils literal notranslate"><span class="pre">random.sample()</span></code></a> debe ser una secuencia y ya no se admite la conversión automática de <a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>s a <a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>s. Además, si el tamaño de la muestra es mayor que el tamaño de la población, se genera un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>. (Aportado por Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40465">bpo-40465</a>.)</p></li>
<li><p>Se eliminó el parámetro opcional <em>random</em> de <a class="reference internal" href="../library/random.html#random.shuffle" title="random.shuffle"><code class="xref py py-func docutils literal notranslate"><span class="pre">random.shuffle()</span></code></a>. Anteriormente, era una función aleatoria arbitraria para usar en la reproducción aleatoria; ahora, siempre se utilizará <a class="reference internal" href="../library/random.html#random.random" title="random.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random.random()</span></code></a> (su valor predeterminado anterior).</p></li>
<li><p>En <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a> <a class="reference internal" href="../library/re.html#re-syntax"><span class="std std-ref">Sintaxis de expresiones regulares</span></a>, las banderas en línea globales (por ejemplo, <code class="docutils literal notranslate"><span class="pre">(?i)</span></code>) ahora solo se pueden usar al comienzo de las expresiones regulares. Su uso en otros lugares ha quedado obsoleto desde Python 3.6. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=47066">bpo-47066</a>.)</p></li>
<li><p>En el módulo <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a>, se corrigieron varios errores antiguos que, en casos excepcionales, podían hacer que los grupos de captura obtuvieran un resultado incorrecto. Por lo tanto, esto podría cambiar la salida capturada en estos casos. (Contribuido por Ma Lin en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35859">bpo-35859</a>.)</p></li>
</ul>
</section>
<section id="build-changes">
<span id="whatsnew311-build-changes"></span><h2>Construir cambios<a class="headerlink" href="#build-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul>
<li><p>CPython ahora tiene <span class="target" id="index-110"></span><a class="pep reference external" href="https://peps.python.org/pep-0011/"><strong>PEP 11</strong></a> <span class="target" id="index-111"></span><a class="pep reference external" href="https://peps.python.org/pep-0011/#tier-3"><strong>Tier 3 support</strong></a> para la compilación cruzada en las plataformas <a class="reference external" href="https://webassembly.org/">WebAssembly</a> <a class="reference external" href="https://emscripten.org/">Emscripten</a> (<code class="docutils literal notranslate"><span class="pre">wasm32-unknown-emscripten</span></code>, es decir, Python en el navegador) y <a class="reference external" href="https://wasi.dev/">WebAssembly System Interface (WASI)</a> (<code class="docutils literal notranslate"><span class="pre">wasm32-unknown-wasi</span></code>). El esfuerzo está inspirado en trabajos anteriores como <a class="reference external" href="https://pyodide.org/">Pyodide</a>. Estas plataformas proporcionan un subconjunto limitado de API POSIX; Las funciones y módulos de las bibliotecas estándar de Python relacionadas con redes, procesos, subprocesos, señales, mmap y usuarios/grupos no están disponibles o no funcionan. (Escritos aportados por Christian Heimes y Ethan Smith en <a class="reference external" href="https://github.com/python/cpython/issues/84461">gh-84461</a> y WASI aportados por Christian Heimes en <a class="reference external" href="https://github.com/python/cpython/issues/90473">gh-90473</a>; plataformas promocionadas en <a class="reference external" href="https://github.com/python/cpython/issues/95085">gh-95085</a>)</p></li>
<li><p>Building CPython now requires:</p>
<ul class="simple">
<li><p>A <a class="reference external" href="https://en.cppreference.com/w/c/11">C11</a> compiler and standard library.
<a class="reference external" href="https://en.wikipedia.org/wiki/C11_(C_standard_revision)#Optional_features">Optional C11 features</a>
are not required.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46656">bpo-46656</a>,
<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45440">bpo-45440</a> and <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46640">bpo-46640</a>.)</p></li>
<li><p>Compatibilidad con números de punto flotante <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a>. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46917">bpo-46917</a>.)</p></li>
</ul>
</li>
<li><p>The <code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_NO_NAN</span></code> macro has been removed.
Since CPython now requires IEEE 754 floats, NaN values are always available.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46656">bpo-46656</a>.)</p></li>
<li><p>El paquete <a class="reference internal" href="../library/tkinter.html#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> ahora requiere <a class="reference external" href="https://www.tcl.tk">Tcl/Tk</a> versión 8.5.12 o posterior. (Aportado por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46996">bpo-46996</a>.)</p></li>
<li><p>Las dependencias de compilación, los indicadores del compilador y los indicadores del vinculador para la mayoría de los módulos de extensión stdlib ahora son detectados por <strong class="program">configure</strong>. <a class="reference external" href="https://www.freedesktop.org/wiki/Software/pkg-config/">pkg-config</a> detecta los indicadores libffi, libnsl, libsqlite3, zlib, bzip2, liblzma, libcrypt, Tcl/Tk y uuid (si están disponibles). <a class="reference internal" href="../library/tkinter.html#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> ahora requiere un comando pkg-config para detectar configuraciones de desarrollo para encabezados y bibliotecas <a class="reference external" href="https://www.tcl.tk">Tcl/Tk</a>. (Aportado por Christian Heimes y Erlend Egeberg Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45847">bpo-45847</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45747">bpo-45747</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45763">bpo-45763</a>).</p></li>
<li><p>libpython ya no está vinculado con libcrypt. (Aportado por Mike Gilbert en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45433">bpo-45433</a>.)</p></li>
<li><p>CPython ahora se puede compilar con la opción <a class="reference external" href="https://clang.llvm.org/docs/ThinLTO.html">ThinLTO</a> pasando <code class="docutils literal notranslate"><span class="pre">thin</span></code> a <a class="reference internal" href="../using/configure.html#cmdoption-with-lto"><code class="xref std std-option docutils literal notranslate"><span class="pre">--with-lto</span></code></a>, es decir, <code class="docutils literal notranslate"><span class="pre">--with-lto=thin</span></code>. (Aportado por Dong-hee Na y Brett Holman en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44340">bpo-44340</a>).</p></li>
<li><p>Las listas libres para estructuras de objetos ahora se pueden deshabilitar. Se puede usar una nueva opción <strong class="program">configure</strong> <code class="xref std std-option docutils literal notranslate"><span class="pre">--without-freelists</span></code> para deshabilitar todas las listas libres excepto el singleton de tupla vacío. (Aportado por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45522">bpo-45522</a>.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Modules/Setup</span></code> y <code class="docutils literal notranslate"><span class="pre">Modules/makesetup</span></code> se han mejorado y atado. Los módulos de extensión ahora se pueden construir a través de <code class="docutils literal notranslate"><span class="pre">makesetup</span></code>. Todos, excepto algunos módulos de prueba, se pueden vincular estáticamente a una biblioteca o binario principal. (Aportado por Brett Cannon y Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45548">bpo-45548</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45570">bpo-45570</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45571">bpo-45571</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43974">bpo-43974</a>).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Utilice las variables de entorno <code class="xref std std-envvar docutils literal notranslate"><span class="pre">TCLTK_CFLAGS</span></code> y <code class="xref std std-envvar docutils literal notranslate"><span class="pre">TCLTK_LIBS</span></code> para especificar manualmente la ubicación de los encabezados y bibliotecas Tcl/Tk. Se han eliminado las opciones <strong class="program">configure</strong> <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-tcltk-includes</span></code> y <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-tcltk-libs</span></code>.</p>
<p>En RHEL 7 y CentOS 7, los paquetes de desarrollo no proporcionan <code class="docutils literal notranslate"><span class="pre">tcl.pc</span></code> y <code class="docutils literal notranslate"><span class="pre">tk.pc</span></code>; usa <code class="docutils literal notranslate"><span class="pre">TCLTK_LIBS=&quot;-ltk8.5</span> <span class="pre">-ltkstub8.5</span> <span class="pre">-ltcl8.5&quot;</span></code>. El directorio <code class="docutils literal notranslate"><span class="pre">Misc/rhel7</span></code> contiene archivos <code class="docutils literal notranslate"><span class="pre">.pc</span></code> e instrucciones sobre cómo compilar Python con Tcl/Tk y OpenSSL de RHEL 7 y CentOS 7.</p>
</div>
</li>
<li><p>CPython ahora usará dígitos de 30 bits de manera predeterminada para la implementación de Python <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>. Anteriormente, el valor predeterminado era usar dígitos de 30 bits en plataformas con <code class="docutils literal notranslate"><span class="pre">SIZEOF_VOID_P</span> <span class="pre">&gt;=</span> <span class="pre">8</span></code> y dígitos de 15 bits en caso contrario. Todavía es posible solicitar explícitamente el uso de dígitos de 15 bits a través de la opción <a class="reference internal" href="../using/configure.html#cmdoption-enable-big-digits"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-big-digits</span></code></a> en el script de configuración o (para Windows) la variable <code class="docutils literal notranslate"><span class="pre">PYLONG_BITS_IN_DIGIT</span></code> en <code class="docutils literal notranslate"><span class="pre">PC/pyconfig.h</span></code>, pero es posible que esta opción se elimine en algún momento en el futuro. (Contribuido por Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45569">bpo-45569</a>.)</p></li>
</ul>
</section>
<section id="c-api-changes">
<span id="whatsnew311-c-api"></span><h2>Cambios en la API de C<a class="headerlink" href="#c-api-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="whatsnew311-c-api-new-features">
<span id="id5"></span><h3>Nuevas características<a class="headerlink" href="#whatsnew311-c-api-new-features" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>Agregue una nueva función <a class="reference internal" href="../c-api/type.html#c.PyType_GetName" title="PyType_GetName"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GetName()</span></code></a> para obtener el nombre corto del tipo. (Aportado por Hai Shi en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42035">bpo-42035</a>.)</p></li>
<li><p>Agregue una nueva función <a class="reference internal" href="../c-api/type.html#c.PyType_GetQualName" title="PyType_GetQualName"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GetQualName()</span></code></a> para obtener el nombre completo del tipo. (Aportado por Hai Shi en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42035">bpo-42035</a>.)</p></li>
<li><p>Agregue nuevas funciones <a class="reference internal" href="../c-api/init.html#c.PyThreadState_EnterTracing" title="PyThreadState_EnterTracing"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThreadState_EnterTracing()</span></code></a> y <a class="reference internal" href="../c-api/init.html#c.PyThreadState_LeaveTracing" title="PyThreadState_LeaveTracing"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThreadState_LeaveTracing()</span></code></a> a la API de C limitada para suspender y reanudar el seguimiento y la creación de perfiles. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43760">bpo-43760</a>.)</p></li>
<li><p>Se agregó la constante <a class="reference internal" href="../c-api/apiabiversion.html#c.Py_Version" title="Py_Version"><code class="xref c c-data docutils literal notranslate"><span class="pre">Py_Version</span></code></a> que tiene el mismo valor que <a class="reference internal" href="../c-api/apiabiversion.html#c.PY_VERSION_HEX" title="PY_VERSION_HEX"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PY_VERSION_HEX</span></code></a>. (Aportado por Gabriele N. Tornetta en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43931">bpo-43931</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.Py_buffer" title="Py_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">Py_buffer</span></code></a> y las API ahora forman parte de la API limitada y la ABI estable:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyObject_CheckBuffer" title="PyObject_CheckBuffer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_CheckBuffer()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyObject_GetBuffer" title="PyObject_GetBuffer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_GetBuffer()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_GetPointer" title="PyBuffer_GetPointer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_GetPointer()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_SizeFromFormat" title="PyBuffer_SizeFromFormat"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_SizeFromFormat()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_ToContiguous" title="PyBuffer_ToContiguous"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_ToContiguous()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_FromContiguous" title="PyBuffer_FromContiguous"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_FromContiguous()</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_CopyData()</span></code></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_IsContiguous" title="PyBuffer_IsContiguous"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_IsContiguous()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_FillContiguousStrides" title="PyBuffer_FillContiguousStrides"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_FillContiguousStrides()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_FillInfo" title="PyBuffer_FillInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_FillInfo()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/buffer.html#c.PyBuffer_Release" title="PyBuffer_Release"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBuffer_Release()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/memoryview.html#c.PyMemoryView_FromBuffer" title="PyMemoryView_FromBuffer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMemoryView_FromBuffer()</span></code></a></p></li>
<li><p>Ranuras de tipo <a class="reference internal" href="../c-api/typeobj.html#c.PyBufferProcs.bf_getbuffer" title="PyBufferProcs.bf_getbuffer"><code class="xref c c-member docutils literal notranslate"><span class="pre">bf_getbuffer</span></code></a> y <a class="reference internal" href="../c-api/typeobj.html#c.PyBufferProcs.bf_releasebuffer" title="PyBufferProcs.bf_releasebuffer"><code class="xref c c-member docutils literal notranslate"><span class="pre">bf_releasebuffer</span></code></a></p></li>
</ul>
<p>(Aportado por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45459">bpo-45459</a>.)</p>
</li>
<li><p>Se agregó la función <a class="reference internal" href="../c-api/type.html#c.PyType_GetModuleByDef" title="PyType_GetModuleByDef"><code class="xref c c-data docutils literal notranslate"><span class="pre">PyType_GetModuleByDef</span></code></a>, utilizada para obtener el módulo en el que se definió un método, en los casos en que esta información no esté disponible directamente (a través de <a class="reference internal" href="../c-api/structures.html#c.PyCMethod" title="PyCMethod"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyCMethod</span></code></a>). (Aportado por Petr Viktorin en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46613">bpo-46613</a>.)</p></li>
<li><p>Agrega nuevas funciones para empaquetar y desempaquetar C doble (serializar y deserializar): <a class="reference internal" href="../c-api/float.html#c.PyFloat_Pack2" title="PyFloat_Pack2"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Pack2()</span></code></a>, <a class="reference internal" href="../c-api/float.html#c.PyFloat_Pack4" title="PyFloat_Pack4"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Pack4()</span></code></a>, <a class="reference internal" href="../c-api/float.html#c.PyFloat_Pack8" title="PyFloat_Pack8"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Pack8()</span></code></a>, <a class="reference internal" href="../c-api/float.html#c.PyFloat_Unpack2" title="PyFloat_Unpack2"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Unpack2()</span></code></a>, <a class="reference internal" href="../c-api/float.html#c.PyFloat_Unpack4" title="PyFloat_Unpack4"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Unpack4()</span></code></a> y <a class="reference internal" href="../c-api/float.html#c.PyFloat_Unpack8" title="PyFloat_Unpack8"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_Unpack8()</span></code></a>. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46906">bpo-46906</a>.)</p></li>
<li><p>Agregue nuevas funciones para obtener atributos de objetos de marco: <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBuiltins" title="PyFrame_GetBuiltins"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBuiltins()</span></code></a>, <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGenerator" title="PyFrame_GetGenerator"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGenerator()</span></code></a>, <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGlobals" title="PyFrame_GetGlobals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGlobals()</span></code></a>, <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLasti" title="PyFrame_GetLasti"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLasti()</span></code></a>.</p></li>
<li><p>Se agregaron dos funciones nuevas para obtener y configurar la instancia de excepción activa: <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_GetHandledException" title="PyErr_GetHandledException"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_GetHandledException()</span></code></a> y <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_SetHandledException" title="PyErr_SetHandledException"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_SetHandledException()</span></code></a>. Estas son alternativas a <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_SetExcInfo" title="PyErr_SetExcInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_SetExcInfo()</span></code></a> y <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_GetExcInfo" title="PyErr_GetExcInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_GetExcInfo()</span></code></a> que funcionan con la representación de excepciones heredada de 3 tuplas. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46343">bpo-46343</a>.)</p></li>
<li><p>Se agregó el miembro <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.safe_path" title="PyConfig.safe_path"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.safe_path</span></code></a>. (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/57684">gh-57684</a>.)</p></li>
</ul>
</section>
<section id="whatsnew311-c-api-porting">
<span id="id6"></span><h3>Migración a Python 3.11<a class="headerlink" href="#whatsnew311-c-api-porting" title="Enlazar permanentemente con este título">¶</a></h3>
<ul id="whatsnew311-pep670">
<li><p>Algunas macros se han convertido en funciones estáticas en línea para evitar <a class="reference external" href="https://gcc.gnu.org/onlinedocs/cpp/Macro-Pitfalls.html">macro pitfalls</a>. El cambio debería ser en su mayoría transparente para los usuarios, ya que las funciones de reemplazo emitirán sus argumentos a los tipos esperados para evitar advertencias del compilador debido a comprobaciones de tipos estáticos. Sin embargo, cuando la API de C limitada se establece en &gt;=3.11, estas conversiones no se realizan y las personas que llaman deberán convertir argumentos a sus tipos esperados. Ver <span class="target" id="index-112"></span><a class="pep reference external" href="https://peps.python.org/pep-0670/"><strong>PEP 670</strong></a> para más detalles. (Aportado por Victor Stinner y Erlend E. Aasland en <a class="reference external" href="https://github.com/python/cpython/issues/89653">gh-89653</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/exceptions.html#c.PyErr_SetExcInfo" title="PyErr_SetExcInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_SetExcInfo()</span></code></a> ya no usa los argumentos <code class="docutils literal notranslate"><span class="pre">type</span></code> y <code class="docutils literal notranslate"><span class="pre">traceback</span></code>, el intérprete ahora deriva esos valores de la instancia de excepción (el argumento <code class="docutils literal notranslate"><span class="pre">value</span></code>). La función aún roba referencias de los tres argumentos. (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/exceptions.html#c.PyErr_GetExcInfo" title="PyErr_GetExcInfo"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_GetExcInfo()</span></code></a> ahora deriva los campos <code class="docutils literal notranslate"><span class="pre">type</span></code> y <code class="docutils literal notranslate"><span class="pre">traceback</span></code> del resultado de la instancia de excepción (el campo <code class="docutils literal notranslate"><span class="pre">value</span></code>). (Aportado por Irit Katriel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45711">bpo-45711</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/import.html#c._frozen" title="_frozen"><code class="xref c c-struct docutils literal notranslate"><span class="pre">_frozen</span></code></a> tiene un nuevo campo <code class="docutils literal notranslate"><span class="pre">is_package</span></code> para indicar si el módulo congelado es o no un paquete. Anteriormente, un valor negativo en el campo <code class="docutils literal notranslate"><span class="pre">size</span></code> era el indicador. Ahora solo se pueden usar valores no negativos para <code class="docutils literal notranslate"><span class="pre">size</span></code>. (Aportado por Kumar Aditya en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46608">bpo-46608</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c._PyFrameEvalFunction" title="_PyFrameEvalFunction"><code class="xref c c-func docutils literal notranslate"><span class="pre">_PyFrameEvalFunction()</span></code></a> ahora toma <code class="docutils literal notranslate"><span class="pre">_PyInterpreterFrame*</span></code> como su segundo parámetro, en lugar de <code class="docutils literal notranslate"><span class="pre">PyFrameObject*</span></code>. Consulte <span class="target" id="index-113"></span><a class="pep reference external" href="https://peps.python.org/pep-0523/"><strong>PEP 523</strong></a> para obtener más detalles sobre cómo usar este tipo de puntero de función.</p></li>
<li><p><a class="reference internal" href="../c-api/code.html#c.PyCode_New" title="PyCode_New"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_New()</span></code></a> y <a class="reference internal" href="../c-api/code.html#c.PyCode_NewWithPosOnlyArgs" title="PyCode_NewWithPosOnlyArgs"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_NewWithPosOnlyArgs()</span></code></a> ahora toman un argumento <code class="docutils literal notranslate"><span class="pre">exception_table</span></code> adicional. Debe evitarse el uso de estas funciones, en la medida de lo posible. Para obtener un objeto de código personalizado: cree un objeto de código usando el compilador, luego obtenga una versión modificada con el método <code class="docutils literal notranslate"><span class="pre">replace</span></code>.</p></li>
<li><p><a class="reference internal" href="../c-api/code.html#c.PyCodeObject" title="PyCodeObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyCodeObject</span></code></a> ya no tiene los campos <code class="docutils literal notranslate"><span class="pre">co_code</span></code>, <code class="docutils literal notranslate"><span class="pre">co_varnames</span></code>, <code class="docutils literal notranslate"><span class="pre">co_cellvars</span></code> y <code class="docutils literal notranslate"><span class="pre">co_freevars</span></code>. En su lugar, utilice <a class="reference internal" href="../c-api/code.html#c.PyCode_GetCode" title="PyCode_GetCode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_GetCode()</span></code></a>, <a class="reference internal" href="../c-api/code.html#c.PyCode_GetVarnames" title="PyCode_GetVarnames"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_GetVarnames()</span></code></a>, <a class="reference internal" href="../c-api/code.html#c.PyCode_GetCellvars" title="PyCode_GetCellvars"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_GetCellvars()</span></code></a> y <a class="reference internal" href="../c-api/code.html#c.PyCode_GetFreevars" title="PyCode_GetFreevars"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_GetFreevars()</span></code></a> respectivamente para acceder a ellos a través de la API de C. (Aportado por Brandt Bucher en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46841">bpo-46841</a> y Ken Jin en <a class="reference external" href="https://github.com/python/cpython/issues/92154">gh-92154</a> y <a class="reference external" href="https://github.com/python/cpython/issues/94936">gh-94936</a>).</p></li>
<li><p>Las antiguas macros de papelera (<code class="docutils literal notranslate"><span class="pre">Py_TRASHCAN_SAFE_BEGIN</span></code>/<code class="docutils literal notranslate"><span class="pre">Py_TRASHCAN_SAFE_END</span></code>) ahora están obsoletas. Deberían ser reemplazadas por las nuevas macros <code class="docutils literal notranslate"><span class="pre">Py_TRASHCAN_BEGIN</span></code> y <code class="docutils literal notranslate"><span class="pre">Py_TRASHCAN_END</span></code>.</p>
<p>Una función tp_dealloc que tiene las macros antiguas, como:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span>
<span class="n">mytype_dealloc</span><span class="p">(</span><span class="n">mytype</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">PyObject_GC_UnTrack</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="n">Py_TRASHCAN_SAFE_BEGIN</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="o">...</span>
    <span class="n">Py_TRASHCAN_SAFE_END</span>
<span class="p">}</span>
</pre></div>
</div>
<p>debe migrar a las nuevas macros de la siguiente manera:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span>
<span class="n">mytype_dealloc</span><span class="p">(</span><span class="n">mytype</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">PyObject_GC_UnTrack</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="n">Py_TRASHCAN_BEGIN</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">mytype_dealloc</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="n">Py_TRASHCAN_END</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Tenga en cuenta que <code class="docutils literal notranslate"><span class="pre">Py_TRASHCAN_BEGIN</span></code> tiene un segundo argumento que debería ser la función de desasignación en la que se encuentra.</p>
<p>Para admitir versiones anteriores de Python en la misma base de código, puede definir las siguientes macros y usarlas en todo el código (crédito: se copiaron de la base de código <code class="docutils literal notranslate"><span class="pre">mypy</span></code>):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &gt;= 0x03080000</span>
<span class="c1">#  define CPy_TRASHCAN_BEGIN(op, dealloc) Py_TRASHCAN_BEGIN(op, dealloc)</span>
<span class="c1">#  define CPy_TRASHCAN_END(op) Py_TRASHCAN_END</span>
<span class="c1">#else</span>
<span class="c1">#  define CPy_TRASHCAN_BEGIN(op, dealloc) Py_TRASHCAN_SAFE_BEGIN(op)</span>
<span class="c1">#  define CPy_TRASHCAN_END(op) Py_TRASHCAN_SAFE_END(op)</span>
<span class="c1">#endif</span>
</pre></div>
</div>
</li>
<li><p>La función <a class="reference internal" href="../c-api/type.html#c.PyType_Ready" title="PyType_Ready"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_Ready()</span></code></a> ahora genera un error si un tipo se define con el indicador <a class="reference internal" href="../c-api/typeobj.html#Py_TPFLAGS_HAVE_GC" title="Py_TPFLAGS_HAVE_GC"><code class="xref py py-const docutils literal notranslate"><span class="pre">Py_TPFLAGS_HAVE_GC</span></code></a> establecido pero no tiene función transversal (<a class="reference internal" href="../c-api/typeobj.html#c.PyTypeObject.tp_traverse" title="PyTypeObject.tp_traverse"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyTypeObject.tp_traverse</span></code></a>). (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44263">bpo-44263</a>.)</p></li>
<li><p>Los tipos de almacenamiento dinámico con el indicador <a class="reference internal" href="../c-api/typeobj.html#Py_TPFLAGS_IMMUTABLETYPE" title="Py_TPFLAGS_IMMUTABLETYPE"><code class="xref py py-const docutils literal notranslate"><span class="pre">Py_TPFLAGS_IMMUTABLETYPE</span></code></a> ahora pueden heredar el protocolo vectorcall <span class="target" id="index-114"></span><a class="pep reference external" href="https://peps.python.org/pep-0590/"><strong>PEP 590</strong></a>. Anteriormente, esto solo era posible para <a class="reference internal" href="../c-api/typeobj.html#static-types"><span class="std std-ref">static types</span></a>. (Aportado por Erlend E. Aasland en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43908">bpo-43908</a>)</p></li>
<li><p>Dado que <a class="reference internal" href="../c-api/structures.html#c.Py_TYPE" title="Py_TYPE"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_TYPE()</span></code></a> se cambia a una función estática en línea, <code class="docutils literal notranslate"><span class="pre">Py_TYPE(obj)</span> <span class="pre">=</span> <span class="pre">new_type</span></code> debe reemplazarse por <code class="docutils literal notranslate"><span class="pre">Py_SET_TYPE(obj,</span> <span class="pre">new_type)</span></code>: consulte la función <a class="reference internal" href="../c-api/structures.html#c.Py_SET_TYPE" title="Py_SET_TYPE"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SET_TYPE()</span></code></a> (disponible desde Python 3.9). Para compatibilidad con versiones anteriores, se puede usar esta macro:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900A4 &amp;&amp; !defined(Py_SET_TYPE)</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">void</span> <span class="n">_Py_SET_TYPE</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">ob</span><span class="p">,</span> <span class="n">PyTypeObject</span> <span class="o">*</span><span class="nb">type</span><span class="p">)</span>
<span class="p">{</span> <span class="n">ob</span><span class="o">-&gt;</span><span class="n">ob_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">;</span> <span class="p">}</span>
<span class="c1">#define Py_SET_TYPE(ob, type) _Py_SET_TYPE((PyObject*)(ob), type)</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39573">bpo-39573</a>.)</p>
</li>
<li><p>Dado que <a class="reference internal" href="../c-api/structures.html#c.Py_SIZE" title="Py_SIZE"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SIZE()</span></code></a> se cambia a una función estática en línea, <code class="docutils literal notranslate"><span class="pre">Py_SIZE(obj)</span> <span class="pre">=</span> <span class="pre">new_size</span></code> debe reemplazarse por <code class="docutils literal notranslate"><span class="pre">Py_SET_SIZE(obj,</span> <span class="pre">new_size)</span></code>: consulte la función <a class="reference internal" href="../c-api/structures.html#c.Py_SET_SIZE" title="Py_SET_SIZE"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SET_SIZE()</span></code></a> (disponible desde Python 3.9). Para compatibilidad con versiones anteriores, se puede usar esta macro:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900A4 &amp;&amp; !defined(Py_SET_SIZE)</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">void</span> <span class="n">_Py_SET_SIZE</span><span class="p">(</span><span class="n">PyVarObject</span> <span class="o">*</span><span class="n">ob</span><span class="p">,</span> <span class="n">Py_ssize_t</span> <span class="n">size</span><span class="p">)</span>
<span class="p">{</span> <span class="n">ob</span><span class="o">-&gt;</span><span class="n">ob_size</span> <span class="o">=</span> <span class="n">size</span><span class="p">;</span> <span class="p">}</span>
<span class="c1">#define Py_SET_SIZE(ob, size) _Py_SET_SIZE((PyVarObject*)(ob), size)</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39573">bpo-39573</a>.)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;Python.h&gt;</span></code> ya no incluye los archivos de encabezado <code class="docutils literal notranslate"><span class="pre">&lt;stdlib.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;stdio.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;errno.h&gt;</span></code> y <code class="docutils literal notranslate"><span class="pre">&lt;string.h&gt;</span></code> cuando la macro <code class="docutils literal notranslate"><span class="pre">Py_LIMITED_API</span></code> se establece en <code class="docutils literal notranslate"><span class="pre">0x030b0000</span></code> (Python 3.11) o superior. Las extensiones de C deben incluir explícitamente los archivos de encabezado después de <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;Python.h&gt;</span></code>. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45434">bpo-45434</a>.)</p></li>
<li><p>Los archivos de API no limitados <code class="docutils literal notranslate"><span class="pre">cellobject.h</span></code>, <code class="docutils literal notranslate"><span class="pre">classobject.h</span></code>, <code class="docutils literal notranslate"><span class="pre">code.h</span></code>, <code class="docutils literal notranslate"><span class="pre">context.h</span></code>, <code class="docutils literal notranslate"><span class="pre">funcobject.h</span></code>, <code class="docutils literal notranslate"><span class="pre">genobject.h</span></code> y <code class="docutils literal notranslate"><span class="pre">longintrepr.h</span></code> se han movido al directorio <code class="docutils literal notranslate"><span class="pre">Include/cpython</span></code>. Además, se eliminó el archivo de encabezado <code class="docutils literal notranslate"><span class="pre">eval.h</span></code>. Estos archivos no deben incluirse directamente, ya que ya están incluidos en <code class="docutils literal notranslate"><span class="pre">Python.h</span></code>: <a class="reference internal" href="../c-api/intro.html#api-includes"><span class="std std-ref">Include Files</span></a>. Si se han incluido directamente, considere incluir <code class="docutils literal notranslate"><span class="pre">Python.h</span></code> en su lugar. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35134">bpo-35134</a>.)</p></li>
<li><p>La macro <code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_CHECK_INTERNED()</span></code> se ha excluido de la API de C limitada. Nunca se pudo usar allí, porque usaba estructuras internas que no están disponibles en la API de C limitada. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46007">bpo-46007</a>.)</p></li>
<li><p>Las siguientes funciones y tipos de cuadros ahora están disponibles directamente con <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;Python.h&gt;</span></code>, ya no es necesario agregar <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;frameobject.h&gt;</span></code>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_Check" title="PyFrame_Check"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_Check()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBack" title="PyFrame_GetBack"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBack()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBuiltins" title="PyFrame_GetBuiltins"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBuiltins()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGenerator" title="PyFrame_GetGenerator"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGenerator()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGlobals" title="PyFrame_GetGlobals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGlobals()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLasti" title="PyFrame_GetLasti"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLasti()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLocals" title="PyFrame_GetLocals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLocals()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/frame.html#c.PyFrame_Type" title="PyFrame_Type"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyFrame_Type</span></code></a></p></li>
</ul>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/93937">gh-93937</a>.)</p>
</li>
</ul>
<ul id="pyframeobject-3-11-hiding">
<li><p>Los miembros de la estructura <a class="reference internal" href="../c-api/frame.html#c.PyFrameObject" title="PyFrameObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyFrameObject</span></code></a> se han eliminado de la API de C pública.</p>
<p>Si bien la documentación señala que los campos <a class="reference internal" href="../c-api/frame.html#c.PyFrameObject" title="PyFrameObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyFrameObject</span></code></a> están sujetos a cambios en cualquier momento, se han mantenido estables durante mucho tiempo y se usaron en varias extensiones populares.</p>
<p>En Python 3.11, la estructura del marco se reorganizó para permitir optimizaciones de rendimiento. Algunos campos se eliminaron por completo, ya que eran detalles de la implementación anterior.</p>
<p>Campos <a class="reference internal" href="../c-api/frame.html#c.PyFrameObject" title="PyFrameObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyFrameObject</span></code></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f_back</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBack" title="PyFrame_GetBack"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBack()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_blockstack</span></code>: eliminado.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_builtins</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBuiltins" title="PyFrame_GetBuiltins"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBuiltins()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_code</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetCode" title="PyFrame_GetCode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetCode()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_gen</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGenerator" title="PyFrame_GetGenerator"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGenerator()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_globals</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetGlobals" title="PyFrame_GetGlobals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetGlobals()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_iblock</span></code>: eliminado.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_lasti</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLasti" title="PyFrame_GetLasti"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLasti()</span></code></a>. El código que usa <code class="docutils literal notranslate"><span class="pre">f_lasti</span></code> con <code class="docutils literal notranslate"><span class="pre">PyCode_Addr2Line()</span></code> debería usar <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLineNumber" title="PyFrame_GetLineNumber"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLineNumber()</span></code></a> en su lugar; puede ser más rápido.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_lineno</span></code>: usar <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLineNumber" title="PyFrame_GetLineNumber"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLineNumber()</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_locals</span></code>: usa <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLocals" title="PyFrame_GetLocals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLocals()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_stackdepth</span></code>: eliminado.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_state</span></code>: sin API pública (renombrado como <code class="docutils literal notranslate"><span class="pre">f_frame.f_state</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_trace</span></code>: sin API pública.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_trace_lines</span></code>: utiliza <code class="docutils literal notranslate"><span class="pre">PyObject_GetAttrString((PyObject*)frame,</span> <span class="pre">&quot;f_trace_lines&quot;)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_trace_opcodes</span></code>: utiliza <code class="docutils literal notranslate"><span class="pre">PyObject_GetAttrString((PyObject*)frame,</span> <span class="pre">&quot;f_trace_opcodes&quot;)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_localsplus</span></code>: sin API pública (renombrado como <code class="docutils literal notranslate"><span class="pre">f_frame.localsplus</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_valuestack</span></code>: eliminado.</p></li>
</ul>
<p>El objeto marco de Python ahora se crea de forma perezosa. Un efecto secundario es que no se debe acceder directamente al miembro <code class="docutils literal notranslate"><span class="pre">f_back</span></code>, ya que su valor ahora también se calcula de forma diferida. En su lugar, se debe llamar a la función <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetBack" title="PyFrame_GetBack"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetBack()</span></code></a>.</p>
<p>Los depuradores que accedieron a <code class="docutils literal notranslate"><span class="pre">f_locals</span></code> directamente <em>must</em> llaman a <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLocals" title="PyFrame_GetLocals"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLocals()</span></code></a> en su lugar. Ya no necesitan llamar a <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_FastToLocalsWithError()</span></code> o <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_LocalsToFast()</span></code>, de hecho, no deberían llamar a esas funciones. La actualización necesaria del marco ahora es administrada por la máquina virtual.</p>
<p>Código que define <code class="docutils literal notranslate"><span class="pre">PyFrame_GetCode()</span></code> en Python 3.8 y anteriores:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900B1</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">PyCodeObject</span><span class="o">*</span> <span class="n">PyFrame_GetCode</span><span class="p">(</span><span class="n">PyFrameObject</span> <span class="o">*</span><span class="n">frame</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Py_INCREF</span><span class="p">(</span><span class="n">frame</span><span class="o">-&gt;</span><span class="n">f_code</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">frame</span><span class="o">-&gt;</span><span class="n">f_code</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>Código que define <code class="docutils literal notranslate"><span class="pre">PyFrame_GetBack()</span></code> en Python 3.8 y anteriores:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900B1</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">PyFrameObject</span><span class="o">*</span> <span class="n">PyFrame_GetBack</span><span class="p">(</span><span class="n">PyFrameObject</span> <span class="o">*</span><span class="n">frame</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Py_XINCREF</span><span class="p">(</span><span class="n">frame</span><span class="o">-&gt;</span><span class="n">f_back</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">frame</span><span class="o">-&gt;</span><span class="n">f_back</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>O use <a class="reference external" href="https://github.com/python/pythoncapi_compat">pythoncapi_compat project</a> para obtener estas dos funciones en versiones anteriores de Python.</p>
</li>
<li><p>Cambios de los miembros de la estructura <a class="reference internal" href="../c-api/init.html#c.PyThreadState" title="PyThreadState"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyThreadState</span></code></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">frame</span></code>: eliminado, use <a class="reference internal" href="../c-api/init.html#c.PyThreadState_GetFrame" title="PyThreadState_GetFrame"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThreadState_GetFrame()</span></code></a> (función agregada a Python 3.9 por <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40429">bpo-40429</a>). Advertencia: la función devuelve un <a class="reference internal" href="../glossary.html#term-strong-reference"><span class="xref std std-term">strong reference</span></a>, necesita llamar a <a class="reference internal" href="../c-api/refcounting.html#c.Py_XDECREF" title="Py_XDECREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_XDECREF()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tracing</span></code>: cambiado, use <a class="reference internal" href="../c-api/init.html#c.PyThreadState_EnterTracing" title="PyThreadState_EnterTracing"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThreadState_EnterTracing()</span></code></a> y <a class="reference internal" href="../c-api/init.html#c.PyThreadState_LeaveTracing" title="PyThreadState_LeaveTracing"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThreadState_LeaveTracing()</span></code></a> (funciones agregadas a Python 3.11 por <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43760">bpo-43760</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recursion_depth</span></code>: eliminado, use <code class="docutils literal notranslate"><span class="pre">(tstate-&gt;recursion_limit</span> <span class="pre">-</span> <span class="pre">tstate-&gt;recursion_remaining)</span></code> en su lugar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stackcheck_counter</span></code>: eliminado.</p></li>
</ul>
<p>Código que define <code class="docutils literal notranslate"><span class="pre">PyThreadState_GetFrame()</span></code> en Python 3.8 y anteriores:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900B1</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">PyFrameObject</span><span class="o">*</span> <span class="n">PyThreadState_GetFrame</span><span class="p">(</span><span class="n">PyThreadState</span> <span class="o">*</span><span class="n">tstate</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Py_XINCREF</span><span class="p">(</span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">frame</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">frame</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>Código que define <code class="docutils literal notranslate"><span class="pre">PyThreadState_EnterTracing()</span></code> y <code class="docutils literal notranslate"><span class="pre">PyThreadState_LeaveTracing()</span></code> en Python 3.10 y versiones anteriores:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030B00A2</span>
<span class="n">static</span> <span class="n">inline</span> <span class="n">void</span> <span class="n">PyThreadState_EnterTracing</span><span class="p">(</span><span class="n">PyThreadState</span> <span class="o">*</span><span class="n">tstate</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">tracing</span><span class="o">++</span><span class="p">;</span>
<span class="c1">#if PY_VERSION_HEX &gt;= 0x030A00A1</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">cframe</span><span class="o">-&gt;</span><span class="n">use_tracing</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="c1">#else</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">use_tracing</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="c1">#endif</span>
<span class="p">}</span>

<span class="n">static</span> <span class="n">inline</span> <span class="n">void</span> <span class="n">PyThreadState_LeaveTracing</span><span class="p">(</span><span class="n">PyThreadState</span> <span class="o">*</span><span class="n">tstate</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">int</span> <span class="n">use_tracing</span> <span class="o">=</span> <span class="p">(</span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">c_tracefunc</span> <span class="o">!=</span> <span class="n">NULL</span> <span class="o">||</span> <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">c_profilefunc</span> <span class="o">!=</span> <span class="n">NULL</span><span class="p">);</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">tracing</span><span class="o">--</span><span class="p">;</span>
<span class="c1">#if PY_VERSION_HEX &gt;= 0x030A00A1</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">cframe</span><span class="o">-&gt;</span><span class="n">use_tracing</span> <span class="o">=</span> <span class="n">use_tracing</span><span class="p">;</span>
<span class="c1">#else</span>
    <span class="n">tstate</span><span class="o">-&gt;</span><span class="n">use_tracing</span> <span class="o">=</span> <span class="n">use_tracing</span><span class="p">;</span>
<span class="c1">#endif</span>
<span class="p">}</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>O use <a class="reference external" href="https://github.com/python/pythoncapi_compat">the pythoncapi_compat project</a> para obtener estas funciones en funciones antiguas de Python.</p>
</li>
<li><p>Se alienta a los distribuidores a compilar Python con la biblioteca Blake2 optimizada <a class="reference external" href="https://www.blake2.net/">libb2</a>.</p></li>
<li><p>El campo <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths_set</span></code></a> ahora debe establecerse en 1 para que la inicialización use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths</span></code></a> para inicializar <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>. De lo contrario, la inicialización volverá a calcular la ruta y reemplazará los valores agregados a <code class="docutils literal notranslate"><span class="pre">module_search_paths</span></code>.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code> ya no calcula la ruta de búsqueda inicial y no completará ningún valor en <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths</span></code></a>. Para calcular rutas predeterminadas y luego modificarlas, finalice la inicialización y use <a class="reference internal" href="../c-api/sys.html#c.PySys_GetObject" title="PySys_GetObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetObject()</span></code></a> para recuperar <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> como un objeto de lista de Python y modificarlo directamente.</p></li>
</ul>
</section>
<section id="whatsnew311-c-api-deprecated">
<span id="id7"></span><h3>Obsoleto<a class="headerlink" href="#whatsnew311-c-api-deprecated" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>Deseche las siguientes funciones para configurar la inicialización de Python:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/sys.html#c.PySys_AddWarnOptionUnicode" title="PySys_AddWarnOptionUnicode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_AddWarnOptionUnicode()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/sys.html#c.PySys_AddWarnOption" title="PySys_AddWarnOption"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_AddWarnOption()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/sys.html#c.PySys_AddXOption" title="PySys_AddXOption"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_AddXOption()</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_HasWarnOptions()</span></code></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.PySys_SetArgvEx" title="PySys_SetArgvEx"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_SetArgvEx()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.PySys_SetArgv" title="PySys_SetArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_SetArgv()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/sys.html#c.PySys_SetPath" title="PySys_SetPath"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_SetPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.Py_SetPath" title="Py_SetPath"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetPath()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.Py_SetProgramName" title="Py_SetProgramName"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetProgramName()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.Py_SetPythonHome" title="Py_SetPythonHome"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetPythonHome()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.Py_SetStandardStreamEncoding" title="Py_SetStandardStreamEncoding"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetStandardStreamEncoding()</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_SetProgramFullPath()</span></code></p></li>
</ul>
<p>Utilice la nueva API <a class="reference internal" href="../c-api/init_config.html#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a> de <a class="reference internal" href="../c-api/init_config.html#init-config"><span class="std std-ref">Python Initialization Configuration</span></a> en su lugar (<span class="target" id="index-115"></span><a class="pep reference external" href="https://peps.python.org/pep-0587/"><strong>PEP 587</strong></a>). (Aportado por Victor Stinner en <a class="reference external" href="https://github.com/python/cpython/issues/88279">gh-88279</a>.)</p>
</li>
<li><p>Deje obsoleto el miembro <code class="docutils literal notranslate"><span class="pre">ob_shash</span></code> de <a class="reference internal" href="../c-api/bytes.html#c.PyBytesObject" title="PyBytesObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyBytesObject</span></code></a>. Utilice <a class="reference internal" href="../c-api/object.html#c.PyObject_Hash" title="PyObject_Hash"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Hash()</span></code></a> en su lugar. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=46864">bpo-46864</a>.)</p></li>
</ul>
</section>
<section id="whatsnew311-c-api-pending-removal">
<span id="id8"></span><h3>Eliminación pendiente en Python 3.12<a class="headerlink" href="#whatsnew311-c-api-pending-removal" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las siguientes API de C quedaron obsoletas en versiones anteriores de Python y se eliminarán en Python 3.12.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AS_DATA" title="PyUnicode_AS_DATA"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AS_DATA()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AS_UNICODE" title="PyUnicode_AS_UNICODE"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AS_UNICODE()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AsUnicodeAndSize" title="PyUnicode_AsUnicodeAndSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUnicodeAndSize()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AsUnicode" title="PyUnicode_AsUnicode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUnicode()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_FromUnicode" title="PyUnicode_FromUnicode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_FromUnicode()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_GET_DATA_SIZE" title="PyUnicode_GET_DATA_SIZE"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GET_DATA_SIZE()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_GET_SIZE" title="PyUnicode_GET_SIZE"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GET_SIZE()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_GetSize" title="PyUnicode_GetSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GetSize()</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_IS_COMPACT()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_IS_READY()</span></code></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_READY" title="PyUnicode_READY"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_READY()</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_UNICODE_WSTR_LENGTH()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">_PyUnicode_AsUnicode()</span></code></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_WCHAR_KIND" title="PyUnicode_WCHAR_KIND"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyUnicode_WCHAR_KIND</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicodeObject" title="PyUnicodeObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyUnicodeObject</span></code></a></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_InternImmortal()</span></code></p></li>
</ul>
</section>
<section id="whatsnew311-c-api-removed">
<span id="id9"></span><h3>Remoto<a class="headerlink" href="#whatsnew311-c-api-removed" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>Se han eliminado <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_BlockSetup()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_BlockPop()</span></code>. (Aportado por Mark Shannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40222">bpo-40222</a>.)</p></li>
<li><p>Quite las siguientes macros matemáticas usando la variable <code class="docutils literal notranslate"><span class="pre">errno</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Py_ADJUST_ERANGE1()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Py_ADJUST_ERANGE2()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Py_OVERFLOWED()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Py_SET_ERANGE_IF_OVERFLOW()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Py_SET_ERRNO_ON_MATH_ERROR()</span></code></p></li>
</ul>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45412">bpo-45412</a>.)</p>
</li>
<li><p>Elimine las macros <code class="docutils literal notranslate"><span class="pre">Py_UNICODE_COPY()</span></code> y <code class="docutils literal notranslate"><span class="pre">Py_UNICODE_FILL()</span></code>, obsoletas desde Python 3.3. Utilice <code class="docutils literal notranslate"><span class="pre">PyUnicode_CopyCharacters()</span></code> o <code class="docutils literal notranslate"><span class="pre">memcpy()</span></code> (cadena <code class="docutils literal notranslate"><span class="pre">wchar_t*</span></code>) y las funciones <code class="docutils literal notranslate"><span class="pre">PyUnicode_Fill()</span></code> en su lugar. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41123">bpo-41123</a>.)</p></li>
<li><p>Elimine el archivo de encabezado <code class="docutils literal notranslate"><span class="pre">pystrhex.h</span></code>. Solo contiene funciones privadas. Las extensiones C solo deben incluir el archivo de encabezado principal <code class="docutils literal notranslate"><span class="pre">&lt;Python.h&gt;</span></code>. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45434">bpo-45434</a>.)</p></li>
<li><p>Quite la macro <code class="docutils literal notranslate"><span class="pre">Py_FORCE_DOUBLE()</span></code>. Fue utilizado por la macro <code class="docutils literal notranslate"><span class="pre">Py_IS_INFINITY()</span></code>. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45440">bpo-45440</a>.)</p></li>
<li><p>Los siguientes elementos ya no están disponibles cuando se define <a class="reference internal" href="../c-api/stable.html#c.Py_LIMITED_API" title="Py_LIMITED_API"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_LIMITED_API</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/marshal.html#c.PyMarshal_WriteLongToFile" title="PyMarshal_WriteLongToFile"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMarshal_WriteLongToFile()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/marshal.html#c.PyMarshal_WriteObjectToFile" title="PyMarshal_WriteObjectToFile"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMarshal_WriteObjectToFile()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/marshal.html#c.PyMarshal_ReadObjectFromString" title="PyMarshal_ReadObjectFromString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMarshal_ReadObjectFromString()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/marshal.html#c.PyMarshal_WriteObjectToString" title="PyMarshal_WriteObjectToString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMarshal_WriteObjectToString()</span></code></a></p></li>
<li><p>la macro <code class="docutils literal notranslate"><span class="pre">Py_MARSHAL_VERSION</span></code></p></li>
</ul>
<p>Estos no son parte del <a class="reference internal" href="../c-api/stable.html#stable-abi-list"><span class="std std-ref">limited API</span></a>.</p>
<p>(Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45474">bpo-45474</a>.)</p>
</li>
<li><p>Excluya <a class="reference internal" href="../c-api/weakref.html#c.PyWeakref_GET_OBJECT" title="PyWeakref_GET_OBJECT"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyWeakref_GET_OBJECT()</span></code></a> de la API de C limitada. Nunca funcionó ya que la estructura <code class="xref c c-type docutils literal notranslate"><span class="pre">PyWeakReference</span></code> es opaca en la API de C limitada. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35134">bpo-35134</a>.)</p></li>
<li><p>Quite la macro <code class="docutils literal notranslate"><span class="pre">PyHeapType_GET_MEMBERS()</span></code>. Fue expuesto en la API pública de C por error, solo debe ser utilizado por Python internamente. Utilice el miembro <code class="docutils literal notranslate"><span class="pre">PyTypeObject.tp_members</span></code> en su lugar. (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40170">bpo-40170</a>.)</p></li>
<li><p>Elimine la macro <code class="docutils literal notranslate"><span class="pre">HAVE_PY_SET_53BIT_PRECISION</span></code> (movida a la API de C interna). (Aportado por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45412">bpo-45412</a>.)</p></li>
</ul>
<ul id="whatsnew311-pep624">
<li><p>Elimine las API del codificador <a class="reference internal" href="../c-api/unicode.html#c.Py_UNICODE" title="Py_UNICODE"><code class="xref c c-type docutils literal notranslate"><span class="pre">Py_UNICODE</span></code></a>, ya que han quedado obsoletas desde Python 3.3, se usan poco y son ineficientes en relación con las alternativas recomendadas.</p>
<p>Las funciones eliminadas son:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_Encode()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeASCII()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeLatin1()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeUTF7()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeUTF8()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeUTF16()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeUTF32()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeUnicodeEscape()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeRawUnicodeEscape()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeCharmap()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_TranslateCharmap()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_EncodeDecimal()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">PyUnicode_TransformDecimalToASCII()</span></code></p></li>
</ul>
<p>Ver <span class="target" id="index-116"></span><a class="pep reference external" href="https://peps.python.org/pep-0624/"><strong>PEP 624</strong></a> para más detalles y <span class="target" id="index-117"></span><a class="pep reference external" href="https://peps.python.org/pep-0624/#alternative-apis"><strong>migration guidance</strong></a>. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44029">bpo-44029</a>.)</p>
</li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 3.11</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Aspectos destacados de la versión</a></li>
<li><a class="reference internal" href="#new-features">Nuevas características</a><ul>
<li><a class="reference internal" href="#pep-657-fine-grained-error-locations-in-tracebacks">PEP 657: Ubicaciones de errores detallados en rastreos</a></li>
<li><a class="reference internal" href="#pep-654-exception-groups-and-except">PEP 654: Grupos de excepción y <code class="docutils literal notranslate"><span class="pre">except*</span></code></a></li>
<li><a class="reference internal" href="#pep-678-exceptions-can-be-enriched-with-notes">PEP 678: Las excepciones se pueden enriquecer con notas</a></li>
<li><a class="reference internal" href="#windows-py-exe-launcher-improvements">Mejoras en el iniciador de Windows <code class="docutils literal notranslate"><span class="pre">py.exe</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-related-to-type-hints">Nuevas funciones relacionadas con las sugerencias de tipo</a><ul>
<li><a class="reference internal" href="#pep-646-variadic-generics">PEP 646: Genéricos Variádicos</a></li>
<li><a class="reference internal" href="#pep-655-marking-individual-typeddict-items-as-required-or-not-required">PEP 655: Marcado de elementos <code class="docutils literal notranslate"><span class="pre">TypedDict</span></code> individuales como requeridos o no requeridos</a></li>
<li><a class="reference internal" href="#pep-673-self-type">PEP 673: tipo <code class="docutils literal notranslate"><span class="pre">Self</span></code></a></li>
<li><a class="reference internal" href="#pep-675-arbitrary-literal-string-type">PEP 675: tipo de cadena literal arbitraria</a></li>
<li><a class="reference internal" href="#pep-681-data-class-transforms">PEP 681: Transformaciones de clases de datos</a></li>
<li><a class="reference internal" href="#pep-563-may-not-be-the-future">PEP 563 puede no ser el futuro</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios de idioma</a></li>
<li><a class="reference internal" href="#other-cpython-implementation-changes">Otros cambios en la implementación de CPython</a></li>
<li><a class="reference internal" href="#new-modules">Nuevos Módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#asyncio">asíncio</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#dataclasses">clases de datos</a></li>
<li><a class="reference internal" href="#datetime">fecha y hora</a></li>
<li><a class="reference internal" href="#enum">enumeración</a></li>
<li><a class="reference internal" href="#fcntl">fcntl</a></li>
<li><a class="reference internal" href="#fractions">fracciones</a></li>
<li><a class="reference internal" href="#functools">herramientas funcionales</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#whatsnew311-idle">IDLE y libre de inactividad</a></li>
<li><a class="reference internal" href="#inspect">inspeccionar</a></li>
<li><a class="reference internal" href="#locale">lugar</a></li>
<li><a class="reference internal" href="#logging">Inicio sesión</a></li>
<li><a class="reference internal" href="#math">Matemáticas</a></li>
<li><a class="reference internal" href="#operator">operador</a></li>
<li><a class="reference internal" href="#os">sistema operativo</a></li>
<li><a class="reference internal" href="#pathlib">rutalib</a></li>
<li><a class="reference internal" href="#re">re</a></li>
<li><a class="reference internal" href="#shutil">cerrar</a></li>
<li><a class="reference internal" href="#socket">enchufe</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#string">cuerda</a></li>
<li><a class="reference internal" href="#sys">sistema</a></li>
<li><a class="reference internal" href="#sysconfig">configuración del sistema</a></li>
<li><a class="reference internal" href="#tempfile">archivo temporal</a></li>
<li><a class="reference internal" href="#threading">enhebrar</a></li>
<li><a class="reference internal" href="#time">tiempo</a></li>
<li><a class="reference internal" href="#tkinter">tkinter</a></li>
<li><a class="reference internal" href="#traceback">rastrear</a></li>
<li><a class="reference internal" href="#typing">mecanografía</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#unittest">prueba de unidad</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#warnings">advertencias</a></li>
<li><a class="reference internal" href="#zipfile">archivo zip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#faster-cpython">CPython más rápido</a><ul>
<li><a class="reference internal" href="#faster-startup">Inicio más rápido</a><ul>
<li><a class="reference internal" href="#frozen-imports-static-code-objects">Importaciones congeladas / Objetos de código estático</a></li>
</ul>
</li>
<li><a class="reference internal" href="#faster-runtime">Tiempo de ejecución más rápido</a><ul>
<li><a class="reference internal" href="#cheaper-lazy-python-frames">Marcos de Python más baratos y perezosos</a></li>
<li><a class="reference internal" href="#inlined-python-function-calls">Llamadas a funciones de Python en línea</a></li>
<li><a class="reference internal" href="#pep-659-specializing-adaptive-interpreter">PEP 659: Intérprete Adaptativo Especializado</a></li>
</ul>
</li>
<li><a class="reference internal" href="#misc">Varios</a></li>
<li><a class="reference internal" href="#faq">Preguntas más frecuentes</a><ul>
<li><a class="reference internal" href="#how-should-i-write-my-code-to-utilize-these-speedups">How should I write my code to utilize these speedups?</a></li>
<li><a class="reference internal" href="#will-cpython-3-11-use-more-memory">Will CPython 3.11 use more memory?</a></li>
<li><a class="reference internal" href="#i-don-t-see-any-speedups-in-my-workload-why">I don’t see any speedups in my workload. Why?</a></li>
<li><a class="reference internal" href="#is-there-a-jit-compiler">Is there a JIT compiler?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#about">Sobre</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Cambios en el código de bytes de CPython</a><ul>
<li><a class="reference internal" href="#new-opcodes">Nuevos códigos de operación</a></li>
<li><a class="reference internal" href="#replaced-opcodes">Códigos de operación reemplazados</a></li>
<li><a class="reference internal" href="#changed-removed-opcodes">Códigos de operación cambiados/eliminados</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a><ul>
<li><a class="reference internal" href="#language-builtins">Idioma/Construidos</a></li>
<li><a class="reference internal" href="#modules">Módulos</a></li>
<li><a class="reference internal" href="#standard-library">Biblioteca estándar</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pending-removal-in-python-3-12">Eliminación pendiente en Python 3.12</a></li>
<li><a class="reference internal" href="#removed">Remoto</a></li>
<li><a class="reference internal" href="#porting-to-python-3-11">Migración a Python 3.11</a></li>
<li><a class="reference internal" href="#build-changes">Construir cambios</a></li>
<li><a class="reference internal" href="#c-api-changes">Cambios en la API de C</a><ul>
<li><a class="reference internal" href="#whatsnew311-c-api-new-features">Nuevas características</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-porting">Migración a Python 3.11</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-deprecated">Obsoleto</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-pending-removal">Eliminación pendiente en Python 3.12</a></li>
<li><a class="reference internal" href="#whatsnew311-c-api-removed">Remoto</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="index.html"
                          title="capítulo anterior">Qué hay de nuevo en Python</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="3.10.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 3.10</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/whatsnew/3.11.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.10.html" title="Qué hay de nuevo en Python 3.10"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="index.html" title="Qué hay de nuevo en Python"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 3.11</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>