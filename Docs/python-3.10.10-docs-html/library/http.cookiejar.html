
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>http.cookiejar — Manejo de cookies para clientes HTTP &#8212; documentación de Python - 3.10.10</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pydoctheme.css?2022.1" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.10.10"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="xmlrpc — Módulos XMLRPC para cliente y servidor" href="xmlrpc.html" />
    <link rel="prev" title="http.cookies — Gestión del estado HTTP" href="http.cookies.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/http.cookiejar.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code> — Manejo de cookies para clientes HTTP</a><ul>
<li><a class="reference internal" href="#cookiejar-and-filecookiejar-objects">Objetos CookieJar y FileCookieJar</a></li>
<li><a class="reference internal" href="#filecookiejar-subclasses-and-co-operation-with-web-browsers">Subclases FileCookieJar y co-operación con navegadores web</a></li>
<li><a class="reference internal" href="#cookiepolicy-objects">Objetos CookiePolicy</a></li>
<li><a class="reference internal" href="#defaultcookiepolicy-objects">Objetos DefaultCookiePolicy</a></li>
<li><a class="reference internal" href="#cookie-objects">Objetos Cookie</a></li>
<li><a class="reference internal" href="#examples">Ejemplos</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="http.cookies.html"
                        title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookies</span></code> — Gestión del estado HTTP</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="xmlrpc.html"
                        title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpc</span></code> — Módulos XMLRPC para cliente y servidor</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/library/http.cookiejar.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="xmlrpc.html" title="xmlrpc — Módulos XMLRPC para cliente y servidor"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="http.cookies.html" title="http.cookies — Gestión del estado HTTP"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La Biblioteca Estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code> — Manejo de cookies para clientes HTTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-http.cookiejar">
<span id="http-cookiejar-cookie-handling-for-http-clients"></span><h1><a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> — Manejo de cookies para clientes HTTP<a class="headerlink" href="#module-http.cookiejar" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Código fuente:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.10/Lib/http/cookiejar.py">Lib/http/cookiejar.py</a></p>
<hr class="docutils" />
<p>El módulo <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> define clases para el manejo automático de cookies HTTP. Es útil para acceder a sitios web que requieren pequeñas piezas de datos – <em class="dfn">cookies</em> – para establecerse en el equipo del cliente a través de una respuesta HTTP de un servidor web, y que además retornan al servidor más tarde en forma de requests de HTTP.</p>
<p>Se manejan tanto el protocolo de cookies normal de Netscape como el protocolo definido por <span class="target" id="index-51"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>. El manejo de RFC 2965 está desactivado de forma predeterminada. Las cookies <span class="target" id="index-52"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> se analizan como cookies de Netscape y, posteriormente, se tratan como cookies de Netscape o RFC 2965 de acuerdo con la «política» en vigor. Tenga en cuenta que la gran mayoría de las cookies en Internet son cookies de Netscape. <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> intenta seguir el protocolo de cookies de Netscape de facto (que difiere sustancialmente del establecido en la especificación original de Netscape), incluida la toma de nota de los atributos de cookies <code class="docutils literal notranslate"><span class="pre">max-age</span></code> y <code class="docutils literal notranslate"><span class="pre">port</span></code> introducidos con RFC 2965.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Diversos parámetros nombrados que se encuentran en <em class="mailheader">Set-Cookie</em> y <em class="mailheader">Set-Cookie2</em> (ejem. <code class="docutils literal notranslate"><span class="pre">domain</span></code> y <code class="docutils literal notranslate"><span class="pre">expires</span></code>) son convencionalmente referidos como <em class="dfn">attributes</em>. Para distinguirlos de los atributos de Python, la documentación de este módulo utiliza el término <em class="dfn">cookie-attribute</em>.</p>
</div>
<p>El módulo define la siguiente excepción:</p>
<dl class="py exception">
<dt id="http.cookiejar.LoadError">
<em class="property">exception </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">LoadError</code><a class="headerlink" href="#http.cookiejar.LoadError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Las instancias de <a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> provocan esta excepción al no cargar las cookies desde un archivo. <a class="reference internal" href="#http.cookiejar.LoadError" title="http.cookiejar.LoadError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LoadError</span></code></a> es una subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>LoadError fue transformado a una subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> en vez de <a class="reference internal" href="exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a>.</p>
</div>
</dd></dl>

<p>Se proporcionan las siguientes clases:</p>
<dl class="py class">
<dt id="http.cookiejar.CookieJar">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">CookieJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">policy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><em>policy</em> es un objeto implementando la interfaz <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a>.</p>
<p>La clase <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> almacena HTTP cookies. Ésta extrae cookies de los request de HTTP, y las retorna en forma de responses de HTTP. Las instancias de <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> automáticamente expiran las cookies contenidas cuando es necesario. Las subclases también son responsables de almacenar y recuperar cookies de un archivo o base de datos.</p>
</dd></dl>

<dl class="py class">
<dt id="http.cookiejar.FileCookieJar">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">FileCookieJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delayload</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">policy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.FileCookieJar" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><em>policy</em> es un objeto implementando la interfaz <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a>. Para los otros argumentos, te recomendamos visitar la documentación correspondiente a los atributos.</p>
<p>Una <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> puede cargar cookies de, y posiblemente almacenar, un archivo en el disco. Las cookies <strong>NO</strong> son cargadas desde un archivo nombrado hasta que alguno de los métodos <a class="reference internal" href="#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> o <a class="reference internal" href="#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">revert()</span></code></a> es llamado. Subclases de esta clase son documentadas en la sección <a class="reference internal" href="#file-cookie-jar-classes"><span class="std std-ref">Subclases FileCookieJar y co-operación con navegadores web</span></a>.</p>
<p>This should not be initialized directly – use its subclasses below instead.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>El parámetro filename soporta un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
</dd></dl>

<dl class="py class">
<dt id="http.cookiejar.CookiePolicy">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">CookiePolicy</code><a class="headerlink" href="#http.cookiejar.CookiePolicy" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Esta clase es responsable de decidir si cada cookie debe ser aceptada del servidor, o retornada al mismo.</p>
</dd></dl>

<dl class="py class">
<dt id="http.cookiejar.DefaultCookiePolicy">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">DefaultCookiePolicy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blocked_domains</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">allowed_domains</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">netscape</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">rfc2965</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">rfc2109_as_netscape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hide_cookie2</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">strict_domain</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">strict_rfc2965_unverifiable</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">strict_ns_unverifiable</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">strict_ns_domain</span><span class="o">=</span><span class="default_value">DefaultCookiePolicy.DomainLiberal</span></em>, <em class="sig-param"><span class="n">strict_ns_set_initial_dollar</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">strict_ns_set_path</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">secure_protocols</span><span class="o">=</span><span class="default_value">('https', 'wss')</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Los argumentos del constructor sólo deben ser dados como argumentos clave. <em>blocked_domains</em> es una secuencia de nombres de dominio cuyas cookies nunca deben de ser aceptadas o retornadas. <em>allowed_domains</em> y no <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>, es una secuencia de sólo dominios que podemos aceptar y retornar cookies. <em>secure_protocols</em> es una secuencia de protocolos para los que se pueden agregar cookies seguras. De manera predeterminada <em>https</em> y <em>wss</em> (websocket seguro) son considerados protocolos seguros. Para todos los demás argumentos, te recomendamos visitar la documentación para los objetos <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> y <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a>.</p>
<p><a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a> implementa el estándar de reglas aceptar/rechazar para cookies Netscape y <span class="target" id="index-53"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>. De manera predeterminada, las cookies <span class="target" id="index-54"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> (es decir, las cookies que reciben una cabecera <em class="mailheader">Set-Cookie</em> con una versión cookie-attribute de 1) son tratadas de acuerdo con las reglas del RFC 2965. Sin embargo, si el manejo del RFC2965 se encuentra apagado o <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape" title="http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rfc2109_as_netscape</span></code></a> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, las cookies RFC 2109 son “degradadas” por la instancia <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> a las cookies Netscape, configurando la <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code> del atributo de la instancia <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> como 0. <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a> también provee algunos parámetros que permiten fine-tunning en el policy.</p>
</dd></dl>

<dl class="py class">
<dt id="http.cookiejar.Cookie">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">Cookie</code><a class="headerlink" href="#http.cookiejar.Cookie" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Esta clase representa Netscape, las cookies <span class="target" id="index-55"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> y <span class="target" id="index-56"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>. No se espera que los usuarios de <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> construyan sus propias instancias de <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a>. En vez de ello, si es necesario, llama al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">make_cookies()</span></code> de la instancia <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a>.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt>Módulo <a class="reference internal" href="urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a></dt><dd><p>Apertura de URL con manejo automático de cookies.</p>
</dd>
<dt>Módulo <a class="reference internal" href="http.cookies.html#module-http.cookies" title="http.cookies: Support for HTTP state management (cookies)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookies</span></code></a></dt><dd><p>Clases de cookies HTTP, principalmente útiles para código server-side. Los módulos <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> y <a class="reference internal" href="http.cookies.html#module-http.cookies" title="http.cookies: Support for HTTP state management (cookies)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookies</span></code></a> no dependen uno del otro.</p>
</dd>
<dt><a class="reference external" href="https://curl.se/rfc/cookie_spec.html">https://curl.se/rfc/cookie_spec.html</a></dt><dd><p>La especificación original del protocolo de cookies Netscape. Aunque éste sigue siendo el protocolo dominante, el “protocolo de cookies Netscape” implementado por la mayoría de los navegadores (y el protocolo <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a>) sólo tienen in parecido pasajero con el bosquejado en <code class="docutils literal notranslate"><span class="pre">cookie_spec.html</span></code>.</p>
</dd>
<dt><span class="target" id="index-57"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> - Mecanismo de Gestión de Estados HTTP</dt><dd><p>Obsoleto por <span class="target" id="index-58"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>. Usa <em class="mailheader">Set-Cookie</em> con versión=1.</p>
</dd>
<dt><span class="target" id="index-59"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a> - Mecanismo de Gestión de Estados HTTP</dt><dd><p>El protocolo Netscape con los errores solucionados. Usa <em class="mailheader">Set-Cookie2</em> en lugar de <em class="mailheader">Set-Cookie</em>. No es ampliamente usado.</p>
</dd>
<dt><a class="reference external" href="http://kristol.org/cookie/errata.html">http://kristol.org/cookie/errata.html</a></dt><dd><p>Fe de erratas sin finalizar hasta el <span class="target" id="index-60"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>.</p>
</dd>
</dl>
<p><span class="target" id="index-61"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2964.html"><strong>RFC 2964</strong></a> - Mecanismo de Gestión de Estados HTTP</p>
</div>
<section id="cookiejar-and-filecookiejar-objects">
<span id="cookie-jar-objects"></span><h2>Objetos CookieJar y FileCookieJar<a class="headerlink" href="#cookiejar-and-filecookiejar-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los objetos <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> soportan el protocolo <a class="reference internal" href="../glossary.html#term-iterator"><span class="xref std std-term">iterator</span></a> para iterar sobre los objetos <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> contenidos.</p>
<p><a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> tiene los siguientes métodos:</p>
<dl class="py method">
<dt id="http.cookiejar.CookieJar.add_cookie_header">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">add_cookie_header</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.add_cookie_header" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Añade la cookie correcta a la cabecera del request.</p>
<p>Si el <em>policy</em> admite (ie. los atributos <code class="xref py py-attr docutils literal notranslate"><span class="pre">rfc2965</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">hide_cookie2</span></code> de la instancia <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> del <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> son de manera respectiva verdadero y falso), la cabecera <em class="mailheader">Cookie2</em> es igualmente añadido cuando es apropiado.</p>
<p>The <em>request</em> object (usually a <a class="reference internal" href="urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">urllib.request.Request</span></code></a> instance)
must support the methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_full_url()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">has_header()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_header()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">header_items()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_unredirected_header()</span></code>
and the attributes <code class="xref py py-attr docutils literal notranslate"><span class="pre">host</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">unverifiable</span></code>
and <code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_req_host</span></code> as documented by <a class="reference internal" href="urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>el objeto <em>request</em> necesita del atributo  <code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_req_host</span></code>. La dependencia en el método deprecado <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_origin_req_host()</span></code> ha sido removida.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.extract_cookies">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">extract_cookies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">response</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.extract_cookies" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Extrae las cookies del <em>response</em> HTTP y las almacena en el <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a>, donde está permitido por la policy.</p>
<p>El <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> buscará por cabeceras <em class="mailheader">Set-Cookie</em> y <em class="mailheader">Set-Cookie2</em> permitidos en el argumento <em>response</em>, y almacena las cookies cuando es apropiado (sujeto a la aprobación del método <a class="reference internal" href="#http.cookiejar.CookiePolicy.set_ok" title="http.cookiejar.CookiePolicy.set_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CookiePolicy.set_ok()</span></code></a>).</p>
<p>El objeto <em>response</em> (usualmente el resultado de llamar <a class="reference internal" href="urllib.request.html#urllib.request.urlopen" title="urllib.request.urlopen"><code class="xref py py-meth docutils literal notranslate"><span class="pre">urllib.request.urlopen()</span></code></a>, o similares) debe de soportar un método <code class="xref py py-meth docutils literal notranslate"><span class="pre">info()</span></code> , el cual retorna una instancia <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.Message</span></code></a>.</p>
<p>The <em>request</em> object (usually a <a class="reference internal" href="urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">urllib.request.Request</span></code></a> instance)
must support the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_full_url()</span></code> and the attributes
<code class="xref py py-attr docutils literal notranslate"><span class="pre">host</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">unverifiable</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_req_host</span></code>,
as documented by <a class="reference internal" href="urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a>.  The request is used to set
default values for cookie-attributes as well as for checking that the
cookie is allowed to be set.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>el objeto <em>request</em> necesita del atributo  <code class="xref py py-attr docutils literal notranslate"><span class="pre">origin_req_host</span></code>. La dependencia en el método deprecado <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_origin_req_host()</span></code> ha sido removida.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.set_policy">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">set_policy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">policy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.set_policy" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establece la instancia <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> para ser usada.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.make_cookies">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">make_cookies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">response</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.make_cookies" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna una secuencia de objetos <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> extraída del objeto <em>response</em>.</p>
<p>Revisa la documentación <a class="reference internal" href="#http.cookiejar.CookieJar.extract_cookies" title="http.cookiejar.CookieJar.extract_cookies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_cookies()</span></code></a> para conocer las interfaces necesarias de los argumentos <em>response</em> y <em>request</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.set_cookie_if_ok">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">set_cookie_if_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cookie</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.set_cookie_if_ok" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establece una <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> si la política (<em>policy</em>) dice OK para hacerlo.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.set_cookie">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">set_cookie</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cookie</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.set_cookie" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establece una <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a>, sin consultar con la política (<em>policy</em>) para ver si se debe de establecer o no.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.clear">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">domain</em><span class="optional">[</span>, <em class="sig-param">path</em><span class="optional">[</span>, <em class="sig-param">name</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.clear" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Borra algunas cookies.</p>
<p>Si se invoca sin argumentos, borra todas las cookies. Si se le da un solo argumento. sólo las cookies que pertenecen a tal <em>domain</em> serán removidas. Si se le da dos argumentos, las cookies pertenecientes al especificado <em>domain</em> y <em>path</em> URL serán removidas. Si se le da tres argumentos, entonces la cookie con el especificado <em>domain</em>, <em>path</em> y <em>name</em> será removida.</p>
<p>Lanza <a class="reference internal" href="exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> si no existe ninguna cookie que coincida.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookieJar.clear_session_cookies">
<code class="sig-prename descclassname">CookieJar.</code><code class="sig-name descname">clear_session_cookies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookieJar.clear_session_cookies" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Descarta todas las cookies de la sesión.</p>
<p>Descarta todas las cookies que tengan un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">discard</span></code> true (usualmente porque no tienen <code class="docutils literal notranslate"><span class="pre">max-age</span></code> o <code class="docutils literal notranslate"><span class="pre">expires</span></code> atributos’cookie, o un explícito atributo-cookie <code class="docutils literal notranslate"><span class="pre">discard</span></code>). Para los navegadores interactivos, el fin de la sesión usualmente corresponde con el cierre de la ventana del navegador.</p>
<p>Nota que el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code> no guardará las cookies de la sesión de todas maneras, a menos que de otra manera preguntes para pasar un argumento <em>ignore_discard</em> como true.</p>
</dd></dl>

<p><a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> implementa los siguientes métodos adicionales:</p>
<dl class="py method">
<dt id="http.cookiejar.FileCookieJar.save">
<code class="sig-prename descclassname">FileCookieJar.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_discard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_expires</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.FileCookieJar.save" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Guarda las cookies en un archivo.</p>
<p>Esta clase base genera <a class="reference internal" href="exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>. Las subclases podrían dejar este método sin implementar.</p>
<p><em>filename</em> es el nombre del archivo en el que se guardarán las cookies. Si <em>filename</em> no es especificado, <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.filename</span></code> es utilizado (cuyo valor predeterminado es el valor que será pasado al constructor, si hay alguno); si <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.filename</span></code> es <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>, se genera un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
<p><em>ignore_discard</em>: almacena incluso las cookies configuradas para ser descartadas. <em>ignore_expires</em>: almacena las cookies que han caducado</p>
<p>El archivo se sobrescribe si ya existe, borrando así todas las cookies que contiene. Las cookies guardadas se pueden restaurar después utilizando los métodos <a class="reference internal" href="#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> o <a class="reference internal" href="#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">revert()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.FileCookieJar.load">
<code class="sig-prename descclassname">FileCookieJar.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_discard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_expires</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.FileCookieJar.load" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Carga las cookies desde un archivo.</p>
<p>Las viejas cookies son guardadas a menos que sean sobre escritas por nuevas recién cargadas.</p>
<p>Los argumentos son en cuanto a <a class="reference internal" href="#http.cookiejar.FileCookieJar.save" title="http.cookiejar.FileCookieJar.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>.</p>
<p>El archivo nombrado debe estar en un formato entendible para la clase, o se lanzará un <a class="reference internal" href="#http.cookiejar.LoadError" title="http.cookiejar.LoadError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LoadError</span></code></a>. Además, puede generarse un <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>, por ejemplo, si el archivo no existe.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Solía levantarse un <a class="reference internal" href="exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a>, pero ahora es un alias de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.FileCookieJar.revert">
<code class="sig-prename descclassname">FileCookieJar.</code><code class="sig-name descname">revert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_discard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_expires</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.FileCookieJar.revert" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Limpia todas las cookies y recarga las cookies de un archivo guardado.</p>
<p><a class="reference internal" href="#http.cookiejar.FileCookieJar.revert" title="http.cookiejar.FileCookieJar.revert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">revert()</span></code></a> puede levantar las mismas excepciones que <a class="reference internal" href="#http.cookiejar.FileCookieJar.load" title="http.cookiejar.FileCookieJar.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>. Si hay un fallo. el estado del objeto no se alterará.</p>
</dd></dl>

<p>Instancias <a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> tienen los siguientes atributos públicos:</p>
<dl class="py attribute">
<dt id="http.cookiejar.FileCookieJar.filename">
<code class="sig-prename descclassname">FileCookieJar.</code><code class="sig-name descname">filename</code><a class="headerlink" href="#http.cookiejar.FileCookieJar.filename" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Nombre del archivo predeterminado para el archivo en donde se almacenan las cookies. Este atributo podría ser asignado.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.FileCookieJar.delayload">
<code class="sig-prename descclassname">FileCookieJar.</code><code class="sig-name descname">delayload</code><a class="headerlink" href="#http.cookiejar.FileCookieJar.delayload" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si es true, carga perezosamente las cookies desde el disco. Este atributo no se debería de asignar. Esta es solo una pista, debido a que solo el rendimiento, y no al comportamiento (a menos que las cookies en el disco sean cambiadas). Un objeto <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> puede ignorarlo. Ninguna de las clases de <a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> incluidas en la librería estándar carga las cookies de manera perezosa.</p>
</dd></dl>

</section>
<section id="filecookiejar-subclasses-and-co-operation-with-web-browsers">
<span id="file-cookie-jar-classes"></span><h2>Subclases FileCookieJar y co-operación con navegadores web<a class="headerlink" href="#filecookiejar-subclasses-and-co-operation-with-web-browsers" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las siguientes subclases <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> son proveídas para lectura y escritura.</p>
<dl class="py class">
<dt id="http.cookiejar.MozillaCookieJar">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">MozillaCookieJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delayload</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">policy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.MozillaCookieJar" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>A <a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> that can load from and save cookies to disk in the
Mozilla <code class="docutils literal notranslate"><span class="pre">cookies.txt</span></code> file format (which is also used by curl and the Lynx
and Netscape browsers).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Esto puede perder información acerca de cookies <span class="target" id="index-62"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>, y también sobre atributos nuevos o no estándar como <code class="docutils literal notranslate"><span class="pre">port</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Realiza una copia de seguridad de tus cookies antes de guardarlas, especialmente si tienes cookies cuya perdida / corrupción puede ser inconveniente (hay algunas sutilezas que pueden conducir a ligeros cambios en el archivo sobre una carga / guardado round-trip).</p>
</div>
<p>También toma en cuenta que las cookies guardadas mientras Mozilla se está ejecutando se volverán torpes debido a Mozilla.</p>
</dd></dl>

<dl class="py class">
<dt id="http.cookiejar.LWPCookieJar">
<em class="property">class </em><code class="sig-prename descclassname">http.cookiejar.</code><code class="sig-name descname">LWPCookieJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delayload</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">policy</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.LWPCookieJar" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Un <a class="reference internal" href="#http.cookiejar.FileCookieJar" title="http.cookiejar.FileCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCookieJar</span></code></a> que puede cargar y guardar en disco en formato compatible con el formato de archivo <code class="docutils literal notranslate"><span class="pre">Set-Cookie3</span></code> de la librería libwww-perl. Estos es conveniente si tu quieres guardar cookies en un archivo legible para los humanos.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>El parámetro filename soporta un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
</dd></dl>

</section>
<section id="cookiepolicy-objects">
<span id="cookie-policy-objects"></span><h2>Objetos CookiePolicy<a class="headerlink" href="#cookiepolicy-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Objetos implementando la interfaz <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> tienen los siguientes métodos:</p>
<dl class="py method">
<dt id="http.cookiejar.CookiePolicy.set_ok">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">set_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cookie</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookiePolicy.set_ok" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un valor booleano indicando si la cookie debe ser aceptada o no desde el servidor.</p>
<p><em>cookie</em> es una instancia de <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a>. <em>request</em> es un objeto implementando la interfaz definida por la documentación de <a class="reference internal" href="#http.cookiejar.CookieJar.extract_cookies" title="http.cookiejar.CookieJar.extract_cookies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CookieJar.extract_cookies()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookiePolicy.return_ok">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">return_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cookie</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookiePolicy.return_ok" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna un valor booleano indicando si la cookie debe ser retornada o no al servidor.</p>
<p><em>cookie</em> es una instancia de <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a>. <em>request</em> es un objeto implementando la interfaz definida por la documentación de <a class="reference internal" href="#http.cookiejar.CookieJar.add_cookie_header" title="http.cookiejar.CookieJar.add_cookie_header"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CookieJar.add_cookie_header()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookiePolicy.domain_return_ok">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">domain_return_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookiePolicy.domain_return_ok" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <code class="docutils literal notranslate"><span class="pre">False</span></code> si las cookies no deben de ser retornadas, a partir del dominio cookie dado.</p>
<p>Este método es una optimización. Elimina la necesidad de verificar cada cookie con un domino en particular (lo cual puede involucrar la lectura de muchos archivos). Retornando true de <a class="reference internal" href="#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">domain_return_ok()</span></code></a> y <a class="reference internal" href="#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_return_ok()</span></code></a> deja todo el trabajo a <a class="reference internal" href="#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_ok()</span></code></a>.</p>
<p>Si <a class="reference internal" href="#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">domain_return_ok()</span></code></a> retorna true para el dominio de cookies, <a class="reference internal" href="#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_return_ok()</span></code></a> es llamado para el path de cookies. De otra manera, <a class="reference internal" href="#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_return_ok()</span></code></a> y <a class="reference internal" href="#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_ok()</span></code></a> no son nunca llamados para ese dominio de cookies. Si <a class="reference internal" href="#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_return_ok()</span></code></a> retorna true, <a class="reference internal" href="#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_ok()</span></code></a> es llamado con el objeto <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> en sí para una revisión completa. De otra manera, <a class="reference internal" href="#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_ok()</span></code></a> es nunca llamado para ese path de cookies.</p>
<p>Ten en cuenta que <a class="reference internal" href="#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">domain_return_ok()</span></code></a> es llamado para cada dominio <em>cookie</em>, no solamente para el dominio <em>request</em>. Por ejemplo, la función podría ser llamada con ambos <code class="docutils literal notranslate"><span class="pre">&quot;.example.com&quot;</span></code> y <code class="docutils literal notranslate"><span class="pre">&quot;www.example.com&quot;</span></code> si el dominio request es <code class="docutils literal notranslate"><span class="pre">&quot;www.example.com&quot;</span></code>. Lo mismo se aplica para <a class="reference internal" href="#http.cookiejar.CookiePolicy.path_return_ok" title="http.cookiejar.CookiePolicy.path_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_return_ok()</span></code></a>.</p>
<p>El argumento <em>request</em> es tal y como es documentado para <a class="reference internal" href="#http.cookiejar.CookiePolicy.return_ok" title="http.cookiejar.CookiePolicy.return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_ok()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.CookiePolicy.path_return_ok">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">path_return_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.CookiePolicy.path_return_ok" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <code class="docutils literal notranslate"><span class="pre">False</span></code> si las cookies no deben de ser retornadas, dado el path de las cookies.</p>
<p>Revisa la documentación para <a class="reference internal" href="#http.cookiejar.CookiePolicy.domain_return_ok" title="http.cookiejar.CookiePolicy.domain_return_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">domain_return_ok()</span></code></a>.</p>
</dd></dl>

<p>Adicionalmente a los métodos implementados anteriormente, las implementaciones de la interfaz <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> también deben de proporcionar los siguientes atributos, indicando cuales protocolos deben de ser utilizados, y como. Todos estos atributos se pueden asignar.</p>
<dl class="py attribute">
<dt id="http.cookiejar.CookiePolicy.netscape">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">netscape</code><a class="headerlink" href="#http.cookiejar.CookiePolicy.netscape" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Implementa el protocolo Netscape.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.CookiePolicy.rfc2965">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">rfc2965</code><a class="headerlink" href="#http.cookiejar.CookiePolicy.rfc2965" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Implementa el protocolo <span class="target" id="index-63"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.CookiePolicy.hide_cookie2">
<code class="sig-prename descclassname">CookiePolicy.</code><code class="sig-name descname">hide_cookie2</code><a class="headerlink" href="#http.cookiejar.CookiePolicy.hide_cookie2" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>No añadas la cabecera <em class="mailheader">Cookie2</em> a las requests (la presencia de esta cabecera indica al servidor que nosotros entendemos las cookies <span class="target" id="index-64"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>).</p>
</dd></dl>

<p>El camino más útil para definir una clase <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> es haciendo una subclase de <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a> y sobre escribir algunos o todos los métodos anteriores. <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a> en sí misma puede ser utilizada como una “null policy” para permitir establecer y recibir algunas o todas las cookies (esto raramente puede ser útil).</p>
</section>
<section id="defaultcookiepolicy-objects">
<span id="default-cookie-policy-objects"></span><h2>Objetos DefaultCookiePolicy<a class="headerlink" href="#defaultcookiepolicy-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Implementa las reglas estándar para aceptar y retornar cookies.</p>
<p>Ambas cookies, <span class="target" id="index-65"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a> y Netscape son cubiertas. El manejo del RFC 2965 está desactivado de forma predeterminada.</p>
<p>La forma más sencilla de proporcionar tu propia política (<em>policy</em>) es sobre escribir esta clase y llamar sus métodos en tus implementaciones modificadas antes de añadir tu propias comprobaciones adicionales:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">http.cookiejar</span>
<span class="k">class</span> <span class="nc">MyCookiePolicy</span><span class="p">(</span><span class="n">http</span><span class="o">.</span><span class="n">cookiejar</span><span class="o">.</span><span class="n">DefaultCookiePolicy</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_ok</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">http</span><span class="o">.</span><span class="n">cookiejar</span><span class="o">.</span><span class="n">DefaultCookiePolicy</span><span class="o">.</span><span class="n">set_ok</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">i_dont_want_to_store_this_cookie</span><span class="p">(</span><span class="n">cookie</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
<p>En adición a las características requeridas para implementar la interfaz <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a>, esta clase te permite que bloquees o permitas dominios de establecer y recibir cookies. También hay algunos interruptores estrictos que te permiten ajustar un poco las reglas flojas del protocolo Netscape (a costa de bloquear algunas cookies benignas).</p>
<p>Se proporciona una lista de bloqueo y una lista de permitidos del dominio (ambos desactivados de forma predeterminada). Solo los dominios que no están en la lista de bloqueo y que están presentes en la lista de permisos (si la lista de permisos está activa) participan en la configuración y devolución de cookies. Utilice el argumento del constructor <em>blocked_domains</em> y los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">blocked_domains()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_blocked_domains()</span></code> (y el argumento y los métodos correspondientes para <em>allowed_domains</em>). Si configura una lista de permitidos, puede desactivarla nuevamente configurándola en <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<p>Los dominios en listas de bloqueos o permitidos que no comienzan con un punto deben ser iguales al dominio de la cookie para que coincidan. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">&quot;example.com&quot;</span></code> coincide con una entrada de lista de bloqueo de <code class="docutils literal notranslate"><span class="pre">&quot;example.com&quot;</span></code>, pero <code class="docutils literal notranslate"><span class="pre">&quot;www.example.com&quot;</span></code> no. Los dominios que comienzan con un punto también se corresponden con dominios más específicos. Por ejemplo, tanto <code class="docutils literal notranslate"><span class="pre">&quot;www.example.com&quot;</span></code> como <code class="docutils literal notranslate"><span class="pre">&quot;www.coyote.example.com&quot;</span></code> coinciden con <code class="docutils literal notranslate"><span class="pre">&quot;.example.com&quot;</span></code> (pero el propio <code class="docutils literal notranslate"><span class="pre">&quot;example.com&quot;</span></code> no lo hace). Las direcciones IP son una excepción y deben coincidir exactamente. Por ejemplo, si block_domains contiene <code class="docutils literal notranslate"><span class="pre">&quot;192.168.1.2&quot;</span></code> y <code class="docutils literal notranslate"><span class="pre">&quot;.168.1.2&quot;</span></code>, 192.168.1.2 está bloqueado, pero 193.168.1.2 no.</p>
<p><a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a> implementa los siguientes métodos adicionales:</p>
<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.blocked_domains">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">blocked_domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.blocked_domains" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna una secuencia de dominios bloqueados (en forma de tupla).</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.set_blocked_domains">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">set_blocked_domains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blocked_domains</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.set_blocked_domains" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establece la secuencia de dominios bloqueados.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.is_blocked">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">is_blocked</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.is_blocked" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna si <em>domain</em> está en la lista de bloqueo para configurar o recibir cookies.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.allowed_domains">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">allowed_domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.allowed_domains" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>, o la secuencia de los dominios permitidos (en forma de tupla).</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.set_allowed_domains">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">set_allowed_domains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allowed_domains</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.set_allowed_domains" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establece la secuencia de los dominios permitidos, o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.DefaultCookiePolicy.is_not_allowed">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">is_not_allowed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.is_not_allowed" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna si <em>domain</em> no está en la lista de permitidos para configurar o recibir cookies.</p>
</dd></dl>

<p>Las instancias <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a> tienen los siguientes atributos, que son todos inicializados desde los argumentos del constructor del mismo nombre, y el cual todos pueden ser asignados a.</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">rfc2109_as_netscape</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.rfc2109_as_netscape" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si es true, solicita que la instancia <a class="reference internal" href="#http.cookiejar.CookieJar" title="http.cookiejar.CookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookieJar</span></code></a> degrade las cookies <span class="target" id="index-66"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> (es decir, las cookies recibidas en una cabecera <em class="mailheader">Set-Cookie</em> con un cookie-attribute versión de 1) a cookies Netscape al establecer la versión del atributo de la instancia <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> a 0. El valor predeterminado es <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>, en cuyo caso las cookies RFC 2109 son degradadas si y sólo si el control de <span class="target" id="index-67"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a> se encuentra apagado. Por lo tanto, las cookies RFC 2109 son degradadas de forma predeterminada.</p>
</dd></dl>

<p>Interruptores generales de rigurosidad:</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_domain">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_domain</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_domain" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>No permite que los sitios establezcan dominios de dos componentes con dominios country-code top-level como <code class="docutils literal notranslate"><span class="pre">.co.uk</span></code>, <code class="docutils literal notranslate"><span class="pre">.gov.uk</span></code>, <code class="docutils literal notranslate"><span class="pre">.co.nz</span></code>.etc. ¡Esto está lejos de ser perfecto y no está garantizado a que vaya a funcionar!</p>
</dd></dl>

<p>Interruptores de rigurosidad del protocolo <span class="target" id="index-68"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>:</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_rfc2965_unverifiable">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_rfc2965_unverifiable</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_rfc2965_unverifiable" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Siga las reglas :rfc:”2965” sobre transacciones no verificables (normalmente, una transacción no verificable es una del resultado de una redirección o una solicitud de una imagen alojada en otro sitio). Si esto es falso, las cookies <em>nunca</em> se bloquean en base a la verificabilidad</p>
</dd></dl>

<p>Interruptores de rigurosidad del protocolo Netscape:</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_unverifiable">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_ns_unverifiable</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_ns_unverifiable" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Aplica las reglas del <span class="target" id="index-69"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a> a transacciones no verificables incluso a cookies Netscape.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_domain">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_ns_domain</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_ns_domain" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Indicadores que señalan que tan estricto deben ser con las reglas de domain-matching para cookies Netscape. Consulte a continuación los valores aceptables.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_set_initial_dollar">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_ns_set_initial_dollar</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_ns_set_initial_dollar" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ignora las cookies en las cabeceras Set-Cookie: que tengan nombres que comienzan con <code class="docutils literal notranslate"><span class="pre">'$'</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.strict_ns_set_path">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">strict_ns_set_path</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.strict_ns_set_path" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>No permite establecer cookies cuyo path no concuerde con el request URI.</p>
</dd></dl>

<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">strict_ns_domain</span></code> es una colección de indicadores. Su valor está construido o siendo construido en conjunto (por ejemplo, <code class="docutils literal notranslate"><span class="pre">DomainStrictNoDots|DomainStrictNonDomain</span></code> significa que ambos indicadores se encuentran establecidos).</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.DomainStrictNoDots">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">DomainStrictNoDots</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.DomainStrictNoDots" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Cuando configuras las cookies, el “host prefix” no debe de contener un punto (ejem. <code class="docutils literal notranslate"><span class="pre">www.foo.bar.com</span></code> no puede establecer una cookie para <code class="docutils literal notranslate"><span class="pre">.bar.com</span></code>, porque <code class="docutils literal notranslate"><span class="pre">www.foo</span></code> tiene un punto).</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.DomainStrictNonDomain">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">DomainStrictNonDomain</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.DomainStrictNonDomain" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Las cookies que no especifican explícitamente un cookie-attribute <code class="docutils literal notranslate"><span class="pre">domain</span></code> sólo se pueden retornar a un dominio igual al que estableció la cookie (ejem. <code class="docutils literal notranslate"><span class="pre">spam.example.com</span></code> no retornará las cookies de <code class="docutils literal notranslate"><span class="pre">example.com</span></code> que no tuvieran un cookie-attribute <code class="docutils literal notranslate"><span class="pre">domain</span></code>)</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.DomainRFC2965Match">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">DomainRFC2965Match</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.DomainRFC2965Match" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Cuando se establecen las cookies, requiere de un completo emparejamiento de dominio <span class="target" id="index-70"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>.</p>
</dd></dl>

<p>Los siguientes atributos son proveídos por conveniencia, y son las combinaciones más útiles de los indicadores anteriores:</p>
<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.DomainLiberal">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">DomainLiberal</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.DomainLiberal" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Equivalente a 0 (es decir, todos los anteriores indicadores de rigurosidad de los dominios Netscape están apagados).</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.DefaultCookiePolicy.DomainStrict">
<code class="sig-prename descclassname">DefaultCookiePolicy.</code><code class="sig-name descname">DomainStrict</code><a class="headerlink" href="#http.cookiejar.DefaultCookiePolicy.DomainStrict" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Equivalente a <code class="docutils literal notranslate"><span class="pre">DomainStrictNoDots|DomainStrictNonDomain</span></code>.</p>
</dd></dl>

</section>
<section id="cookie-objects">
<h2>Objetos Cookie<a class="headerlink" href="#cookie-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las instancias <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> tienen atributos Python mas o menos correspondientes a los estándar cookie-attribute especificados en los diferentes estándares cookie. La correspondencia no es uno a uno, porque existen complicadas reglas para asignar valores predeterminados, debido a que los cookie-attribute <code class="docutils literal notranslate"><span class="pre">max-age</span></code> y <code class="docutils literal notranslate"><span class="pre">expires</span></code> contienen información equivalente, además que las cookies <span class="target" id="index-71"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> pueden estar “downgraded” por <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> desde la versión 1 a la 0 (Netscape) cookies.</p>
<p>La asignación a estos atributos no debe de ser necesario excepto en raras circunstancias en un método <a class="reference internal" href="#http.cookiejar.CookiePolicy" title="http.cookiejar.CookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">CookiePolicy</span></code></a>. La clase no aplica consistencia interna, por lo que tienes que saber lo que estás haciendo si lo estas aplicando.</p>
<dl class="py attribute">
<dt id="http.cookiejar.Cookie.version">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">version</code><a class="headerlink" href="#http.cookiejar.Cookie.version" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Entero o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>. Las cookies Netscape tienen <a class="reference internal" href="#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code></a> 0. <span class="target" id="index-72"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a> y las cookies <span class="target" id="index-73"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> tienen una <code class="docutils literal notranslate"><span class="pre">version</span></code> del cookie-attribute de 1. Sin embargo, ten en cuenta que <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> puede “downgrade” las cookies RFC 2109 a Netscape cookies, en cuyo caso <a class="reference internal" href="#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code></a> es 0.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.name">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">name</code><a class="headerlink" href="#http.cookiejar.Cookie.name" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Nombre de la cookie (un string).</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.value">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">value</code><a class="headerlink" href="#http.cookiejar.Cookie.value" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El valor de la cookie (una string), o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.port">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">port</code><a class="headerlink" href="#http.cookiejar.Cookie.port" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>String que representa un puerto o un conjunto de puertos (ejem. “80”, o “80,8080”) o incluso <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.path">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">path</code><a class="headerlink" href="#http.cookiejar.Cookie.path" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ruta de la cookie (un string, ejem. <code class="docutils literal notranslate"><span class="pre">'/acme/rocket_launchers'</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.secure">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">secure</code><a class="headerlink" href="#http.cookiejar.Cookie.secure" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si cookie sólo debe de ser retornada sobre una conexión segura.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.expires">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">expires</code><a class="headerlink" href="#http.cookiejar.Cookie.expires" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Fecha de caducidad entera en segundos desde la parte temporal, o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>. Véase también el método <a class="reference internal" href="#http.cookiejar.Cookie.is_expired" title="http.cookiejar.Cookie.is_expired"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_expired()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.discard">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">discard</code><a class="headerlink" href="#http.cookiejar.Cookie.discard" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si esta es una sesión de cookies.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.comment">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">comment</code><a class="headerlink" href="#http.cookiejar.Cookie.comment" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Comentario string del servidor explicando la función de esta cookie, o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.comment_url">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">comment_url</code><a class="headerlink" href="#http.cookiejar.Cookie.comment_url" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>URL que enlaza a un comentario desde un servidor explicando la función de esta cookie, o <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.rfc2109">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">rfc2109</code><a class="headerlink" href="#http.cookiejar.Cookie.rfc2109" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si esta cookie fue recibida como una cookie <span class="target" id="index-74"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a> (es decir, la cookie fue recibida en una cabecera <em class="mailheader">Set-Cookie</em>, y el valor del cookie-attribute Versión en la cabecera fue de 1). Este atributo es proveído porque <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a> puede “degradar” cookies RFC 2109 a cookies Netscape, en cuyo caso <a class="reference internal" href="#http.cookiejar.Cookie.version" title="http.cookiejar.Cookie.version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code></a> es 0.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.port_specified">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">port_specified</code><a class="headerlink" href="#http.cookiejar.Cookie.port_specified" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si un puerto o un conjunto de puertos fue explícitamente especificado por el servidor (en la cabecera <em class="mailheader">Set-Cookie</em> / <em class="mailheader">Set-Cookie2</em>).</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.domain_specified">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">domain_specified</code><a class="headerlink" href="#http.cookiejar.Cookie.domain_specified" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si un domino fue explícitamente especificado por el servidor.</p>
</dd></dl>

<dl class="py attribute">
<dt id="http.cookiejar.Cookie.domain_initial_dot">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">domain_initial_dot</code><a class="headerlink" href="#http.cookiejar.Cookie.domain_initial_dot" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si el dominio explícitamente especificado por el servidor empieza con un punto (<code class="docutils literal notranslate"><span class="pre">'.'</span></code>).</p>
</dd></dl>

<p>Las cookies pueden tener cookie-attribute no estándar adicionales. Se pueden acceder a estos usando los siguientes métodos:</p>
<dl class="py method">
<dt id="http.cookiejar.Cookie.has_nonstandard_attr">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">has_nonstandard_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.Cookie.has_nonstandard_attr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <code class="docutils literal notranslate"><span class="pre">True</span></code> si cookie tiene nombrado el cookie-attribute.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.Cookie.get_nonstandard_attr">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">get_nonstandard_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.Cookie.get_nonstandard_attr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si la cookie tiene nombrado el cookie-attribute, retorna su valor. De otra manera, retorna <em>default</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="http.cookiejar.Cookie.set_nonstandard_attr">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">set_nonstandard_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.Cookie.set_nonstandard_attr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna el valor del nombrado cookie-attribute.</p>
</dd></dl>

<p>La clase <a class="reference internal" href="#http.cookiejar.Cookie" title="http.cookiejar.Cookie"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cookie</span></code></a> también define el siguiente método:</p>
<dl class="py method">
<dt id="http.cookiejar.Cookie.is_expired">
<code class="sig-prename descclassname">Cookie.</code><code class="sig-name descname">is_expired</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">now</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#http.cookiejar.Cookie.is_expired" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> si la cookie ha excedido el tiempo que el servidor solicitó para que expirara. Si <em>now</em> es dado (en segundos desde la parte temporal), retorna si la cookie ha expirado en el momento especificado.</p>
</dd></dl>

</section>
<section id="examples">
<h2>Ejemplos<a class="headerlink" href="#examples" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El primer ejemplo muestra el uso más común de <a class="reference internal" href="#module-http.cookiejar" title="http.cookiejar: Classes for automatic handling of HTTP cookies."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">http.cookiejar</span><span class="o">,</span> <span class="nn">urllib.request</span>
<span class="n">cj</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">cookiejar</span><span class="o">.</span><span class="n">CookieJar</span><span class="p">()</span>
<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;http://example.com/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Este ejemplo ilustra como abrir una URL usando tus cookies Netscape, Mozilla, o Lynx (asume la convención Unix/Netscape para la ubicación del archivo de cookies):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">http.cookiejar</span><span class="o">,</span> <span class="nn">urllib.request</span>
<span class="n">cj</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">cookiejar</span><span class="o">.</span><span class="n">MozillaCookieJar</span><span class="p">()</span>
<span class="n">cj</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="s2">&quot;.netscape&quot;</span><span class="p">,</span> <span class="s2">&quot;cookies.txt&quot;</span><span class="p">))</span>
<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;http://example.com/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>El siguiente ejemplo ilustra el uso de <a class="reference internal" href="#http.cookiejar.DefaultCookiePolicy" title="http.cookiejar.DefaultCookiePolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultCookiePolicy</span></code></a>. Activa las cookies <span class="target" id="index-75"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2965.html"><strong>RFC 2965</strong></a>, es más estricto con respecto a los dominios cuando se establecen o se retornan cookies Netscape, y bloquea algunos dominios para establecer o retornar cookies:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">from</span> <span class="nn">http.cookiejar</span> <span class="kn">import</span> <span class="n">CookieJar</span><span class="p">,</span> <span class="n">DefaultCookiePolicy</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">DefaultCookiePolicy</span><span class="p">(</span>
    <span class="n">rfc2965</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strict_ns_domain</span><span class="o">=</span><span class="n">Policy</span><span class="o">.</span><span class="n">DomainStrict</span><span class="p">,</span>
    <span class="n">blocked_domains</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ads.net&quot;</span><span class="p">,</span> <span class="s2">&quot;.ads.net&quot;</span><span class="p">])</span>
<span class="n">cj</span> <span class="o">=</span> <span class="n">CookieJar</span><span class="p">(</span><span class="n">policy</span><span class="p">)</span>
<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cj</span><span class="p">))</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;http://example.com/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code> — Manejo de cookies para clientes HTTP</a><ul>
<li><a class="reference internal" href="#cookiejar-and-filecookiejar-objects">Objetos CookieJar y FileCookieJar</a></li>
<li><a class="reference internal" href="#filecookiejar-subclasses-and-co-operation-with-web-browsers">Subclases FileCookieJar y co-operación con navegadores web</a></li>
<li><a class="reference internal" href="#cookiepolicy-objects">Objetos CookiePolicy</a></li>
<li><a class="reference internal" href="#defaultcookiepolicy-objects">Objetos DefaultCookiePolicy</a></li>
<li><a class="reference internal" href="#cookie-objects">Objetos Cookie</a></li>
<li><a class="reference internal" href="#examples">Ejemplos</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="http.cookies.html"
                        title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookies</span></code> — Gestión del estado HTTP</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="xmlrpc.html"
                        title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpc</span></code> — Módulos XMLRPC para cliente y servidor</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/library/http.cookiejar.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="xmlrpc.html" title="xmlrpc — Módulos XMLRPC para cliente y servidor"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="http.cookies.html" title="http.cookies — Gestión del estado HTTP"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La Biblioteca Estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookiejar</span></code> — Manejo de cookies para clientes HTTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 27, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>

  </body>
</html>