
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="smtplib — Cliente de protocolo SMTP" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/smtplib.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Código fuente: Lib/smtplib.py El módulo smtplib define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Código fuente: Lib/smtplib.py El módulo smtplib define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>smtplib — Cliente de protocolo SMTP &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="uuid — objetos UUID según RFC 4122" href="uuid.html" />
    <link rel="prev" title="imaplib — Protocolo del cliente IMAP4" href="imaplib.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/smtplib.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — Cliente de protocolo SMTP</a><ul>
<li><a class="reference internal" href="#smtp-objects">Objetos SMTP</a></li>
<li><a class="reference internal" href="#smtp-example">Ejemplo SMTP</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="imaplib.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imaplib</span></code> — Protocolo del cliente IMAP4</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="uuid.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uuid</span></code> — objetos UUID según <strong>RFC 4122</strong></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/smtplib.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="uuid.html" title="uuid — objetos UUID según RFC 4122"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="imaplib — Protocolo del cliente IMAP4"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — Cliente de protocolo SMTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-smtplib">
<span id="smtplib-smtp-protocol-client"></span><h1><a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> — Cliente de protocolo SMTP<a class="headerlink" href="#module-smtplib" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Código fuente:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/smtplib.py">Lib/smtplib.py</a></p>
<hr class="docutils" id="index-0" />
<p>El módulo <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ESMTP. Para obtener detalles sobre el funcionamiento de SMTP y ESMTP, consulte <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc821.html"><strong>RFC 821</strong></a> (Protocolo simple de transferencia de correo) y <span class="target" id="index-24"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1869.html"><strong>RFC 1869</strong></a> (Extensiones de servicio SMTP).</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: not Emscripten, not WASI.</p>
<p>Este modulo no funciona o no está disponible para plataformas WebAssembly <code class="docutils literal notranslate"><span class="pre">wasm32-emscripten</span></code> y <code class="docutils literal notranslate"><span class="pre">wasm32-wasi</span></code>. Consulte <a class="reference internal" href="intro.html#wasm-availability"><span class="std std-ref">Plataformas WebAssembly</span></a> para más información.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="smtplib.SMTP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Una instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> encapsula una conexión SMTP. Tiene métodos que admiten un repertorio completo de operaciones SMTP y ESMTP. Si se proporcionan los parámetros de puerto y host opcionales, se llama al método SMTP <a class="reference internal" href="#smtplib.SMTP.connect" title="smtplib.SMTP.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> con esos parámetros durante la inicialización. Si se especifica, <em>local_hostname</em> se utiliza como FQDN del host local en el comando HELO / EHLO. De lo contrario, el nombre de host local se encuentra mediante <a class="reference internal" href="socket.html#socket.getfqdn" title="socket.getfqdn"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.getfqdn()</span></code></a>. Si la llamada <a class="reference internal" href="#smtplib.SMTP.connect" title="smtplib.SMTP.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> retorna algo que no sea un código de éxito, se lanza un <a class="reference internal" href="#smtplib.SMTPConnectError" title="smtplib.SMTPConnectError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPConnectError</span></code></a>. El parámetro opcional <em>timeout</em> especifica un tiempo de espera en segundos para bloquear operaciones como el intento de conexión (si no se especifica, se utilizará la configuración de tiempo de espera global predeterminada). Si expira el tiempo de espera, se lanza <a class="reference internal" href="exceptions.html#TimeoutError" title="TimeoutError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutError</span></code></a>. El parámetro opcional source_address permite la vinculación a alguna dirección de origen específica en una máquina con múltiples interfaces de red y/o algún puerto TCP de origen específico. Se necesita una tupla de 2 (host, puerto), para que el socket se vincule como su dirección de origen antes de conectarse. Si se omite (o si el host o el puerto son <code class="docutils literal notranslate"><span class="pre">''</span></code> y / o 0 respectivamente), se utilizará el comportamiento predeterminado del sistema operativo.</p>
<p>Para un uso normal, solo debe requerir los métodos initialization/connect, <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> y <a class="reference internal" href="#smtplib.SMTP.quit" title="smtplib.SMTP.quit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SMTP.quit()</span></code></a>. A continuación se incluye un ejemplo.</p>
<p>La clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> admite la instrucción <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>. Cuando se usa así, el comando SMTP <code class="docutils literal notranslate"><span class="pre">QUIT</span></code> se emite automáticamente cuando la <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code> sale de la instrucción. por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">smtplib</span> <span class="kn">import</span> <span class="n">SMTP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;domain.org&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">smtp</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">smtp</span><span class="o">.</span><span class="n">noop</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">(250, b&#39;Ok&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p class="audit-hook">Genera un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code class="docutils literal notranslate"><span class="pre">smtplib.send</span></code> con argumentos <code class="docutils literal notranslate"><span class="pre">self</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se agregó soporte para la sentencia <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agrego el argumento source_address.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5: </span>La extensión SMTPUTF8 (<span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6531.html"><strong>RFC 6531</strong></a>) ahora es compatible.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Si el parámetro <em>timeout</em> se mantiene en cero, lanzará un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> para evitar la creación de un socket no bloqueante</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smtplib.SMTP_SSL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTP_SSL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyfile=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">certfile=None</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">context=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP_SSL" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Una instancia de <a class="reference internal" href="#smtplib.SMTP_SSL" title="smtplib.SMTP_SSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP_SSL</span></code></a> se comporta exactamente igual que las instancias de <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. <a class="reference internal" href="#smtplib.SMTP_SSL" title="smtplib.SMTP_SSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP_SSL</span></code></a> debe usarse para situaciones donde se requiere SSL desde el comienzo de la conexión y el uso <code class="xref py py-meth docutils literal notranslate"><span class="pre">starttls()</span></code> no es apropiado. Si no se especifica <em>host</em>, se utiliza el host local. Si <em>port</em> es cero, se utiliza el puerto estándar SMTP sobre SSL (465). Los argumentos opcionales <em>local_hostname</em>, <em>timeout</em> y <em>source_address</em> tienen el mismo significado que en la clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. <em>context</em>, también opcional, puede contener una <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> y permite configurar varios aspectos de la conexión segura. Por favor lea <a class="reference internal" href="ssl.html#ssl-security"><span class="std std-ref">Consideraciones de seguridad</span></a> para conocer las mejores prácticas.</p>
<p><em>keyfile</em> y <em>certfile</em> son una alternativa heredada a <em>context</em> y pueden apuntar a una clave privada con formato PEM y un archivo de cadena de certificados para la conexión SSL.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agregó <em>contexto</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agrego el argumento source_address.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>La clase ahora admite la verificación del nombre de host con <a class="reference internal" href="ssl.html#ssl.SSLContext.check_hostname" title="ssl.SSLContext.check_hostname"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ssl.SSLContext.check_hostname</span></code></a> y <em>Server Name Indication</em> (ver <a class="reference internal" href="ssl.html#ssl.HAS_SNI" title="ssl.HAS_SNI"><code class="xref py py-data docutils literal notranslate"><span class="pre">ssl.HAS_SNI</span></code></a>).</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Obsoleto desde la versión 3.6: </span><em>keyfile</em> y <em>certfile</em> están obsoletos en favor de <em>context</em>. Por favor use <a class="reference internal" href="ssl.html#ssl.SSLContext.load_cert_chain" title="ssl.SSLContext.load_cert_chain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.load_cert_chain()</span></code></a> en su lugar, o deje que <a class="reference internal" href="ssl.html#ssl.create_default_context" title="ssl.create_default_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.create_default_context()</span></code></a> seleccione los certificados CA confiables del sistema para usted.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Si el parámetro <em>timeout</em> se mantiene en cero, lanzará un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> para evitar la creación de un socket no bloqueante</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smtplib.LMTP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">LMTP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=LMTP_PORT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.LMTP" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El protocolo LMTP, que es muy similar a ESMTP, se basa en gran medida en el cliente SMTP estándar. Es común usar sockets Unix para LMTP, por lo que nuestro método <code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code> debe ser compatible con eso, así como con un servidor host:puerto normal. Los argumentos opcionales local_hostname y source_address tienen el mismo significado que en la clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. Para especificar un socket Unix, debe usar una ruta absoluta para <em>host</em>, comenzando con “/”.</p>
<p>Se admite la autenticación mediante el mecanismo SMTP habitual. Cuando se usa un socket Unix, LMTP generalmente no admite ni requiere autenticación, pero su millaje puede variar.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Se ha añadido el parámetro opcional <em>timeout</em>.</p>
</div>
</dd></dl>

<p>También se define una buena selección de excepciones:</p>
<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPException</span></span><a class="headerlink" href="#smtplib.SMTPException" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> que es la clase de excepción base para todas las demás excepciones proporcionadas por este módulo.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>SMTPException se convirtió en subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPServerDisconnected">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPServerDisconnected</span></span><a class="headerlink" href="#smtplib.SMTPServerDisconnected" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Esta excepción se genera cuando el servidor se desconecta inesperadamente o cuando se intenta usar la instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> antes de conectarlo a un servidor.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPResponseException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPResponseException</span></span><a class="headerlink" href="#smtplib.SMTPResponseException" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Clase base para todas las excepciones que incluyen un código de error SMTP. Estas excepciones se generan en algunos casos cuando el servidor SMTP devuelve un código de error. El código de error se almacena en el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">smtp_code</span></code> del error, y el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">smtp_error</span></code> se establece en el mensaje de error.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPSenderRefused">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPSenderRefused</span></span><a class="headerlink" href="#smtplib.SMTPSenderRefused" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Dirección del remitente rechazada.  Además de los atributos establecidos por todas las excepciones <a class="reference internal" href="#smtplib.SMTPResponseException" title="smtplib.SMTPResponseException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPResponseException</span></code></a>, éste establece “remitente” para la cadena de caracteres que el servidor SMTP rechazó.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPRecipientsRefused">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPRecipientsRefused</span></span><a class="headerlink" href="#smtplib.SMTPRecipientsRefused" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Se rechazaron todas las direcciones de destinatarios.  Los errores para cada destinatario son accesibles mediante el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">recipients</span></code>, el cual es un diccionario del mismo tipo que el <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SMTP.sendmail()</span></code></a> retorna.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPDataError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPDataError</span></span><a class="headerlink" href="#smtplib.SMTPDataError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El servidor SMTP se negó a aceptar los datos del mensaje.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPConnectError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPConnectError</span></span><a class="headerlink" href="#smtplib.SMTPConnectError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Se produjo un error durante el establecimiento de conexión  con el servidor.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPHeloError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPHeloError</span></span><a class="headerlink" href="#smtplib.SMTPHeloError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El servidor rechazó nuestro mensaje <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPNotSupportedError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPNotSupportedError</span></span><a class="headerlink" href="#smtplib.SMTPNotSupportedError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El servidor no admite el comando o la opción que se intentó.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5.</span></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPAuthenticationError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPAuthenticationError</span></span><a class="headerlink" href="#smtplib.SMTPAuthenticationError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>La autenticación SMTP salió mal.  Lo más probable es que el servidor no aceptó la combinación proporcionada de username/password.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc821.html"><strong>RFC 821</strong></a> - Simple Mail Transfer Protocol</dt><dd><p>Definición de protocolo para SMTP. Este documento cubre el modelo, el procedimiento operativo y los detalles del protocolo para SMTP.</p>
</dd>
<dt><span class="target" id="index-26"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1869.html"><strong>RFC 1869</strong></a> - Extensiones de Servicio SMTP</dt><dd><p>Definición de las extensiones ESMTP para SMTP. Esto describe un marco para extender SMTP con nuevos comandos, que admite el descubrimiento dinámico de los comandos proporcionados por el servidor y define algunos comandos adicionales.</p>
</dd>
</dl>
</div>
<section id="smtp-objects">
<span id="id1"></span><h2>Objetos SMTP<a class="headerlink" href="#smtp-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Una instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> tiene los siguientes métodos:</p>
<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.set_debuglevel">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">set_debuglevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.set_debuglevel" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Establezca el nivel de salida de depuración. Un valor de 1 o <code class="docutils literal notranslate"><span class="pre">True</span></code> para <em>level</em> da como resultado mensajes de depuración para la conexión y para todos los mensajes enviados y recibidos desde el servidor. Un valor de 2 para <em>level</em> da como resultado que estos mensajes tengan una marca de tiempo.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se agregó el nivel de depuración 2.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.docmd">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">docmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.docmd" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Envíe un comando <em>cmd</em> al servidor. El argumento opcional <em>args</em> simplemente se concatena al comando, separado por un espacio.</p>
<p>Esto devuelve una tupla de 2 compuestos por un código de respuesta numérico y la línea de respuesta real (las respuestas de varias líneas se unen en una línea larga).</p>
<p>En funcionamiento normal, no debería ser necesario llamar a este método explícitamente. Se utiliza para implementar otros métodos y puede resultar útil para probar extensiones privadas.</p>
<p>Si se pierde la conexión con el servidor mientras se espera la respuesta, se activará <a class="reference internal" href="#smtplib.SMTPServerDisconnected" title="smtplib.SMTPServerDisconnected"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPServerDisconnected</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.connect">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.connect" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Conéctese a un host en un puerto determinado. Los valores predeterminados son para conectarse al host local en el puerto SMTP estándar (25). Si el nombre de host termina con dos puntos (<code class="docutils literal notranslate"><span class="pre">':'</span></code>) seguido de un número, ese sufijo se eliminará y el número se interpretará como el número de puerto a utilizar. El constructor invoca automáticamente este método si se especifica un host durante la instanciación. Devuelve una tupla de 2 del código de respuesta y el mensaje enviado por el servidor en su respuesta de conexión.</p>
<p class="audit-hook">Genera un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">evento de auditoría</span></a> <code class="docutils literal notranslate"><span class="pre">smtplib.connect</span></code> con argumentos <code class="docutils literal notranslate"><span class="pre">self</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.helo">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">helo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.helo" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Identifíquese en el servidor SMTP usando <code class="docutils literal notranslate"><span class="pre">HELO</span></code>. El argumento del nombre de host tiene como valor predeterminado el nombre de dominio completo del host local. El mensaje devuelto por el servidor se almacena como el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">helo_resp</span></code> del objeto.</p>
<p>En funcionamiento normal, no debería ser necesario llamar a este método explícitamente. Será llamado implícitamente por <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> cuando sea necesario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.ehlo">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">ehlo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.ehlo" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Identifíquese en un servidor ESMTP mediante <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. El argumento del nombre de host tiene como valor predeterminado el nombre de dominio completo del host local. Examine la respuesta para la opción ESMTP y guárdelos para que los utilice <a class="reference internal" href="#smtplib.SMTP.has_extn" title="smtplib.SMTP.has_extn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_extn()</span></code></a>. También establece varios atributos informativos: el mensaje retornado por el servidor se almacena como el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">ehlo_resp</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">does_esmtp</span></code> se establece en <code class="docutils literal notranslate"><span class="pre">True</span></code> o <code class="docutils literal notranslate"><span class="pre">False</span></code> dependiendo de si el servidor admite ESMTP, y <code class="xref py py-attr docutils literal notranslate"><span class="pre">esmtp_features</span></code> será un diccionario que contiene los nombres de las extensiones de servicio SMTP de este servidor soportes, y sus parámetros (si los hay).</p>
<p>A menos que desee utilizar <a class="reference internal" href="#smtplib.SMTP.has_extn" title="smtplib.SMTP.has_extn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_extn()</span></code></a> antes de enviar correo, no debería ser necesario llamar a este método explícitamente. Se llamará implícitamente por <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> cuando sea necesario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.ehlo_or_helo_if_needed">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">ehlo_or_helo_if_needed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.ehlo_or_helo_if_needed" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Este método llama a <a class="reference internal" href="#smtplib.SMTP.ehlo" title="smtplib.SMTP.ehlo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ehlo()</span></code></a> o <a class="reference internal" href="#smtplib.SMTP.helo" title="smtplib.SMTP.helo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">helo()</span></code></a> si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión. Primero prueba ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>.</p>
<dl class="simple">
<dt><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p>El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.has_extn">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">has_extn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.has_extn" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> si <em>name</em> está en el conjunto de extensiones de servicio SMTP devueltas por el servidor, <a class="reference internal" href="constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> en caso contrario. El método es insensible a la presencia de mayúsculas en <em>name</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.verify">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.verify" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Verifique la validez de una dirección en este servidor usando SMTP <code class="docutils literal notranslate"><span class="pre">VRFY</span></code>. Retorna una tupla que consta del código 250 y una dirección completa <span class="target" id="index-27"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> (incluido el nombre humano) si la dirección del usuario es válida. De lo contrario, devuelve un código de error SMTP de 400 o más y una cadena de error.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Muchos sitios desactivan SMTP <code class="docutils literal notranslate"><span class="pre">VRFY</span></code> para frustrar a los spammers.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.login">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_response_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.login" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Inicie sesión en un servidor SMTP que requiera autenticación. Los argumentos son el nombre de usuario y la contraseña para autenticarse. Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método prueba primero ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. Este método regresará normalmente si la autenticación fue exitosa o puede generar las siguientes excepciones:</p>
<dl class="simple">
<dt><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p>El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPAuthenticationError" title="smtplib.SMTPAuthenticationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPAuthenticationError</span></code></a></dt><dd><p>El servidor no aceptó la combinación de nombre de username/password.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p>El servidor no admite el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPException" title="smtplib.SMTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPException</span></code></a></dt><dd><p>No se encontró ningún método de autenticación adecuado.</p>
</dd>
</dl>
<p>Cada uno de los métodos de autenticación admitidos por <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> se prueban a su vez si se anuncian como admitidos por el servidor. Consulte <a class="reference internal" href="#smtplib.SMTP.auth" title="smtplib.SMTP.auth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">auth()</span></code></a> para obtener una lista de los métodos de autenticación admitidos. <em>initial_response_ok</em> se pasa a <a class="reference internal" href="#smtplib.SMTP.auth" title="smtplib.SMTP.auth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">auth()</span></code></a>.</p>
<p>El argumento de palabra clave opcional <em>initial_response_ok</em> especifica si, para los métodos de autenticación que lo admiten, se puede enviar una «respuesta inicial» como se especifica en <span class="target" id="index-28"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4954.html"><strong>RFC 4954</strong></a> junto con el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>, en lugar de requerir un desafío/respuesta .</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> se puede generar y se agregó el parámetro <em>initial_response_ok</em>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.auth">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">auth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authobject</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_response_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.auth" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Emita un comando <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> <code class="docutils literal notranslate"><span class="pre">AUTH</span></code> para el <em>mechanism</em> de autenticación especificado y maneje la respuesta de desafío a través de <em>authobject</em>.</p>
<p><em>mechanism</em> especifica qué mecanismo de autenticación se utilizará como argumento para el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>; los valores válidos son los enumerados en el elemento <code class="docutils literal notranslate"><span class="pre">auth</span></code> de <code class="xref py py-attr docutils literal notranslate"><span class="pre">esmtp_features</span></code>.</p>
<p><em>authobject</em> debe ser un objeto invocable que tome un único argumento opcional:</p>
<blockquote>
<div><p>data = authobject(challenge=None)</p>
</div></blockquote>
<p>Si la verificación de respuesta inicial devuelve <code class="docutils literal notranslate"><span class="pre">None</span></code>, o si <em>initial_response_ok</em> es falso, se llamará a <code class="docutils literal notranslate"><span class="pre">authobject()</span></code> para procesar la respuesta de desafío del servidor; el argumento <em>challenge</em> que se pasa será un <code class="docutils literal notranslate"><span class="pre">bytes</span></code>. Debería devolver <em>data</em> ASCII <code class="docutils literal notranslate"><span class="pre">str</span></code> que serán codificados en base64 y enviados al servidor.</p>
<p>Si la verificación de respuesta inicial devuelve <code class="docutils literal notranslate"><span class="pre">None</span></code>, o si <em>initial_response_ok</em> es falso, se llamará a <code class="docutils literal notranslate"><span class="pre">authobject()</span></code> para procesar la respuesta de desafío del servidor; el argumento <em>challenge</em> que se pasa será un <code class="docutils literal notranslate"><span class="pre">bytes</span></code>. Debería devolver <em>data</em> ASCII <code class="docutils literal notranslate"><span class="pre">str</span></code> que serán codificados en base64 y enviados al servidor.</p>
<p>La clase <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> proporciona <code class="docutils literal notranslate"><span class="pre">authobjects</span></code> para los mecanismos <code class="docutils literal notranslate"><span class="pre">CRAM-MD5</span></code>, <code class="docutils literal notranslate"><span class="pre">PLAIN</span></code> y <code class="docutils literal notranslate"><span class="pre">LOGIN</span></code>; se denominan <code class="docutils literal notranslate"><span class="pre">SMTP.auth_cram_md5</span></code>, <code class="docutils literal notranslate"><span class="pre">SMTP.auth_plain</span></code> y <code class="docutils literal notranslate"><span class="pre">SMTP.auth_login</span></code> respectivamente. Todos requieren que las propiedades de <code class="docutils literal notranslate"><span class="pre">user</span></code> y <code class="docutils literal notranslate"><span class="pre">password</span></code> de la instancia <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> se establezcan en los valores adecuados.</p>
<p>El código de usuario normalmente no necesita llamar a <code class="docutils literal notranslate"><span class="pre">auth</span></code> directamente, sino que puede llamar al método <a class="reference internal" href="#smtplib.SMTP.login" title="smtplib.SMTP.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">login()</span></code></a>, que probará cada uno de los mecanismos anteriores a su vez, en el orden indicado. <code class="docutils literal notranslate"><span class="pre">auth</span></code> está expuesto para facilitar la implementación de métodos de autenticación que no (o aún no) son compatibles directamente con <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.starttls">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">starttls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">certfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.starttls" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ponga la conexión SMTP en modo TLS (Seguridad de la capa de transporte). Todos los comandos SMTP que siguen se cifrarán. Entonces deberías llamar a <a class="reference internal" href="#smtplib.SMTP.ehlo" title="smtplib.SMTP.ehlo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ehlo()</span></code></a> de nuevo.</p>
<p>Si se proporcionan <em>keyfile</em> y <em>certfile</em>, se utilizan para crear una <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a>.</p>
<p>El parámetro <em>context</em> opcional es un objeto <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a>; Esta es una alternativa al uso de un archivo de claves y un archivo de certificado y, si se especifica, tanto <em>keyfile</em> como <em>certfile</em> deben ser <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método intenta ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> primero.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Obsoleto desde la versión 3.6: </span><em>keyfile</em> y <em>certfile</em> están obsoletos en favor de <em>context</em>. Por favor use <a class="reference internal" href="ssl.html#ssl.SSLContext.load_cert_chain" title="ssl.SSLContext.load_cert_chain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.load_cert_chain()</span></code></a> en su lugar, o deje que <a class="reference internal" href="ssl.html#ssl.create_default_context" title="ssl.create_default_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.create_default_context()</span></code></a> seleccione los certificados CA confiables del sistema para usted.</p>
</div>
<dl class="simple">
<dt><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p>El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p>El servidor no admite la extensión STARTTLS.</p>
</dd>
<dt><a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></dt><dd><p>La compatibilidad con SSL/TLS no está disponible para su intérprete de Python.</p>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agregó <em>contexto</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>El método ahora admite la verificación del nombre de host con <code class="xref py py-attr docutils literal notranslate"><span class="pre">SSLContext.check_hostname</span></code> y <em>Server Name Indicator</em> (ver <a class="reference internal" href="ssl.html#ssl.HAS_SNI" title="ssl.HAS_SNI"><code class="xref py py-data docutils literal notranslate"><span class="pre">HAS_SNI</span></code></a>).</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>El error generado por falta de compatibilidad con STARTTLS ahora es la subclase <a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> en lugar de la base <a class="reference internal" href="#smtplib.SMTPException" title="smtplib.SMTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPException</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.sendmail">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">sendmail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_addrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mail_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcpt_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.sendmail" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Enviar correo. Los argumentos requeridos son <span class="target" id="index-29"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> cadena de dirección de origen, una lista de <span class="target" id="index-30"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> cadenas de dirección (una cadena simple se tratará como una lista con 1 dirección) y una cadena de mensaje. La persona que llama puede pasar una lista de opciones de ESMTP (como <code class="docutils literal notranslate"><span class="pre">8bitmime</span></code>) para usar en los comandos <code class="docutils literal notranslate"><span class="pre">MAIL</span> <span class="pre">FROM</span></code> como <em>mail_options</em>. Las opciones de ESMTP (como los comandos <code class="docutils literal notranslate"><span class="pre">DSN</span></code>) que deben usarse con todos los comandos <code class="docutils literal notranslate"><span class="pre">RCPT</span></code> se pueden pasar como <em>rcpt_options</em>. (Si necesita usar diferentes opciones de ESMTP para diferentes destinatarios, debe usar los métodos de bajo nivel como <code class="xref py py-meth docutils literal notranslate"><span class="pre">mail()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">rcpt()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code> para enviar el mensaje).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Los parámetros <em>from_addr</em> y <em>to_addrs</em> se utilizan para construir el sobre del mensaje utilizado por los agentes de transporte. <code class="docutils literal notranslate"><span class="pre">sendmail</span></code> no modifica los encabezados de los mensajes de ninguna manera.</p>
</div>
<p><em>msg</em> puede ser una cadena que contenga caracteres en el rango ASCII o una cadena de bytes. Una cadena se codifica en bytes utilizando el códec ascii, y los caracteres <code class="docutils literal notranslate"><span class="pre">\r</span></code> y <code class="docutils literal notranslate"><span class="pre">\n</span></code> solitarios se convierten en caracteres <code class="docutils literal notranslate"><span class="pre">\</span> <span class="pre">r\n</span></code>. Una cadena de bytes no se modifica.</p>
<p>Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método prueba primero ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. Si el servidor utiliza ESMTP, se le pasará el tamaño del mensaje y cada una de las opciones especificadas (si la opción está en el conjunto de funciones que anuncia el servidor). Si <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> falla, se probará <code class="docutils literal notranslate"><span class="pre">HELO</span></code> y se eliminarán las opciones de ESMTP.</p>
<p>Este método volverá normalmente si se acepta el correo para al menos un destinatario. De lo contrario, lanzará una excepción. Es decir, si este método no genera una excepción, alguien debería recibir su correo. Si este método no genera una excepción, devuelve un diccionario, con una entrada para cada destinatario rechazado. Cada entrada contiene una tupla del código de error SMTP y el mensaje de error adjunto enviado por el servidor.</p>
<p>Si se incluye <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>” en <em>mail_options * y el servidor lo admite, *from_addr</em> y <em>to_addrs</em> pueden contener caracteres no ASCII.</p>
<p>Este método puede lanzar las siguientes excepciones:</p>
<dl class="simple">
<dt><a class="reference internal" href="#smtplib.SMTPRecipientsRefused" title="smtplib.SMTPRecipientsRefused"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPRecipientsRefused</span></code></a></dt><dd><p>Todos los destinatarios fueron rechazados. Nadie recibió el correo. El atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">recipients</span></code> del objeto de excepción es un diccionario con información sobre los destinatarios rechazados (como el que se retorna cuando se aceptó al menos un destinatario).</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p>El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPSenderRefused" title="smtplib.SMTPSenderRefused"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPSenderRefused</span></code></a></dt><dd><p>El servidor no aceptó el <em>from_addr</em>.</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPDataError" title="smtplib.SMTPDataError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPDataError</span></code></a></dt><dd><p>El servidor respondió con un código de error inesperado (que no sea el rechazo de un destinatario).</p>
</dd>
<dt><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p>Se proporcionó <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> en <em>mail_options</em> pero el servidor no lo admite.</p>
</dd>
</dl>
<p>A menos que se indique lo contrario, la conexión estará abierta incluso después de que se lance una excepción.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span><em>msg</em> puede ser una cadena de bytes.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se agregó compatibilidad con <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>, así que la <a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> puede ser lanzada si se especifica <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> ya que el servidor no lo admite.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.send_message">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_addrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mail_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcpt_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.send_message" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Este es un método conveniente para llamar a <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> con el mensaje representado por un objeto <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.Message</span></code></a>. Los argumentos tienen el mismo significado que para <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a>, excepto que <em>msg</em> es un objeto <code class="docutils literal notranslate"><span class="pre">Mensaje</span></code>.</p>
<p>Si <em>from_addr</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> o <em>to_addrs</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">send_message</span></code> llena esos argumentos con direcciones extraídas de los encabezados de <em>msg</em> como se especifica en <span class="target" id="index-31"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>: <em>from_addr</em> se establece en el campo <em class="mailheader">Sender</em> si está presente, y de lo contrario, en el campo <em class="mailheader">From</em>. <em>to_addrs</em> combina los valores (si los hay) de los campos <em class="mailheader">To</em>, <em class="mailheader">Cc</em> y <em class="mailheader">Bcc</em> de <em>msg</em>. Si aparece exactamente un conjunto de encabezados <em class="mailheader">Resent-*</em> en el mensaje, los encabezados normales se ignoran y en su lugar se utilizan los encabezados <em class="mailheader">Resent- *</em>. Si el mensaje contiene más de un conjunto de encabezados <em class="mailheader">Resent-*</em>, se lanza un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, ya que no hay forma de detectar sin ambigüedades el conjunto más reciente de encabezados <em class="mailheader">Resent-</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">send_message</span></code> serializa <em>msg</em> usando <a class="reference internal" href="email.generator.html#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a> con <code class="docutils literal notranslate"><span class="pre">\r\n</span></code> como <em>linesep</em>, y llama a <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> para transmitir el mensaje resultante.  Independientemente de los valores de <em>from_addr</em> y <em>to_addrs</em>, <code class="docutils literal notranslate"><span class="pre">send_message</span></code> no transmite ningún encabezado <em class="mailheader">Bcc</em> o <em class="mailheader">Resent-Bcc</em> que puedan aparecer en <em>msg</em>.  Si alguna de las direcciones en <em>from_addr</em> y <em>to_addrs</em> contiene caracteres que no son ASCII y el servidor no anuncia la compatibilidad con <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>, se lanza un error <code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupported</span></code>.  De lo contrario, el <code class="docutils literal notranslate"><span class="pre">Message</span></code> se serializa con un clon de su <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> con el atributo <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.utf8" title="email.policy.EmailPolicy.utf8"><code class="xref py py-attr docutils literal notranslate"><span class="pre">utf8</span></code></a> establecido en <code class="docutils literal notranslate"><span class="pre">True</span></code> y <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> y <code class="docutils literal notranslate"><span class="pre">BODY=8BITMIME</span></code> se agregan a <em>mail_options</em>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.2.</span></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5: </span>Soporte para direcciones internacionalizadas (<code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.quit">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.quit" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Termine la sesión SMTP y cierre la conexión.  Retorna el resultado del comando SMTP <code class="docutils literal notranslate"><span class="pre">QUIT</span></code>.</p>
</dd></dl>

<p>Los métodos de bajo nivel correspondientes a los comandos estándar SMTP/ESMTP <code class="docutils literal notranslate"><span class="pre">`HELP</span></code>, <code class="docutils literal notranslate"><span class="pre">RSET</span></code>, <code class="docutils literal notranslate"><span class="pre">NOOP</span></code>, <code class="docutils literal notranslate"><span class="pre">MAIL</span></code>, <code class="docutils literal notranslate"><span class="pre">RCPT</span></code>, y <code class="docutils literal notranslate"><span class="pre">DATA</span></code> también están soportados. Normalmente, no es necesario llamarlos directamente, por lo que no se documentan aquí. Para más detalles, consulte el código del módulo.</p>
</section>
<section id="smtp-example">
<span id="id2"></span><h2>Ejemplo SMTP<a class="headerlink" href="#smtp-example" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este ejemplo solicita al usuario las direcciones necesarias en el sobre del mensaje (direcciones “To” y “From” ) y el mensaje que se entregará. Tenga en cuenta que los encabezados que se incluirán con el mensaje deben incluirse en el mensaje tal y como se introdujeron; este ejemplo no procesa los encabezados <span class="target" id="index-32"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> . En particular, las direcciones “To” y “From deben incluirse explícitamente en los encabezados de los mensajes.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>

<span class="k">def</span> <span class="nf">prompt</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="n">fromaddr</span> <span class="o">=</span> <span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;From: &quot;</span><span class="p">)</span>
<span class="n">toaddrs</span>  <span class="o">=</span> <span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;To: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enter message, end with ^D (Unix) or ^Z (Windows):&quot;</span><span class="p">)</span>

<span class="c1"># Add the From: and To: headers at the start!</span>
<span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;From: </span><span class="si">%s</span><span class="se">\r\n</span><span class="s2">To: </span><span class="si">%s</span><span class="se">\r\n\r\n</span><span class="s2">&quot;</span>
       <span class="o">%</span> <span class="p">(</span><span class="n">fromaddr</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">toaddrs</span><span class="p">)))</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="n">line</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message length is&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s1">&#39;localhost&#39;</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">set_debuglevel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">fromaddr</span><span class="p">,</span> <span class="n">toaddrs</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En general, querrá usar las características del paquete <a class="reference internal" href="email.html#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code></a> para construir un mensaje de correo electrónico, que luego puede enviar a través de <a class="reference internal" href="#smtplib.SMTP.send_message" title="smtplib.SMTP.send_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_message()</span></code></a>; ver <a class="reference internal" href="email.examples.html#email-examples"><span class="std std-ref">email: Ejemplos</span></a>.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — Cliente de protocolo SMTP</a><ul>
<li><a class="reference internal" href="#smtp-objects">Objetos SMTP</a></li>
<li><a class="reference internal" href="#smtp-example">Ejemplo SMTP</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="imaplib.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imaplib</span></code> — Protocolo del cliente IMAP4</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="uuid.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uuid</span></code> — objetos UUID según <strong>RFC 4122</strong></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/smtplib.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="uuid.html" title="uuid — objetos UUID según RFC 4122"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="imaplib — Protocolo del cliente IMAP4"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — Cliente de protocolo SMTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>