
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Novedades de Python 3.4 &#8212; documentación de Python - 3.10.10</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pydoctheme.css?2022.1" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.10.10"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Que novedades hay en python 3.3" href="3.3.html" />
    <link rel="prev" title="Qué hay de nuevo en Python 3.5" href="3.5.html" />
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.4.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">Novedades de Python 3.4</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Puntos destacados del lanzamiento</a></li>
<li><a class="reference internal" href="#new-features">Nuevas Funciones</a><ul>
<li><a class="reference internal" href="#pep-453-explicit-bootstrapping-of-pip-in-python-installations">PEP 453: Arranque explícito de PIP en instalaciones de Python</a><ul>
<li><a class="reference internal" href="#bootstrapping-pip-by-default">Puesta en marcha de pip por defecto</a></li>
<li><a class="reference internal" href="#documentation-changes">Cambios en la documentación</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-446-newly-created-file-descriptors-are-non-inheritable">PEP 446: Los descriptores de archivos recién creados no son heredables</a></li>
<li><a class="reference internal" href="#improvements-to-codec-handling">Mejoras en el manejo de códecs</a></li>
<li><a class="reference internal" href="#pep-451-a-modulespec-type-for-the-import-system">PEP 451: Un tipo ModuleSpec para el sistema de importación</a></li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios de lenguaje</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-modules">Nuevos Módulos</a><ul>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#ensurepip">ensurepip</a></li>
<li><a class="reference internal" href="#enum">enum</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#selectors">selectores</a></li>
<li><a class="reference internal" href="#statistics">estadísticas</a></li>
<li><a class="reference internal" href="#tracemalloc">tracemalloc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#abc">abc</a></li>
<li><a class="reference internal" href="#aifc">aifc</a></li>
<li><a class="reference internal" href="#argparse">argparse</a></li>
<li><a class="reference internal" href="#audioop">audioop</a></li>
<li><a class="reference internal" href="#base64">base64</a></li>
<li><a class="reference internal" href="#collections">colecciones</a></li>
<li><a class="reference internal" href="#colorsys">colorsys</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#dbm">dbm</a></li>
<li><a class="reference internal" href="#dis">dis</a></li>
<li><a class="reference internal" href="#doctest">doctest</a></li>
<li><a class="reference internal" href="#email">email</a></li>
<li><a class="reference internal" href="#filecmp">archivoecmp</a></li>
<li><a class="reference internal" href="#functools">functools</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#hmac">hmac</a></li>
<li><a class="reference internal" href="#html">html</a></li>
<li><a class="reference internal" href="#http">http</a></li>
<li><a class="reference internal" href="#idlelib-and-idle">idlelib y IDLE</a></li>
<li><a class="reference internal" href="#importlib">importlib</a></li>
<li><a class="reference internal" href="#inspect">inspeccionar</a></li>
<li><a class="reference internal" href="#ipaddress">dirección IP</a></li>
<li><a class="reference internal" href="#logging">Tres mejoras más pequeñas en el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code>, todas implementadas por Vinay Sajip, son:</a></li>
<li><a class="reference internal" href="#marshal">mariscal</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#multiprocessing">multiprocesamiento</a></li>
<li><a class="reference internal" href="#operator"><span class="xref std std-ref">PEP 465</span>, un nuevo operador de multiplicación de matrices: <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&#64;</span> <span class="pre">b</span></code>.</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#pdb">pdb</a></li>
<li><a class="reference internal" href="#pickle">pepinillo</a></li>
<li><a class="reference internal" href="#plistlib">plistlib</a></li>
<li><a class="reference internal" href="#poplib">poplib</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#pty">pty</a></li>
<li><a class="reference internal" href="#pydoc">pydoc</a></li>
<li><a class="reference internal" href="#re">re</a></li>
<li><a class="reference internal" href="#resource">recurso</a></li>
<li><a class="reference internal" href="#select">seleccionar</a></li>
<li><a class="reference internal" href="#shelve">estante</a></li>
<li><a class="reference internal" href="#shutil">shutil</a></li>
<li><a class="reference internal" href="#smtpd">smtpd</a></li>
<li><a class="reference internal" href="#smtplib">smtplib</a></li>
<li><a class="reference internal" href="#socket">enchufe</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#stat">stat</a></li>
<li><a class="reference internal" href="#struct">struct</a></li>
<li><a class="reference internal" href="#subprocess">subproceso</a></li>
<li><a class="reference internal" href="#sunau">sunau</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#textwrap">textwrap</a></li>
<li><a class="reference internal" href="#threading">roscado</a></li>
<li><a class="reference internal" href="#traceback">traceback</a></li>
<li><a class="reference internal" href="#types">tipos</a></li>
<li><a class="reference internal" href="#urllib">urllib</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#wave">onda</a></li>
<li><a class="reference internal" href="#weakref">weakref</a></li>
<li><a class="reference internal" href="#xml-etree">xml.etree</a></li>
<li><a class="reference internal" href="#zipfile">archivo zip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-implementation-changes">Cambios en la implementación de CPython</a><ul>
<li><a class="reference internal" href="#pep-445-customization-of-cpython-memory-allocators">PEP 445: Personalización de los Asignadores de Memoria de CPython</a></li>
<li><a class="reference internal" href="#pep-442-safe-object-finalization">PEP 442: Finalización segura de objetos</a></li>
<li><a class="reference internal" href="#pep-456-secure-and-interchangeable-hash-algorithm">PEP 456: Algoritmo Hash seguro e intercambiable</a></li>
<li><a class="reference internal" href="#pep-436-argument-clinic">PEP 436: Clínica de Argumentación</a></li>
<li><a class="reference internal" href="#other-build-and-c-api-changes">Otros cambios en la API de construcción y C</a></li>
<li><a class="reference internal" href="#other-improvements">Otras mejoras</a></li>
<li><a class="reference internal" href="#significant-optimizations">Optimizaciones significativas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a><ul>
<li><a class="reference internal" href="#deprecations-in-the-python-api">Desapariciones en la API de Python</a></li>
<li><a class="reference internal" href="#deprecated-features">Funciones obsoletas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#removed">Removido</a><ul>
<li><a class="reference internal" href="#operating-systems-no-longer-supported">Sistemas operativos que ya no son compatibles</a></li>
<li><a class="reference internal" href="#api-and-feature-removals">Eliminación de la API y de las funciones</a></li>
<li><a class="reference internal" href="#code-cleanups">Limpieza del código</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-3-4">Adaptación a Python 3.4</a><ul>
<li><a class="reference internal" href="#changes-in-python-command-behavior">Cambios en el comportamiento del comando “python”</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Cambios en la API de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Cambios en la API de C</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changed-in-3-4-3">Cambiado en 3.4.3</a><ul>
<li><a class="reference internal" href="#pep-476-enabling-certificate-verification-by-default-for-stdlib-http-clients">PEP 476: Habilitar la verificación de certificados por defecto para los clientes http stdlib</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="3.5.html"
                        title="capítulo anterior">Qué hay de nuevo en Python 3.5</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="3.3.html"
                        title="próximo capítulo">Que novedades hay en python 3.3</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/whatsnew/3.4.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.3.html" title="Que novedades hay en python 3.3"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="3.5.html" title="Qué hay de nuevo en Python 3.5"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Novedades de Python 3.4</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-3-4">
<h1>Novedades de Python 3.4<a class="headerlink" href="#what-s-new-in-python-3-4" title="Enlazar permanentemente con este título">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Autor</dt>
<dd class="field-odd"><p>R. David Murray &lt;<a class="reference external" href="mailto:rdmurray&#37;&#52;&#48;bitdance&#46;com">rdmurray<span>&#64;</span>bitdance<span>&#46;</span>com</a>&gt; (Editor)</p>
</dd>
</dl>
<p>Este artículo explica las nuevas características de Python 3.4, en comparación con la 3.3. Python 3.4 se publicó el 16 de marzo de 2014.  Para obtener todos los detalles, consulte el <a class="reference external" href="https://docs.python.org/3.4/whatsnew/changelog.html">changelog</a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p><span class="target" id="index-118"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0429"><strong>PEP 429</strong></a> – Calendario de lanzamiento de Python 3.4</p>
</div>
<section id="summary-release-highlights">
<h2>Resumen – Puntos destacados del lanzamiento<a class="headerlink" href="#summary-release-highlights" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Nuevas características de sintaxis:</p>
<ul class="simple">
<li><p>En Python 3.4 no se han añadido nuevas características sintácticas.</p></li>
</ul>
<p>Otras novedades:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-pep-453"><span class="std std-ref">pip debe estar siempre disponible</span></a> (<span class="target" id="index-119"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>).</p></li>
<li><p><a class="reference internal" href="#whatsnew-pep-446"><span class="std std-ref">Los descriptores de archivo recién creados no son heredables</span></a> (<span class="target" id="index-120"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0446"><strong>PEP 446</strong></a>).</p></li>
<li><p>opción de línea de comandos para <a class="reference internal" href="#whatsnew-isolated-mode"><span class="std std-ref">modo aislado</span></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16499">bpo-16499</a>).</p></li>
<li><p><a class="reference internal" href="#codec-handling-improvements"><span class="std std-ref">mejoras en el manejo de códecs</span></a> que no son codificaciones de texto (múltiples problemas).improvements&gt;</p></li>
<li><p><a class="reference internal" href="#whatsnew-pep-451"><span class="std std-ref">Un tipo de ModuleSpec</span></a> para el sistema de importación (<span class="target" id="index-121"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0451"><strong>PEP 451</strong></a>).  (Afecta a los autores de los importadores)</p></li>
<li><p>El formato <a class="reference internal" href="../library/marshal.html#module-marshal" title="marshal: Convert Python objects to streams of bytes and back (with different constraints)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">marshal</span></code></a> se ha hecho <a class="reference internal" href="#whatsnew-marshal-3"><span class="std std-ref">más compacto y eficiente</span></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16475">bpo-16475</a>).</p></li>
</ul>
<p>Nuevos módulos de la biblioteca:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a>: <a class="reference internal" href="#whatsnew-asyncio"><span class="std std-ref">Nueva API provisional para IO asíncrona</span></a> (<span class="target" id="index-122"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3156"><strong>PEP 3156</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a>: <a class="reference internal" href="#whatsnew-ensurepip"><span class="std std-ref">Bootstrapping the pip installer</span></a>
(<span class="target" id="index-5"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/enum.html#module-enum" title="enum: Implementation of an enumeration class."><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a>: <a class="reference internal" href="#whatsnew-enum"><span class="std std-ref">Soporte para tipos de enumeración</span></a> (<span class="target" id="index-123"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0435"><strong>PEP 435</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/pathlib.html#module-pathlib" title="pathlib: Object-oriented filesystem paths"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pathlib</span></code></a>: <a class="reference internal" href="#whatsnew-pathlib"><span class="std std-ref">Rutas del sistema de archivos orientadas a objetos</span></a> (<span class="target" id="index-124"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0428"><strong>PEP 428</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/selectors.html#module-selectors" title="selectors: High-level I/O multiplexing."><code class="xref py py-mod docutils literal notranslate"><span class="pre">selectors</span></code></a>: <a class="reference internal" href="#whatsnew-selectors"><span class="std std-ref">Multiplexación de E/S eficiente y de alto nivel</span></a>, construida sobre las primitivas del módulo <a class="reference internal" href="../library/select.html#module-select" title="select: Wait for I/O completion on multiple streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">select</span></code></a> (parte de <span class="target" id="index-125"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3156"><strong>PEP 3156</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/statistics.html#module-statistics" title="statistics: Mathematical statistics functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statistics</span></code></a>: Una básica <a class="reference internal" href="#whatsnew-statistics"><span class="std std-ref">numerically stable statistics library</span></a> (<span class="target" id="index-126"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0450"><strong>PEP 450</strong></a>).</p></li>
<li><p><a class="reference internal" href="../library/tracemalloc.html#module-tracemalloc" title="tracemalloc: Trace memory allocations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracemalloc</span></code></a>: <a class="reference internal" href="#whatsnew-tracemalloc"><span class="std std-ref">Trace Python memory allocations</span></a> (<span class="target" id="index-10"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0454"><strong>PEP 454</strong></a>).</p></li>
</ul>
<p>Mejora significativa de los módulos de la biblioteca:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-singledispatch"><span class="std std-ref">Funciones genéricas de despacho único</span></a> en <a class="reference internal" href="../library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a> (<span class="target" id="index-127"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0443"><strong>PEP 443</strong></a>).</p></li>
<li><p>Nuevo <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> <a class="reference internal" href="#whatsnew-protocol-4"><span class="std std-ref">protocolo 4</span></a> (<span class="target" id="index-128"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3154"><strong>PEP 3154</strong></a>).</p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiproceso</span></code> tiene ahora <a class="reference internal" href="#whatsnew-multiprocessing-no-fork"><span class="std std-ref">una opción para evitar el uso de os.fork en Unix</span></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8713">bpo-8713</a>).</p></li>
<li><p><a class="reference internal" href="../library/email.html#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code></a> tiene un nuevo submódulo, <a class="reference internal" href="../library/email.contentmanager.html#module-email.contentmanager" title="email.contentmanager: Storing and Retrieving Content from MIME Parts"><code class="xref py py-mod docutils literal notranslate"><span class="pre">contentmanager</span></code></a>, y una nueva subclase <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Message</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code>) que <a class="reference internal" href="#whatsnew-email-contentmanager"><span class="std std-ref">simplifica el manejo de MIME</span></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18891">bpo-18891</a>).</p></li>
<li><p>Los módulos <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> y <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a> son ahora capaces de introspeccionar correctamente una variedad mucho más amplia de objetos invocables, lo que mejora la salida del sistema Python <a class="reference internal" href="../library/functions.html#help" title="help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a>.</p></li>
<li><p>La API del módulo <a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> ha sido declarada estable</p></li>
</ul>
<p>Mejoras en la seguridad:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-pep-456"><span class="std std-ref">Algoritmo hash seguro e intercambiable</span></a> (<span class="target" id="index-129"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0456"><strong>PEP 456</strong></a>).</p></li>
<li><p><a class="reference internal" href="#whatsnew-pep-446"><span class="std std-ref">Hacer no heredables los descriptores de archivo recién creados</span></a> (<span class="target" id="index-130"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0446"><strong>PEP 446</strong></a>) para evitar la filtración de descriptores de archivo a los procesos hijos.</p></li>
<li><p>Nueva opción de línea de comandos para <a class="reference internal" href="#whatsnew-isolated-mode"><span class="std std-ref">modo aislado</span></a>, (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16499">bpo-16499</a>).</p></li>
<li><p><a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> tiene ahora <a class="reference internal" href="#whatsnew-multiprocessing-no-fork"><span class="std std-ref">una opción para evitar el uso de os.fork en Unix</span></a>.  <em>spawn</em> y <em>forkserver</em> son más seguros porque evitan compartir datos con los procesos hijos.</p></li>
<li><p>Los procesos hijos de <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> en Windows ya no heredan todos los manejadores heredables del padre, sólo los necesarios.</p></li>
<li><p>Una nueva función <a class="reference internal" href="../library/hashlib.html#hashlib.pbkdf2_hmac" title="hashlib.pbkdf2_hmac"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashlib.pbkdf2_hmac()</span></code></a> proporciona la función de derivación de clave basada en contraseña <a class="reference external" href="https://en.wikipedia.org/wiki/PBKDF2">PKCS#5 2</a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-tls-11-12"><span class="std std-ref">Soporte de TLSv1.1 y TLSv1.2</span></a> para <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew34-win-cert-store"><span class="std std-ref">Recuperación de certificados del soporte del almacén de certificados del sistema Windows</span></a> para <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew34-sni"><span class="std std-ref">Soporte SNI (Server Name Indication) del lado del servidor</span></a> para <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>.</p></li>
<li><p>La clase <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> tiene un <a class="reference internal" href="#whatsnew34-sslcontext"><span class="std std-ref">mucho que mejorar</span></a>.</p></li>
<li><p>Todos los módulos de la biblioteca estándar que soportan SSL admiten ahora la verificación de certificados de servidor, incluida la coincidencia de nombres de host (<a class="reference internal" href="../library/ssl.html#ssl.match_hostname" title="ssl.match_hostname"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.match_hostname()</span></code></a>) y las CRL (listas de revocación de certificados, véase <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.load_verify_locations" title="ssl.SSLContext.load_verify_locations"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.SSLContext.load_verify_locations()</span></code></a>).</p></li>
</ul>
<p>Mejoras en la implementación de CPython:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-pep-442"><span class="std std-ref">Finalización segura de objetos</span></a> (<span class="target" id="index-131"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0442"><strong>PEP 442</strong></a>).</p></li>
<li><p>Aprovechando <span class="target" id="index-132"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0442"><strong>PEP 442</strong></a>, en la mayoría de los casos <a class="reference internal" href="#whatsnew-pep-442"><span class="std std-ref">los globales de los módulos ya no se establecen como Ninguno durante la finalización</span></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18214">bpo-18214</a>).</p></li>
<li><p><a class="reference internal" href="#whatsnew-pep-445"><span class="std std-ref">Asignadores de memoria configurable</span></a> (<span class="target" id="index-133"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0445"><strong>PEP 445</strong></a>).</p></li>
<li><p><a class="reference internal" href="#whatsnew-pep-436"><span class="std std-ref">Consultorio de argumentos</span></a> (<span class="target" id="index-134"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0436"><strong>PEP 436</strong></a>).</p></li>
</ul>
<p>Por favor, siga leyendo para ver una lista completa de los cambios orientados al usuario, incluyendo muchas otras mejoras menores, optimizaciones de CPython, elementos obsoletos y posibles problemas de portabilidad.</p>
</section>
<section id="new-features">
<h2>Nuevas Funciones<a class="headerlink" href="#new-features" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="pep-453-explicit-bootstrapping-of-pip-in-python-installations">
<span id="whatsnew-pep-453"></span><h3>PEP 453: Arranque explícito de PIP en instalaciones de Python<a class="headerlink" href="#pep-453-explicit-bootstrapping-of-pip-in-python-installations" title="Enlazar permanentemente con este título">¶</a></h3>
<section id="bootstrapping-pip-by-default">
<h4>Puesta en marcha de pip por defecto<a class="headerlink" href="#bootstrapping-pip-by-default" title="Enlazar permanentemente con este título">¶</a></h4>
<p>El nuevo módulo <a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a> (definido en <span class="target" id="index-135"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>) proporciona un mecanismo estándar multiplataforma para arrancar el instalador pip en instalaciones de Python y entornos virtuales. La versión de <code class="docutils literal notranslate"><span class="pre">pip</span></code> incluida con Python 3.4.0 es <code class="docutils literal notranslate"><span class="pre">pip</span></code> 1.5.4, y las futuras versiones de mantenimiento de 3.4.x actualizarán la versión incluida a la última versión de <code class="docutils literal notranslate"><span class="pre">pip</span></code> que esté disponible en el momento de crear la versión candidata.</p>
<p>Por defecto, los comandos <code class="docutils literal notranslate"><span class="pre">pipX</span></code> y <code class="docutils literal notranslate"><span class="pre">pipX.Y</span></code> se instalarán en todas las plataformas (donde X.Y representa la versión de la instalación de Python), junto con el paquete de Python <code class="docutils literal notranslate"><span class="pre">pip</span></code> y sus dependencias. En Windows y en los entornos virtuales de todas las plataformas, también se instalará el comando <code class="docutils literal notranslate"><span class="pre">pip</span></code> sin versionar. En otras plataformas, el comando <code class="docutils literal notranslate"><span class="pre">pip</span></code> no versionado en todo el sistema suele referirse a la versión de Python 2 instalada por separado.</p>
<p>La utilidad de línea de comandos <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> y el módulo <a class="reference internal" href="../library/venv.html#module-venv" title="venv: Creation of virtual environments."><code class="xref py py-mod docutils literal notranslate"><span class="pre">venv</span></code></a> hacen uso del módulo <a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a> para que <code class="docutils literal notranslate"><span class="pre">pip</span></code> esté disponible en entornos virtuales. Cuando se utiliza la utilidad de línea de comandos, <code class="docutils literal notranslate"><span class="pre">pip</span></code> se instala por defecto, mientras que cuando se utiliza el módulo <a class="reference internal" href="../library/venv.html#module-venv" title="venv: Creation of virtual environments."><code class="xref py py-mod docutils literal notranslate"><span class="pre">venv</span></code></a> <a class="reference internal" href="../library/venv.html#venv-api"><span class="std std-ref">API</span></a> se debe solicitar explícitamente la instalación de <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<p>Para las construcciones de CPython <a class="reference internal" href="../using/unix.html#building-python-on-unix"><span class="std std-ref">source en sistemas POSIX</span></a>, los comandos <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> y <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">altinstall</span></code> arrancan <code class="docutils literal notranslate"><span class="pre">pip</span></code> por defecto.  Este comportamiento puede ser controlado a través de las opciones de configuración, y anulado a través de las opciones del Makefile.</p>
<p>En Windows y Mac OS X, los instaladores de CPython ahora instalan por defecto <code class="docutils literal notranslate"><span class="pre">pip</span></code> junto con el propio CPython (los usuarios pueden optar por no instalarlo durante el proceso de instalación). Los usuarios de Windows tendrán que optar por las modificaciones automáticas del <code class="docutils literal notranslate"><span class="pre">PATH</span></code> para que <code class="docutils literal notranslate"><span class="pre">pip</span></code> esté disponible por defecto desde la línea de comandos, de lo contrario se puede acceder a través del lanzador de Python para Windows como <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">pip</span></code>.</p>
<p>Como se discute en el PEP (<a class="reference external" href="https://www.python.org/dev/peps/pep-0453/#recommendations-for-downstream-distributors">discussed in the PEP</a>), los empaquetadores de plataformas pueden optar por no instalar estos comandos por defecto, siempre y cuando, cuando se invoquen, proporcionen instrucciones claras y sencillas sobre cómo instalarlos en esa plataforma (normalmente utilizando el gestor de paquetes del sistema).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Para evitar conflictos entre instalaciones paralelas de Python 2 y Python 3, sólo los comandos versionados <code class="docutils literal notranslate"><span class="pre">pip3</span></code> y <code class="docutils literal notranslate"><span class="pre">pip3.4</span></code> son arrancados por defecto cuando se invoca <code class="docutils literal notranslate"><span class="pre">ensurepip</span></code> directamente - la opción <code class="docutils literal notranslate"><span class="pre">--default-pip</span></code> es necesaria para solicitar también el comando no versionado <code class="docutils literal notranslate"><span class="pre">pip</span></code>. <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> y el instalador de Windows aseguran que el comando <code class="docutils literal notranslate"><span class="pre">pip</span></code> sin calificar esté disponible en esos entornos, y <code class="docutils literal notranslate"><span class="pre">pip</span></code> siempre puede ser invocado a través del interruptor <code class="docutils literal notranslate"><span class="pre">-m</span></code> en lugar de directamente para evitar la ambigüedad en sistemas con múltiples instalaciones de Python.</p>
</div>
</section>
<section id="documentation-changes">
<h4>Cambios en la documentación<a class="headerlink" href="#documentation-changes" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Como parte de este cambio, las secciones <a class="reference internal" href="../installing/index.html#installing-index"><span class="std std-ref">Instalando módulos de Python</span></a> y <a class="reference internal" href="../distributing/index.html#distributing-index"><span class="std std-ref">Distribuir módulos de Python</span></a> de la documentación han sido completamente rediseñadas como breves documentos de inicio y preguntas frecuentes. La mayor parte de la documentación de empaquetado se ha trasladado a la «Guía del usuario de empaquetado de Python» mantenida por la Autoridad de Empaquetado de Python &lt;<a class="reference external" href="https://packaging.python.org">https://packaging.python.org</a>&gt;`__ y a la documentación de los proyectos individuales.</p>
<p>Sin embargo, como esta migración está aún incompleta, las versiones anteriores de esas guías siguen disponibles como <a class="reference internal" href="../install/index.html#install-index"><span class="std std-ref">Instalación de Módulos de Python (versión antigua)</span></a> y <a class="reference internal" href="../distutils/index.html#distutils-index"><span class="std std-ref">Distribución de módulos de Python (versión heredada)</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-136"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a> – Arranque explícito de pip en instalaciones de Python</dt><dd><p>PEP escrito por Donald Stufft y Nick Coghlan, implementado por Donald Stufft, Nick Coghlan, Martin von Löwis y Ned Deily.</p>
</dd>
</dl>
</div>
</section>
</section>
<section id="pep-446-newly-created-file-descriptors-are-non-inheritable">
<span id="whatsnew-pep-446"></span><h3>PEP 446: Los descriptores de archivos recién creados no son heredables<a class="headerlink" href="#pep-446-newly-created-file-descriptors-are-non-inheritable" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-137"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0446"><strong>PEP 446</strong></a> hace que los descriptores de archivo recién creados sean <a class="reference internal" href="../library/os.html#fd-inheritance"><span class="std std-ref">no heredables</span></a>.  En general, este es el comportamiento que una aplicación querrá: al lanzar un nuevo proceso, tener archivos actualmente abiertos también en el nuevo proceso puede llevar a todo tipo de errores difíciles de encontrar, y potencialmente a problemas de seguridad.</p>
<p>Sin embargo, hay ocasiones en las que se desea la herencia.  Para dar soporte a estos casos, están disponibles las siguientes funciones y métodos nuevos:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/os.html#os.get_inheritable" title="os.get_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.get_inheritable()</span></code></a>, <a class="reference internal" href="../library/os.html#os.set_inheritable" title="os.set_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_inheritable()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/os.html#os.get_handle_inheritable" title="os.get_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.get_handle_inheritable()</span></code></a>, <a class="reference internal" href="../library/os.html#os.set_handle_inheritable" title="os.set_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_handle_inheritable()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/socket.html#socket.socket.get_inheritable" title="socket.socket.get_inheritable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">socket.socket.get_inheritable()</span></code></a>, <a class="reference internal" href="../library/socket.html#socket.socket.set_inheritable" title="socket.socket.set_inheritable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">socket.socket.set_inheritable()</span></code></a></p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-138"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0446"><strong>PEP 446</strong></a> – Hacer que los descriptores de archivo recién creados no sean heredables</dt><dd><p>PEP escrito y aplicado por Victor Stinner.</p>
</dd>
</dl>
</div>
</section>
<section id="improvements-to-codec-handling">
<span id="codec-handling-improvements"></span><h3>Mejoras en el manejo de códecs<a class="headerlink" href="#improvements-to-codec-handling" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Desde que se introdujo por primera vez, el módulo <a class="reference internal" href="../library/codecs.html#module-codecs" title="codecs: Encode and decode data and streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">codecs</span></code></a> siempre ha pretendido funcionar como un sistema de codificación y decodificación dinámica de tipo neutro. Sin embargo, su estrecho acoplamiento con el modelo de texto de Python, especialmente los métodos de conveniencia restringidos a los tipos <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> y <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>, ha ocultado históricamente este hecho.</p>
<p>Como paso clave para aclarar la situación, las funciones de conveniencia <a class="reference internal" href="../library/codecs.html#codecs.encode" title="codecs.encode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">codecs.encode()</span></code></a> y <a class="reference internal" href="../library/codecs.html#codecs.decode" title="codecs.decode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">codecs.decode()</span></code></a> están ahora debidamente documentadas en Python 2.7, 3.3 y 3.4. Estas funciones han existido en el módulo <a class="reference internal" href="../library/codecs.html#module-codecs" title="codecs: Encode and decode data and streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">codecs</span></code></a> (y han sido cubiertas por el conjunto de pruebas de regresión) desde Python 2.4, pero anteriormente sólo se podían descubrir a través de la introspección en tiempo de ejecución.</p>
<p>A diferencia de los métodos de conveniencia de <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> y <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>, las funciones de conveniencia de <a class="reference internal" href="../library/codecs.html#module-codecs" title="codecs: Encode and decode data and streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">codecs</span></code></a> soportan codificaciones arbitrarias tanto en Python 2 como en Python 3, en lugar de limitarse a codificaciones de texto Unicode (en Python 3) o a &lt;-&gt;conversiones de <code class="docutils literal notranslate"><span class="pre">basestring</span></code> (en Python 2).</p>
<p>En Python 3.4, el intérprete es capaz de identificar las codificaciones no textuales conocidas proporcionadas en la biblioteca estándar y dirigir a los usuarios hacia estas funciones de conveniencia de propósito general cuando sea apropiado:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="sa">b</span><span class="s2">&quot;abcdef&quot;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">LookupError</span>: <span class="n">&#39;hex&#39; is not a text encoding; use codecs.decode() to handle arbitrary codecs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;hello&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;rot13&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">LookupError</span>: <span class="n">&#39;rot13&#39; is not a text encoding; use codecs.encode() to handle arbitrary codecs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;foo.txt&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">LookupError</span>: <span class="n">&#39;hex&#39; is not a text encoding; use codecs.open() to handle arbitrary codecs</span>
</pre></div>
</div>
<p>En un cambio relacionado, siempre que sea factible sin romper la compatibilidad con versiones anteriores, las excepciones planteadas durante las operaciones de codificación y decodificación se envuelven en una excepción encadenada del mismo tipo que menciona el nombre del códec responsable de producir el error:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">codecs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">codecs</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;abcdefgh&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;/usr/lib/python3.4/encodings/hex_codec.py&quot;</span>, line <span class="m">20</span>, in <span class="n">hex_decode</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">a2b_hex</span><span class="p">(</span><span class="nb">input</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">))</span>
<span class="gr">binascii.Error</span>: <span class="n">Non-hexadecimal digit found</span>

<span class="go">The above exception was the direct cause of the following exception:</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">binascii.Error</span>: <span class="n">decoding with &#39;hex&#39; codec failed (Error: Non-hexadecimal digit found)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;bz2&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;/usr/lib/python3.4/encodings/bz2_codec.py&quot;</span>, line <span class="m">17</span>, in <span class="n">bz2_encode</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">bz2</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="nb">input</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">))</span>
  File <span class="nb">&quot;/usr/lib/python3.4/bz2.py&quot;</span>, line <span class="m">498</span>, in <span class="n">compress</span>
    <span class="k">return</span> <span class="n">comp</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="n">comp</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="gr">TypeError</span>: <span class="n">&#39;str&#39; does not support the buffer interface</span>

<span class="go">The above exception was the direct cause of the following exception:</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">encoding with &#39;bz2&#39; codec failed (TypeError: &#39;str&#39; does not support the buffer interface)</span>
</pre></div>
</div>
<p>Por último, como muestran los ejemplos anteriores, estas mejoras han permitido restaurar los alias de conveniencia para los códecs no Unicode que fueron restaurados a su vez en Python 3.2. Esto significa que la codificación de datos binarios a y desde su representación hexadecimal (por ejemplo) puede escribirse ahora como:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">codecs</span> <span class="kn">import</span> <span class="n">encode</span><span class="p">,</span> <span class="n">decode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encode</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="go">b&#39;68656c6c6f&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;68656c6c6f&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="go">b&#39;hello&#39;</span>
</pre></div>
</div>
<p>Las transformaciones binarias y de texto proporcionadas en la biblioteca estándar se detallan en <a class="reference internal" href="../library/codecs.html#binary-transforms"><span class="std std-ref">Transformaciones Binarias</span></a> y <a class="reference internal" href="../library/codecs.html#text-transforms"><span class="std std-ref">Transformaciones de texto</span></a>.</p>
<p>(Contribución de Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=7475">bpo-7475</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17827">bpo-17827</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17828">bpo-17828</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19619">bpo-19619</a>)</p>
</section>
<section id="pep-451-a-modulespec-type-for-the-import-system">
<span id="whatsnew-pep-451"></span><h3>PEP 451: Un tipo ModuleSpec para el sistema de importación<a class="headerlink" href="#pep-451-a-modulespec-type-for-the-import-system" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-139"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0451"><strong>PEP 451</strong></a> proporciona una encapsulación de la información sobre un módulo que la maquinaria de importación utilizará para cargarlo (es decir, una especificación del módulo).  Esto ayuda a simplificar tanto la implementación de la importación como varias APIs relacionadas con la importación. El cambio es también un peldaño para <a class="reference external" href="https://mail.python.org/pipermail/python-dev/2013-November/130111.html">varias mejoras futuras relacionadas con la importación</a>.</p>
<p>Los cambios públicos del PEP son totalmente compatibles con las versiones anteriores. Además, deberían ser transparentes para todos, excepto para los autores de los importadores.  Los métodos del buscador y del cargador de claves han quedado obsoletos, pero seguirán funcionando. Los nuevos importadores deben utilizar los nuevos métodos descritos en el PEP.  Los importadores existentes deben ser actualizados para implementar los nuevos métodos.  Consulte la sección <a class="reference internal" href="#deprecated-3-4"><span class="std std-ref">Obsoleto</span></a> para obtener una lista de los métodos que deben ser reemplazados y sus sustituciones.</p>
</section>
<section id="other-language-changes">
<h3>Otros cambios de lenguaje<a class="headerlink" href="#other-language-changes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Algunos de los cambios mas pequeños hechos al núcleo del lenguaje de Python son:</p>
<ul class="simple">
<li><p>Base de datos Unicode actualizada a la versión 6.3 de UCD.</p></li>
<li><p><a class="reference internal" href="../library/functions.html#min" title="min"><code class="xref py py-func docutils literal notranslate"><span class="pre">min()</span></code></a> y <a class="reference internal" href="../library/functions.html#max" title="max"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a> aceptan ahora un argumento <em>por defecto</em> que puede utilizarse para especificar el valor que devuelven si el iterable que están evaluando no tiene elementos.  (Contribuido por Julian Berman en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18111">bpo-18111</a>.)</p></li>
<li><p>Los objetos del módulo son ahora <a class="reference internal" href="../library/weakref.html#module-weakref" title="weakref: Support for weak references and weak dictionaries."><code class="xref py py-mod docutils literal notranslate"><span class="pre">weakref</span></code></a>’able.</p></li>
<li><p>Los atributos del módulo <code class="docutils literal notranslate"><span class="pre">file__</span></code> (y los valores relacionados) deberían ahora contener siempre rutas absolutas por defecto, con la única excepción de <code class="docutils literal notranslate"><span class="pre">main__.__file__</span></code> cuando un script ha sido ejecutado directamente usando una ruta relativa.  (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18416">bpo-18416</a>.)</p></li>
<li><p>Todos los códecs UTF-* (excepto UTF-7) rechazan ahora los sustitutos tanto durante la codificación como la decodificación, a menos que se utilice el controlador de errores <code class="docutils literal notranslate"><span class="pre">surrogatepass</span></code>, con la excepción del decodificador UTF-16 (que acepta pares de sustitutos válidos) y el codificador UTF-16 (que los produce al codificar caracteres no BMP). (Contribución de Victor Stinner, Kang-Hao (Kenny) Lu y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12892">bpo-12892</a>)</p></li>
<li><p>Nuevo EBCDIC alemán <a class="reference internal" href="../library/codecs.html#standard-encodings"><span class="std std-ref">codec</span></a> <code class="docutils literal notranslate"><span class="pre">cp273</span></code>.  (Contribución de Michael Bierenfeld y Andrew Kuchling en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1097797">bpo-1097797</a>)</p></li>
<li><p>Nuevo Ucraniano <a class="reference internal" href="../library/codecs.html#standard-encodings"><span class="std std-ref">codec</span></a> <code class="docutils literal notranslate"><span class="pre">cp1125</span></code> (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19668">bpo-19668</a>.)</p></li>
<li><p><a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.join() y <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>.join() aceptan ahora objetos buffer arbitrarios como argumentos.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15958">bpo-15958</a>.)</p></li>
<li><p>El constructor de <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> ahora acepta cualquier objeto que tenga un método <code class="docutils literal notranslate"><span class="pre">index__</span></code> para su argumento <em>base</em>.  (Contribuido por Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16772">bpo-16772</a>.)</p></li>
<li><p>Los objetos Frame tienen ahora un método <a class="reference internal" href="../reference/datamodel.html#frame.clear" title="frame.clear"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear()</span></code></a> que borra todas las referencias a las variables locales del frame.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17934">bpo-17934</a>.)</p></li>
<li><p><a class="reference internal" href="../library/stdtypes.html#memoryview" title="memoryview"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a> está ahora registrada como <a class="reference internal" href="../library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>, y soporta el builtin <a class="reference internal" href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a>.  (Contribución de Nick Coghlan y Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18690">bpo-18690</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19078">bpo-19078</a>)</p></li>
<li><p>Las firmas reportadas por <a class="reference internal" href="../library/functions.html#help" title="help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a> han sido modificadas y mejoradas en varios casos como resultado de la introducción de Argument Clinic y otros cambios en los módulos <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> y <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a>.</p></li>
<li><p><a class="reference internal" href="../reference/datamodel.html#object.__length_hint__" title="object.__length_hint__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__length_hint__()</span></code></a> es ahora parte de la especificación formal del lenguaje (ver <span class="target" id="index-140"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0424"><strong>PEP 424</strong></a>).  (Contribuido por Armin Ronacher en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16148">bpo-16148</a>.)</p></li>
</ul>
</section>
</section>
<section id="new-modules">
<h2>Nuevos Módulos<a class="headerlink" href="#new-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="asyncio">
<span id="whatsnew-asyncio"></span><h3>asyncio<a class="headerlink" href="#asyncio" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> (definido en <span class="target" id="index-141"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3156"><strong>PEP 3156</strong></a>) proporciona un modelo de bucle de eventos enchufable estándar para Python, proporcionando un sólido soporte de IO asíncrono en la biblioteca estándar, y facilitando que otras implementaciones de bucle de eventos interoperen con la biblioteca estándar y entre sí.</p>
<p>Para Python 3.4, este módulo se considera un <a class="reference internal" href="../glossary.html#term-provisional-API"><span class="xref std std-term">provisional API</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-142"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3156"><strong>PEP 3156</strong></a> – Soporte de IO asíncrono reiniciado: el módulo «asyncio</dt><dd><p>PEP redactado y ejecutado por Guido van Rossum.</p>
</dd>
</dl>
</div>
</section>
<section id="ensurepip">
<span id="whatsnew-ensurepip"></span><h3>ensurepip<a class="headerlink" href="#ensurepip" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a> es la infraestructura principal para la implementación de <span class="target" id="index-143"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>.  En el curso normal de los acontecimientos, los usuarios finales no necesitarán interactuar con este módulo, pero puede utilizarse para arrancar manualmente <code class="docutils literal notranslate"><span class="pre">pip</span></code> si se rechaza el arranque automático en una instalación o entorno virtual.</p>
<p><a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a> incluye una copia de <code class="docutils literal notranslate"><span class="pre">pip</span></code>, actualizada a partir de la primera versión candidata de la versión de CPython con la que se envía (esto se aplica tanto a las versiones de mantenimiento como a las versiones de características).  <code class="docutils literal notranslate"><span class="pre">ensurepip</span></code> no tiene acceso a Internet.  Si la instalación tiene acceso a Internet, después de ejecutar <code class="docutils literal notranslate"><span class="pre">ensurepip</span></code> se puede utilizar el paquete <code class="docutils literal notranslate"><span class="pre">pip</span></code> para actualizar <code class="docutils literal notranslate"><span class="pre">pip</span></code> a una versión más reciente que la incluida.  (Ten en cuenta que esa versión actualizada de <code class="docutils literal notranslate"><span class="pre">pip</span></code> se considera un paquete instalado por separado y no se eliminará si se desinstala Python)</p>
<p>El módulo se llama <em>ensure</em> pip porque si se llama cuando <code class="docutils literal notranslate"><span class="pre">pip</span></code> ya está instalado, no hace nada.  También tiene una opción <code class="docutils literal notranslate"><span class="pre">--upgrade</span></code> que hará que se instale la copia incluida de <code class="docutils literal notranslate"><span class="pre">pip</span></code> si la versión instalada de <code class="docutils literal notranslate"><span class="pre">pip</span></code> es más antigua que la copia incluida.</p>
</section>
<section id="enum">
<span id="whatsnew-enum"></span><h3>enum<a class="headerlink" href="#enum" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/enum.html#module-enum" title="enum: Implementation of an enumeration class."><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a> (definido en <span class="target" id="index-144"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0435"><strong>PEP 435</strong></a>) proporciona una implementación estándar de los tipos de enumeración, lo que permite a otros módulos (como <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a>) proporcionar mensajes de error más informativos y un mejor soporte de depuración al sustituir las constantes enteras opacas por valores de enumeración compatibles con versiones anteriores.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-145"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0435"><strong>PEP 435</strong></a> – Añadir un tipo Enum a la biblioteca estándar de Python</dt><dd><p>PEP escrito por Barry Warsaw, Eli Bendersky y Ethan Furman, implementado por Ethan Furman.</p>
</dd>
</dl>
</div>
</section>
<section id="pathlib">
<span id="whatsnew-pathlib"></span><h3>pathlib<a class="headerlink" href="#pathlib" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/pathlib.html#module-pathlib" title="pathlib: Object-oriented filesystem paths"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pathlib</span></code></a> ofrece clases que representan las rutas del sistema de ficheros con una semántica apropiada para diferentes sistemas operativos.  Las clases de rutas se dividen entre <em>rutas puras</em>, que proporcionan operaciones puramente computacionales sin E/S, y <em>rutas concretas</em>, que heredan de las rutas puras pero también proporcionan operaciones de E/S.</p>
<p>Para Python 3.4, este módulo se considera un <a class="reference internal" href="../glossary.html#term-provisional-API"><span class="xref std std-term">provisional API</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-146"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0428"><strong>PEP 428</strong></a> – El módulo pathlib – rutas del sistema de archivos orientadas a objetos</dt><dd><p>PEP escrito y aplicado por Antoine Pitrou.</p>
</dd>
</dl>
</div>
</section>
<section id="selectors">
<span id="whatsnew-selectors"></span><h3>selectores<a class="headerlink" href="#selectors" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/selectors.html#module-selectors" title="selectors: High-level I/O multiplexing."><code class="xref py py-mod docutils literal notranslate"><span class="pre">selectors</span></code></a> (creado como parte de la implementación de <span class="target" id="index-147"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3156"><strong>PEP 3156</strong></a>) permite una multiplexación de E/S eficiente y de alto nivel, construida sobre las primitivas del módulo <a class="reference internal" href="../library/select.html#module-select" title="select: Wait for I/O completion on multiple streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">select</span></code></a>.</p>
</section>
<section id="statistics">
<span id="whatsnew-statistics"></span><h3>estadísticas<a class="headerlink" href="#statistics" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/statistics.html#module-statistics" title="statistics: Mathematical statistics functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statistics</span></code></a> (definido en <span class="target" id="index-148"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0450"><strong>PEP 450</strong></a>) ofrece algunas funciones estadísticas básicas directamente en la biblioteca estándar. Este módulo permite calcular la media, la mediana, la moda, la varianza y la desviación estándar de una serie de datos.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-149"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0450"><strong>PEP 450</strong></a> – Añadir un módulo de estadísticas a la biblioteca estándar</dt><dd><p>PEP escrito y aplicado por Steven D’Aprano</p>
</dd>
</dl>
</div>
</section>
<section id="tracemalloc">
<span id="whatsnew-tracemalloc"></span><h3>tracemalloc<a class="headerlink" href="#tracemalloc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo módulo <a class="reference internal" href="../library/tracemalloc.html#module-tracemalloc" title="tracemalloc: Trace memory allocations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracemalloc</span></code></a> (definido en <span class="target" id="index-150"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0454"><strong>PEP 454</strong></a>) es una herramienta de depuración para rastrear los bloques de memoria asignados por Python. Proporciona la siguiente información:</p>
<ul class="simple">
<li><p>Rastrear dónde se asignó un objeto</p></li>
<li><p>Estadísticas sobre los bloques de memoria asignados por nombre de archivo y por número de línea: tamaño total, número y tamaño medio de los bloques de memoria asignados</p></li>
<li><p>Calcular las diferencias entre dos instantáneas para detectar fugas de memoria</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-151"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0454"><strong>PEP 454</strong></a> – Añade un nuevo módulo tracemalloc para rastrear las asignaciones de memoria de Python</dt><dd><p>PEP escrito y aplicado por Victor Stinner</p>
</dd>
</dl>
</div>
</section>
</section>
<section id="improved-modules">
<h2>Módulos mejorados<a class="headerlink" href="#improved-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="abc">
<h3>abc<a class="headerlink" href="#abc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/abc.html#abc.get_cache_token" title="abc.get_cache_token"><code class="xref py py-func docutils literal notranslate"><span class="pre">abc.get_cache_token()</span></code></a> puede utilizarse para saber cuándo invalidar las cachés que se ven afectadas por cambios en el gráfico de objetos.  (Contribuido por Łukasz Langa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16832">bpo-16832</a>.)</p>
<p>La nueva clase <a class="reference internal" href="../library/abc.html#abc.ABC" title="abc.ABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a> tiene <a class="reference internal" href="../library/abc.html#abc.ABCMeta" title="abc.ABCMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABCMeta</span></code></a> como metaclase. Usar <code class="docutils literal notranslate"><span class="pre">ABC</span></code> como clase base tiene esencialmente el mismo efecto que especificar <code class="docutils literal notranslate"><span class="pre">metaclass=abc.ABCMeta</span></code>, pero es más sencillo de escribir y más fácil de leer. (Contribuido por Bruno Dupuis en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16049">bpo-16049</a>.)</p>
</section>
<section id="aifc">
<h3>aifc<a class="headerlink" href="#aifc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <a class="reference internal" href="../library/aifc.html#aifc.aifc.getparams" title="aifc.aifc.getparams"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getparams()</span></code></a> devuelve ahora una tupla con nombre en lugar de una tupla simple.  (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17818">bpo-17818</a>.)</p>
<p><a class="reference internal" href="../library/aifc.html#aifc.open" title="aifc.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">aifc.open()</span></code></a> ahora soporta el protocolo de gestión de contexto: cuando se utiliza en un bloque <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, el método <a class="reference internal" href="../library/aifc.html#aifc.aifc.close" title="aifc.aifc.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> del objeto devuelto será llamado automáticamente al final del bloque.  (Contribuido por Serhiy Storchacha en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16486">bpo-16486</a>.)</p>
<p>Los métodos <a class="reference internal" href="../library/aifc.html#aifc.aifc.writeframesraw" title="aifc.aifc.writeframesraw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframesraw()</span></code></a> y <a class="reference internal" href="../library/aifc.html#aifc.aifc.writeframes" title="aifc.aifc.writeframes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframes()</span></code></a> aceptan ahora cualquier <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a>.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8311">bpo-8311</a>.)</p>
</section>
<section id="argparse">
<h3>argparse<a class="headerlink" href="#argparse" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La clase <a class="reference internal" href="../library/argparse.html#argparse.FileType" title="argparse.FileType"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileType</span></code></a> acepta ahora los argumentos <em>encoding</em> y <em>errors</em>, que se pasan a <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>.  (Contribuido por Lucas Maystre en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11175">bpo-11175</a>.)</p>
</section>
<section id="audioop">
<h3>audioop<a class="headerlink" href="#audioop" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/audioop.html#module-audioop" title="audioop: Manipulate raw audio data. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">audioop</span></code></a> ahora soporta muestras de 24 bits.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12866">bpo-12866</a>.)</p>
<p>La nueva función <a class="reference internal" href="../library/audioop.html#audioop.byteswap" title="audioop.byteswap"><code class="xref py py-func docutils literal notranslate"><span class="pre">byteswap()</span></code></a> convierte muestras big-endian en little-endian y viceversa.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19641">bpo-19641</a>.)</p>
<p>Todas las funciones <a class="reference internal" href="../library/audioop.html#module-audioop" title="audioop: Manipulate raw audio data. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">audioop</span></code></a> aceptan ahora cualquier <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a>.  No se aceptan cadenas: antes no funcionaban, ahora dan un error de inmediato. (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16685">bpo-16685</a>.)</p>
</section>
<section id="base64">
<h3>base64<a class="headerlink" href="#base64" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las funciones de codificación y decodificación de <a class="reference internal" href="../library/base64.html#module-base64" title="base64: RFC 4648: Base16, Base32, Base64 Data Encodings; Base85 and Ascii85"><code class="xref py py-mod docutils literal notranslate"><span class="pre">base64</span></code></a> aceptan ahora cualquier <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> en los casos en que antes se requería una instancia de <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> o <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>.  (Contribución de Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17839">bpo-17839</a>.)</p>
<p>Las nuevas funciones <a class="reference internal" href="../library/base64.html#base64.a85encode" title="base64.a85encode"><code class="xref py py-func docutils literal notranslate"><span class="pre">a85encode()</span></code></a>, <a class="reference internal" href="../library/base64.html#base64.a85decode" title="base64.a85decode"><code class="xref py py-func docutils literal notranslate"><span class="pre">a85decode()</span></code></a>, <a class="reference internal" href="../library/base64.html#base64.b85encode" title="base64.b85encode"><code class="xref py py-func docutils literal notranslate"><span class="pre">b85encode()</span></code></a>, y <a class="reference internal" href="../library/base64.html#base64.b85decode" title="base64.b85decode"><code class="xref py py-func docutils literal notranslate"><span class="pre">b85decode()</span></code></a> proporcionan la capacidad de codificar y decodificar datos binarios desde y hacia los formatos <code class="docutils literal notranslate"><span class="pre">Ascii85</span></code> y git/mercurial <code class="docutils literal notranslate"><span class="pre">Base85</span></code>, respectivamente.  Las funciones <code class="docutils literal notranslate"><span class="pre">a85</span></code> tienen opciones que se pueden utilizar para hacerlas compatibles con las variantes de la codificación <code class="docutils literal notranslate"><span class="pre">Ascii85</span></code>, incluyendo la variante de Adobe.  (Contribuido por Martin Morrison, el proyecto Mercurial, Serhiy Storchaka y Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17618">bpo-17618</a>)</p>
</section>
<section id="collections">
<h3>colecciones<a class="headerlink" href="#collections" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <a class="reference internal" href="../library/collections.html#collections.ChainMap.new_child" title="collections.ChainMap.new_child"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ChainMap.new_child()</span></code></a> acepta ahora un argumento <em>m</em> que especifica el mapa hijo a añadir a la cadena.  Esto permite utilizar un mapa existente y/o un tipo de mapa personalizado para el hijo.  (Contribuido por Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16613">bpo-16613</a>.)</p>
</section>
<section id="colorsys">
<h3>colorsys<a class="headerlink" href="#colorsys" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El número de dígitos en los coeficientes para las conversiones RGB — YIQ se ha ampliado para que coincidan con las versiones FCC NTSC.  El cambio en los resultados debería ser inferior al 1% a y puede coincidir mejor con los resultados encontrados en otros lugares. (Contribución de Brian Landers y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14323">bpo-14323</a>.)</p>
</section>
<section id="contextlib">
<h3>contextlib<a class="headerlink" href="#contextlib" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo gestor de contexto <a class="reference internal" href="../library/contextlib.html#contextlib.suppress" title="contextlib.suppress"><code class="xref py py-class docutils literal notranslate"><span class="pre">contextlib.suppress</span></code></a> ayuda a clarificar la intención del código que suprime deliberadamente las excepciones de una única sentencia.  (Contribuido por Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15806">bpo-15806</a> y Zero Piraeus en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19266">bpo-19266</a>)</p>
<p>El nuevo gestor de contexto <a class="reference internal" href="../library/contextlib.html#contextlib.redirect_stdout" title="contextlib.redirect_stdout"><code class="xref py py-func docutils literal notranslate"><span class="pre">contextlib.redirect_stdout()</span></code></a> facilita a los scripts de utilidades el manejo de APIs inflexibles que escriben su salida en <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> y no proporcionan ninguna opción para redirigirla.  Usando el gestor de contexto, la salida de <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> puede ser redirigida a cualquier otro flujo o, junto con <a class="reference internal" href="../library/io.html#io.StringIO" title="io.StringIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.StringIO</span></code></a>, a una cadena. Esto último puede ser especialmente útil, por ejemplo, para capturar la salida de una función escrita para implementar una interfaz de línea de comandos. Se recomienda sólo para scripts de utilidad porque afecta al estado global de <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a>.  (Contribuido por Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15805">bpo-15805</a>.)</p>
<p>También se ha actualizado la documentación de <a class="reference internal" href="../library/contextlib.html#module-contextlib" title="contextlib: Utilities for with-statement contexts."><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextlib</span></code></a> para incluir una <a class="reference internal" href="../library/contextlib.html#single-use-reusable-and-reentrant-cms"><span class="std std-ref">discusión</span></a> de las diferencias entre gestores de contexto de un solo uso, reutilizables y reentrantes.</p>
</section>
<section id="dbm">
<h3>dbm<a class="headerlink" href="#dbm" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Los objetos <a class="reference internal" href="../library/dbm.html#dbm.open" title="dbm.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">dbm.open()</span></code></a> soportan ahora el protocolo de gestión de contexto.  Cuando se utiliza en una sentencia <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, el método <code class="docutils literal notranslate"><span class="pre">close</span></code> del objeto de base de datos será llamado automáticamente al final del bloque.  (Contribución de Claudiu Popa y Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19282">bpo-19282</a>)</p>
</section>
<section id="dis">
<h3>dis<a class="headerlink" href="#dis" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las funciones <a class="reference internal" href="../library/dis.html#dis.show_code" title="dis.show_code"><code class="xref py py-func docutils literal notranslate"><span class="pre">show_code()</span></code></a>, <a class="reference internal" href="../library/dis.html#dis.dis" title="dis.dis"><code class="xref py py-func docutils literal notranslate"><span class="pre">dis()</span></code></a>, <a class="reference internal" href="../library/dis.html#dis.distb" title="dis.distb"><code class="xref py py-func docutils literal notranslate"><span class="pre">distb()</span></code></a>, y <a class="reference internal" href="../library/dis.html#dis.disassemble" title="dis.disassemble"><code class="xref py py-func docutils literal notranslate"><span class="pre">disassemble()</span></code></a> aceptan ahora un argumento de <em>archivo</em> que controla dónde escriben su salida.</p>
<p>El módulo <a class="reference internal" href="../library/dis.html#module-dis" title="dis: Disassembler for Python bytecode."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dis</span></code></a> se construye ahora en torno a una clase <a class="reference internal" href="../library/dis.html#dis.Instruction" title="dis.Instruction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instruction</span></code></a> que proporciona acceso orientado a objetos a los detalles de cada operación individual del código de bytes.</p>
<p>Un nuevo método, <a class="reference internal" href="../library/dis.html#dis.get_instructions" title="dis.get_instructions"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_instructions()</span></code></a>, proporciona un iterador que emite el flujo de instrucciones para un trozo de código Python dado.  Por lo tanto, ahora es posible escribir un programa que inspeccione y manipule un objeto de código de bytes de forma diferente a la proporcionada por el propio módulo <a class="reference internal" href="../library/dis.html#module-dis" title="dis: Disassembler for Python bytecode."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dis</span></code></a>.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">instr</span> <span class="ow">in</span> <span class="n">dis</span><span class="o">.</span><span class="n">get_instructions</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">instr</span><span class="o">.</span><span class="n">opname</span><span class="p">)</span>
<span class="go">LOAD_FAST</span>
<span class="go">LOAD_CONST</span>
<span class="go">BINARY_ADD</span>
<span class="go">RETURN_VALUE</span>
</pre></div>
</div>
<p>Las distintas herramientas de visualización del módulo <a class="reference internal" href="../library/dis.html#module-dis" title="dis: Disassembler for Python bytecode."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dis</span></code></a> se han reescrito para utilizar estos nuevos componentes.</p>
<p>Además, una nueva clase de fácil aplicación <a class="reference internal" href="../library/dis.html#dis.Bytecode" title="dis.Bytecode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bytecode</span></code></a> proporciona una API orientada a objetos para inspeccionar el código de bytes tanto en forma legible para el ser humano como para iterar sobre las instrucciones.  El constructor <a class="reference internal" href="../library/dis.html#dis.Bytecode" title="dis.Bytecode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bytecode</span></code></a> toma los mismos argumentos que <code class="xref py py-func docutils literal notranslate"><span class="pre">get_instruction()</span></code> (más un <em>desplazamiento actual</em> opcional), y el objeto resultante puede ser iterado para producir objetos <a class="reference internal" href="../library/dis.html#dis.Instruction" title="dis.Instruction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instruction</span></code></a>.  Pero también tiene un método <a class="reference internal" href="../library/dis.html#dis.Bytecode.dis" title="dis.Bytecode.dis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dis</span></code></a>, equivalente a llamar a <a class="reference internal" href="../library/dis.html#dis.dis" title="dis.dis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dis</span></code></a> en el argumento del constructor, pero devuelto como una cadena de varias líneas:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bytecode</span> <span class="o">=</span> <span class="n">dis</span><span class="o">.</span><span class="n">Bytecode</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">current_offset</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">instr</span> <span class="ow">in</span> <span class="n">bytecode</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> (</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instr</span><span class="o">.</span><span class="n">opname</span><span class="p">,</span> <span class="n">instr</span><span class="o">.</span><span class="n">opcode</span><span class="p">))</span>
<span class="go">LOAD_FAST (124)</span>
<span class="go">LOAD_CONST (100)</span>
<span class="go">BINARY_ADD (23)</span>
<span class="go">RETURN_VALUE (83)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytecode</span><span class="o">.</span><span class="n">dis</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>       
<span class="go">[&#39;  1           0 LOAD_FAST                0 (x)&#39;,</span>
<span class="go"> &#39;      --&gt;     3 LOAD_CONST               1 (1)&#39;,</span>
<span class="go"> &#39;              6 BINARY_ADD&#39;,</span>
<span class="go"> &#39;              7 RETURN_VALUE&#39;]</span>
</pre></div>
</div>
<p><a class="reference internal" href="../library/dis.html#dis.Bytecode" title="dis.Bytecode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bytecode</span></code></a> también tiene un método de clase, <a class="reference internal" href="../library/dis.html#dis.Bytecode.from_traceback" title="dis.Bytecode.from_traceback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_traceback()</span></code></a>, que proporciona la capacidad de manipular un traceback (es decir, <code class="docutils literal notranslate"><span class="pre">print(Bytecode.from_traceback(tb).dis())</span></code> es equivalente a <code class="docutils literal notranslate"><span class="pre">distb(tb)</span></code>).</p>
<p>(Contribución de Nick Coghlan, Ryan Kelly y Thomas Kluyver en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11816">bpo-11816</a> y Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17916">bpo-17916</a>)</p>
<p>La nueva función <a class="reference internal" href="../library/dis.html#dis.stack_effect" title="dis.stack_effect"><code class="xref py py-func docutils literal notranslate"><span class="pre">stack_effect()</span></code></a> calcula el efecto en la pila de Python de un opcode y un argumento dados, información que no está disponible de otro modo. (Contribuido por Larry Hastings en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19722">bpo-19722</a>.)</p>
</section>
<section id="doctest">
<h3>doctest<a class="headerlink" href="#doctest" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una nueva <a class="reference internal" href="../library/doctest.html#doctest-options"><span class="std std-ref">flag de opción</span></a>, <a class="reference internal" href="../library/doctest.html#doctest.FAIL_FAST" title="doctest.FAIL_FAST"><code class="xref py py-data docutils literal notranslate"><span class="pre">FAIL_FAST</span></code></a>, detiene la ejecución de la prueba tan pronto como se detecta el primer fallo.  (Contribuido por R. David Murray y Daniel Urban en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16522">bpo-16522</a>.)</p>
<p>La interfaz de línea de comandos de <a class="reference internal" href="../library/doctest.html#module-doctest" title="doctest: Test pieces of code within docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a> utiliza ahora <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a>, y tiene dos nuevas opciones, <code class="docutils literal notranslate"><span class="pre">-</span></code> y <code class="docutils literal notranslate"><span class="pre">-f</span></code>.  <code class="docutils literal notranslate"><span class="pre">-o</span></code> permite &lt;doctest-options&gt; especificar las opciones de <a class="reference internal" href="../library/doctest.html#doctest-options"><span class="std std-ref">opciones doctest</span></a> en la línea de órdenes, y <code class="docutils literal notranslate"><span class="pre">-f</span></code> es una abreviatura de <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">FAIL_FAST</span></code> (en paralelo a la opción similar soportada por el CLI de <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a>).  (Contribuido por R. David Murray en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11390">bpo-11390</a>.)</p>
<p><a class="reference internal" href="../library/doctest.html#module-doctest" title="doctest: Test pieces of code within docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a> ahora encontrará doctests en las cadenas del módulo de extensión <code class="docutils literal notranslate"><span class="pre">doc__</span></code>. (Contribuido por Zachary Ware en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3158">bpo-3158</a>.)</p>
</section>
<section id="email">
<h3>email<a class="headerlink" href="#email" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/email.compat32-message.html#email.message.Message.as_string" title="email.message.Message.as_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_string()</span></code></a> acepta ahora un argumento <em>policy</em> para anular la política por defecto del mensaje al generar una representación de cadena del mismo.  Esto significa que <code class="docutils literal notranslate"><span class="pre">as_string</span></code> puede utilizarse en más circunstancias, en lugar de tener que crear y utilizar un <a class="reference internal" href="../library/email.generator.html#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code class="xref py py-mod docutils literal notranslate"><span class="pre">generator</span></code></a> para pasar parámetros de formato a su método <code class="docutils literal notranslate"><span class="pre">flatten</span></code>.  (Contribuido por R. David Murray en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18600">bpo-18600</a>.)</p>
<p>Nuevo método <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message.as_bytes" title="email.message.Message.as_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_bytes()</span></code></a> añadido para producir una representación en bytes del mensaje de forma similar a como <code class="docutils literal notranslate"><span class="pre">as_string</span></code> produce una representación en cadena.  No acepta el argumento <em>maxheaderlen</em>, pero sí los argumentos <em>unixfrom</em> y <em>policy</em>. El método <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message.__bytes__" title="email.message.Message.__bytes__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__bytes__()</span></code></a> lo llama, lo que significa que <code class="docutils literal notranslate"><span class="pre">bytes(mymsg)</span></code> producirá ahora el resultado intuitivo: un objeto bytes que contiene el mensaje completamente formateado.  (Contribuido por R. David Murray en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18600">bpo-18600</a>.)</p>
<p>El mensaje <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message.set_param" title="email.message.Message.set_param"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Message.set_param()</span></code></a> acepta ahora un argumento de palabra clave <em>replace</em>. Cuando se especifica, la cabecera asociada se actualizará sin cambiar su ubicación en la lista de cabeceras.  Por compatibilidad, el valor por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>.  (Contribuido por R. David Murray en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18891">bpo-18891</a>.)</p>
<p id="whatsnew-email-contentmanager">Se han añadido un par de nuevas subclases de <a class="reference internal" href="../library/email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> (<a class="reference internal" href="../library/email.message.html#email.message.EmailMessage" title="email.message.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> y <a class="reference internal" href="../library/email.message.html#email.message.MIMEPart" title="email.message.MIMEPart"><code class="xref py py-class docutils literal notranslate"><span class="pre">MIMEPart</span></code></a>), junto con un nuevo submódulo, <a class="reference internal" href="../library/email.contentmanager.html#module-email.contentmanager" title="email.contentmanager: Storing and Retrieving Content from MIME Parts"><code class="xref py py-mod docutils literal notranslate"><span class="pre">contentmanager</span></code></a> y un nuevo atributo <a class="reference internal" href="../library/email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> <a class="reference internal" href="../library/email.policy.html#email.policy.EmailPolicy.content_manager" title="email.policy.EmailPolicy.content_manager"><code class="xref py py-attr docutils literal notranslate"><span class="pre">content_manager</span></code></a>.  Toda la documentación se encuentra actualmente en el nuevo módulo, que se añade como parte del nuevo <a class="reference internal" href="../glossary.html#term-provisional-API"><span class="xref std std-term">provisional API</span></a> de email.  Estas clases proporcionan una serie de nuevos métodos que facilitan la extracción e inserción de contenidos en los mensajes de correo electrónico.  Para más detalles, consulte la documentación de <a class="reference internal" href="../library/email.contentmanager.html#module-email.contentmanager" title="email.contentmanager: Storing and Retrieving Content from MIME Parts"><code class="xref py py-mod docutils literal notranslate"><span class="pre">contentmanager</span></code></a> y la <a class="reference internal" href="../library/email.examples.html#email-examples"><span class="std std-ref">email: Ejemplos</span></a>.  Estas adiciones a la API completan la mayor parte del trabajo que estaba previsto como parte del proyecto email6.  Está previsto que la API, actualmente provisional, se convierta en la definitiva en Python 3.5 (posiblemente con algunos añadidos menores en el área de gestión de errores).  (Contribuido por R. David Murray en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18891">bpo-18891</a>.)</p>
</section>
<section id="filecmp">
<h3>archivoecmp<a class="headerlink" href="#filecmp" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una nueva función <a class="reference internal" href="../library/filecmp.html#filecmp.clear_cache" title="filecmp.clear_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_cache()</span></code></a> ofrece la posibilidad de borrar la caché de comparación <a class="reference internal" href="../library/filecmp.html#module-filecmp" title="filecmp: Compare files efficiently."><code class="xref py py-mod docutils literal notranslate"><span class="pre">filecmp</span></code></a>, que utiliza la información de <a class="reference internal" href="../library/os.html#os.stat" title="os.stat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat()</span></code></a> para determinar si el fichero ha cambiado desde la última comparación.  Esto puede usarse, por ejemplo, si el archivo puede haber sido modificado y vuelto a comprobar en menos tiempo que la resolución del campo de tiempo de modificación de un archivo del sistema de archivos en particular. (Contribuido por Mark Levitt en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18149">bpo-18149</a>.)</p>
<p>El nuevo atributo del módulo <a class="reference internal" href="../library/filecmp.html#filecmp.DEFAULT_IGNORES" title="filecmp.DEFAULT_IGNORES"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_IGNORES</span></code></a> proporciona la lista de directorios que se utilizan como valor por defecto para el parámetro <em>ignore</em> de la función <a class="reference internal" href="../library/filecmp.html#filecmp.dircmp" title="filecmp.dircmp"><code class="xref py py-func docutils literal notranslate"><span class="pre">dircmp()</span></code></a>.  (Contribuido por Eli Bendersky en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15442">bpo-15442</a>.)</p>
</section>
<section id="functools">
<h3>functools<a class="headerlink" href="#functools" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El nuevo descriptor <a class="reference internal" href="../library/functools.html#functools.partialmethod" title="functools.partialmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">partialmethod()</span></code></a> aporta la aplicación de argumentos parciales a los descriptores, al igual que <a class="reference internal" href="../library/functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a> proporciona para los callables normales. El nuevo descriptor también facilita la obtención de llamadas arbitrarias (incluyendo instancias de <a class="reference internal" href="../library/functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a>) para que se comporten como métodos de instancia normales cuando se incluyen en la definición de una clase. (Contribución de Alon Horev y Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=4331">bpo-4331</a>)</p>
<p id="whatsnew-singledispatch">El nuevo decorador <a class="reference internal" href="../library/functools.html#functools.singledispatch" title="functools.singledispatch"><code class="xref py py-func docutils literal notranslate"><span class="pre">singledispatch()</span></code></a> aporta soporte para funciones genéricas single-dispatch a la biblioteca estándar de Python. Mientras que la programación orientada a objetos se centra en agrupar múltiples operaciones sobre un conjunto común de datos en una clase, una función genérica se centra en agrupar múltiples implementaciones de una operación que le permite trabajar con <em>diferentes</em> tipos de datos.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-152"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0443"><strong>PEP 443</strong></a> – Funciones genéricas de despacho único</dt><dd><p>PEP escrito e implementado por Łukasz Langa.</p>
</dd>
</dl>
</div>
<p><a class="reference internal" href="../library/functools.html#functools.total_ordering" title="functools.total_ordering"><code class="xref py py-func docutils literal notranslate"><span class="pre">total_ordering()</span></code></a> ahora soporta un valor de retorno de <a class="reference internal" href="../library/constants.html#NotImplemented" title="NotImplemented"><code class="xref py py-const docutils literal notranslate"><span class="pre">NotImplemented</span></code></a> de la función de comparación subyacente.  (Contribuido por Katie Miller en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=10042">bpo-10042</a>.)</p>
<p>Una versión en python puro de la función <a class="reference internal" href="../library/functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">partial()</span></code></a> está ahora en la stdlib; en CPython está anulada por la versión acelerada en C, pero está disponible para que otras implementaciones la usen.  (Contribuido por Brian Thorne en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12428">bpo-12428</a>.)</p>
</section>
<section id="gc">
<h3>gc<a class="headerlink" href="#gc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/gc.html#gc.get_stats" title="gc.get_stats"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_stats()</span></code></a> devuelve una lista de tres diccionarios por generación que contienen las estadísticas de las colecciones desde el inicio del intérprete. (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16351">bpo-16351</a>.)</p>
</section>
<section id="glob">
<h3>glob<a class="headerlink" href="#glob" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una nueva función <a class="reference internal" href="../library/glob.html#glob.escape" title="glob.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">escape()</span></code></a> proporciona una forma de escapar los caracteres especiales de un nombre de archivo para que no formen parte de la expansión globbing sino que se comparen literalmente.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8402">bpo-8402</a>.)</p>
</section>
<section id="hashlib">
<h3>hashlib<a class="headerlink" href="#hashlib" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una nueva función <a class="reference internal" href="../library/hashlib.html#hashlib.pbkdf2_hmac" title="hashlib.pbkdf2_hmac"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashlib.pbkdf2_hmac()</span></code></a> proporciona la función de derivación de clave basada en contraseña <a class="reference external" href="https://en.wikipedia.org/wiki/PBKDF2">PKCS#5 2</a>.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18582">bpo-18582</a>.)</p>
<p>El atributo <a class="reference internal" href="../library/hashlib.html#hashlib.hash.name" title="hashlib.hash.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> de los objetos hash <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> es ahora una interfaz formalmente soportada.  Siempre ha existido en el <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> de CPython (aunque no devolvía nombres en minúsculas para todos los hashes soportados), pero no era una interfaz pública y por eso algunas otras implementaciones de Python no la han soportado previamente.  (Contribuido por Jason R. Coombs en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18532">bpo-18532</a>.)</p>
</section>
<section id="hmac">
<h3>hmac<a class="headerlink" href="#hmac" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/hmac.html#module-hmac" title="hmac: Keyed-Hashing for Message Authentication (HMAC) implementation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hmac</span></code></a> acepta ahora <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> así como <code class="docutils literal notranslate"><span class="pre">bytes</span></code> para el argumento <em>clave</em> de la función <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a>, y el parámetro <em>msg</em> tanto de la función <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a> como del método <a class="reference internal" href="../library/hmac.html#hmac.HMAC.update" title="hmac.HMAC.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a> acepta ahora cualquier tipo soportado por el módulo <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a>.  (Contribuido por Jonas Borgström en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18240">bpo-18240</a>.)</p>
<p>El argumento <em>digestmod</em> de la función <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">hmac.new()</span></code></a> puede ser ahora cualquier nombre de digesto hash reconocido por <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a>.  Además, el comportamiento actual en el que el valor de <em>digestmod</em> por defecto es <code class="docutils literal notranslate"><span class="pre">MD5</span></code> queda obsoleto: en una futura versión de Python no habrá valor por defecto.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17276">bpo-17276</a>.)</p>
<p>Con la adición de los atributos <a class="reference internal" href="../library/hmac.html#hmac.HMAC.block_size" title="hmac.HMAC.block_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">block_size</span></code></a> y <a class="reference internal" href="../library/hmac.html#hmac.HMAC.name" title="hmac.HMAC.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> (y la documentación formal del atributo <a class="reference internal" href="../library/hmac.html#hmac.HMAC.digest_size" title="hmac.HMAC.digest_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">digest_size</span></code></a>), el módulo <a class="reference internal" href="../library/hmac.html#module-hmac" title="hmac: Keyed-Hashing for Message Authentication (HMAC) implementation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hmac</span></code></a> se ajusta ahora plenamente a la API <span class="target" id="index-153"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0247"><strong>PEP 247</strong></a>. (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18775">bpo-18775</a>.)</p>
</section>
<section id="html">
<h3>html<a class="headerlink" href="#html" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/html.html#html.unescape" title="html.unescape"><code class="xref py py-func docutils literal notranslate"><span class="pre">unescape()</span></code></a> convierte las referencias de caracteres de HTML5 en los correspondientes caracteres Unicode.  (Contribuido por Ezio Melotti en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2927">bpo-2927</a>.)</p>
<p><a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a> acepta un nuevo argumento de palabra clave <em>convert_charrefs</em> que, cuando es <code class="docutils literal notranslate"><span class="pre">True</span></code>, convierte automáticamente todas las referencias de caracteres.  Por compatibilidad, su valor por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>, pero cambiará a <code class="docutils literal notranslate"><span class="pre">True</span></code> en una futura versión de Python, así que te invitamos a establecerlo explícitamente y actualizar tu código para usar esta nueva característica.  (Contribuido por Ezio Melotti en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13633">bpo-13633</a>.)</p>
<p>El argumento <em>strict</em> de <a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a> está ahora obsoleto. (Contribuido por Ezio Melotti en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15114">bpo-15114</a>.)</p>
</section>
<section id="http">
<h3>http<a class="headerlink" href="#http" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/http.server.html#http.server.BaseHTTPRequestHandler.send_error" title="http.server.BaseHTTPRequestHandler.send_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_error()</span></code></a> acepta ahora un parámetro adicional opcional <em>explain</em> que puede usarse para proporcionar una descripción de error extendida, anulando el valor predeterminado si lo hay. Esta descripción de error extendida se formateará utilizando el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">error_message_format</span></code> y se enviará como cuerpo de la respuesta de error.  (Contribuido por Karl Cow en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12921">bpo-12921</a>.)</p>
<p>El <a class="reference internal" href="../library/http.server.html#module-http.server" title="http.server: HTTP server and request handlers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.server</span></code></a> <a class="reference internal" href="../library/http.server.html#http-server-cli"><span class="std std-ref">interfaz de línea de comandos</span></a> tiene ahora una opción <code class="docutils literal notranslate"><span class="pre">-b/--bind</span></code> que hace que el servidor escuche en una dirección específica. (Contribuido por Malte Swart en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17764">bpo-17764</a>.)</p>
</section>
<section id="idlelib-and-idle">
<h3>idlelib y IDLE<a class="headerlink" href="#idlelib-and-idle" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Como idlelib implementa el shell y el editor de IDLE y no está pensado para ser importado por otros programas, recibe mejoras con cada versión. Vea <code class="file docutils literal notranslate"><span class="pre">Lib/idlelib/NEWS.txt</span></code> para una lista acumulativa de cambios desde la versión 3.3.0, así como los cambios realizados en futuras versiones 3.4.x. Este fichero también está disponible en el diálogo de IDLE <span class="menuselection">Ayuda ‣ Sobre IDLE</span>.</p>
</section>
<section id="importlib">
<h3>importlib<a class="headerlink" href="#importlib" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El ABC de <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader" title="importlib.abc.InspectLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectLoader</span></code></a> define un nuevo método, <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader.source_to_code" title="importlib.abc.InspectLoader.source_to_code"><code class="xref py py-meth docutils literal notranslate"><span class="pre">source_to_code()</span></code></a> que acepta datos de origen y una ruta y devuelve un objeto de código.  La implementación por defecto es equivalente a <code class="docutils literal notranslate"><span class="pre">compile(data,</span> <span class="pre">path,</span> <span class="pre">'exec',</span> <span class="pre">dont_inherit=True)</span></code>. (Contribuido por Eric Snow y Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15627">bpo-15627</a>.)</p>
<p><a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader" title="importlib.abc.InspectLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectLoader</span></code></a> también tiene ahora una implementación por defecto para el método <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader.get_code" title="importlib.abc.InspectLoader.get_code"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_code()</span></code></a>.  Sin embargo, normalmente será deseable anular la implementación por defecto por razones de rendimiento.  (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18072">bpo-18072</a>.)</p>
<p>La función <a class="reference internal" href="../library/importlib.html#importlib.reload" title="importlib.reload"><code class="xref py py-func docutils literal notranslate"><span class="pre">reload()</span></code></a> ha sido trasladada de <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a> a <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> como parte de la eliminación del módulo <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a>.  (Contribuido por Berker Peksag en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18193">bpo-18193</a>.)</p>
<p><a class="reference internal" href="../library/importlib.html#module-importlib.util" title="importlib.util: Utility code for importers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.util</span></code></a> tiene ahora un atributo <a class="reference internal" href="../library/importlib.html#importlib.util.MAGIC_NUMBER" title="importlib.util.MAGIC_NUMBER"><code class="xref py py-data docutils literal notranslate"><span class="pre">MAGIC_NUMBER</span></code></a> que proporciona acceso al número de versión del código de bytes.  Esto sustituye a la función <a class="reference internal" href="../library/imp.html#imp.get_magic" title="imp.get_magic"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_magic()</span></code></a> del módulo <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a>, ya obsoleto. (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18192">bpo-18192</a>.)</p>
<p>Las nuevas funciones <a class="reference internal" href="../library/importlib.html#module-importlib.util" title="importlib.util: Utility code for importers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.util</span></code></a> <a class="reference internal" href="../library/importlib.html#importlib.util.cache_from_source" title="importlib.util.cache_from_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">cache_from_source()</span></code></a> y <a class="reference internal" href="../library/importlib.html#importlib.util.source_from_cache" title="importlib.util.source_from_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">source_from_cache()</span></code></a> sustituyen a las funciones con el mismo nombre del módulo <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a>, ya obsoleto.  (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18194">bpo-18194</a>.)</p>
<p>El bootstrap <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> <code class="xref py py-class docutils literal notranslate"><span class="pre">NamespaceLoader</span></code> se ajusta ahora al ABC de <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader" title="importlib.abc.InspectLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">InspectLoader</span></code></a>, lo que significa que <code class="docutils literal notranslate"><span class="pre">runpy</span></code> y <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span></code> pueden utilizarse ahora con paquetes de espacios de nombres.  (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18058">bpo-18058</a>.)</p>
<p><a class="reference internal" href="../library/importlib.html#module-importlib.util" title="importlib.util: Utility code for importers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.util</span></code></a> tiene una nueva función <a class="reference internal" href="../library/importlib.html#importlib.util.decode_source" title="importlib.util.decode_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">decode_source()</span></code></a> que decodifica la fuente a partir de bytes utilizando el procesamiento universal de nuevas líneas.  Esto es útil para implementar los métodos <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader.get_source" title="importlib.abc.InspectLoader.get_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InspectLoader.get_source()</span></code></a>.</p>
<p><a class="reference internal" href="../library/importlib.html#importlib.machinery.ExtensionFileLoader" title="importlib.machinery.ExtensionFileLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.machinery.ExtensionFileLoader</span></code></a> tiene ahora un método <a class="reference internal" href="../library/importlib.html#importlib.machinery.ExtensionFileLoader.get_filename" title="importlib.machinery.ExtensionFileLoader.get_filename"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_filename()</span></code></a>.  Esto fue omitido inadvertidamente en la implementación original.  (Contribuido por Eric Snow en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19152">bpo-19152</a>.)</p>
</section>
<section id="inspect">
<h3>inspeccionar<a class="headerlink" href="#inspect" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> ofrece ahora una <a class="reference internal" href="../library/inspect.html#inspect-module-cli"><span class="std std-ref">interfaz de línea de comandos básica</span></a> para mostrar rápidamente el código fuente y otra información de módulos, clases y funciones.  (Contribución de Claudiu Popa y Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18626">bpo-18626</a>)</p>
<p><a class="reference internal" href="../library/inspect.html#inspect.unwrap" title="inspect.unwrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">unwrap()</span></code></a> facilita el desenvolvimiento de las cadenas de funciones envolventes creadas por <a class="reference internal" href="../library/functools.html#functools.wraps" title="functools.wraps"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.wraps()</span></code></a> (y cualquier otra API que establezca el atributo <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> en una función envolvente).  (Contribución de Daniel Urban, Aaron Iles y Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13266">bpo-13266</a>)</p>
<p>Como parte de la implementación del nuevo módulo <a class="reference internal" href="../library/enum.html#module-enum" title="enum: Implementation of an enumeration class."><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a>, el módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> tiene ahora un soporte sustancialmente mejor para los métodos personalizados <code class="docutils literal notranslate"><span class="pre">__dir__</span></code> y los atributos de clase dinámicos proporcionados a través de metaclases.  (Contribuido por Ethan Furman en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18929">bpo-18929</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19030">bpo-19030</a>)</p>
<p><a class="reference internal" href="../library/inspect.html#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">getfullargspec()</span></code></a> y <a class="reference internal" href="../library/inspect.html#inspect.getargspec" title="inspect.getargspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">getargspec()</span></code></a> utilizan ahora la API <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">signature()</span></code></a>. Esto les permite soportar un rango mucho más amplio de llamadas, incluyendo aquellas con atributos <code class="docutils literal notranslate"><span class="pre">__signature__</span></code>, aquellas con metadatos proporcionados por la clínica de argumentos, objetos <a class="reference internal" href="../library/functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partial()</span></code></a> y más. Tenga en cuenta que, a diferencia de <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">signature()</span></code></a>, estas funciones siguen ignorando los atributos <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code>, e informan del primer argumento ya ligado para los métodos ligados, por lo que sigue siendo necesario actualizar su código para utilizar <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">signature()</span></code></a> directamente si se desean esas características. (Contribuido por Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17481">bpo-17481</a>.)</p>
<p><a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">signature()</span></code></a> ahora soporta los tipos de pato de las funciones CPython, lo que añade soporte para las funciones compiladas con Cython.  (Contribuido por Stefan Behnel y Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17159">bpo-17159</a>)</p>
</section>
<section id="ipaddress">
<h3>dirección IP<a class="headerlink" href="#ipaddress" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> se añadió a la biblioteca estándar en Python 3.3 como una <a class="reference internal" href="../glossary.html#term-provisional-API"><span class="xref std std-term">provisional API</span></a>. Con el lanzamiento de Python 3.4, se ha eliminado esta calificación: <a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> se considera ahora una API estable, cubierta por los requisitos normales de la biblioteca estándar para mantener la compatibilidad hacia atrás.</p>
<p>Una nueva propiedad <a class="reference internal" href="../library/ipaddress.html#ipaddress.IPv4Address.is_global" title="ipaddress.IPv4Address.is_global"><code class="xref py py-attr docutils literal notranslate"><span class="pre">is_global</span></code></a> es <code class="docutils literal notranslate"><span class="pre">True</span></code> si una dirección es enrutable globalmente.  (Contribuido por Peter Moody en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17400">bpo-17400</a>.)</p>
</section>
<section id="logging">
<h3>Tres mejoras más pequeñas en el módulo <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>, todas implementadas por Vinay Sajip, son:<a class="headerlink" href="#logging" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La clase <a class="reference internal" href="../library/logging.handlers.html#logging.handlers.TimedRotatingFileHandler" title="logging.handlers.TimedRotatingFileHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedRotatingFileHandler</span></code></a> tiene un nuevo parámetro <em>atTime</em> que puede utilizarse para especificar la hora del día en que debe producirse la renovación.  (Contribuido por Ronald Oussoren en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9556">bpo-9556</a>.)</p>
<p><a class="reference internal" href="../library/logging.handlers.html#logging.handlers.SocketHandler" title="logging.handlers.SocketHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SocketHandler</span></code></a> y <a class="reference internal" href="../library/logging.handlers.html#logging.handlers.DatagramHandler" title="logging.handlers.DatagramHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatagramHandler</span></code></a> ahora soportan sockets de dominio Unix (estableciendo <em>puerto</em> a <code class="docutils literal notranslate"><span class="pre">None</span></code>).  (Contribuido por Vinay Sajip en el commit ce46195b56a9.)</p>
<p><a class="reference internal" href="../library/logging.config.html#logging.config.fileConfig" title="logging.config.fileConfig"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileConfig()</span></code></a> ahora acepta una instancia de la subclase <a class="reference internal" href="../library/configparser.html#configparser.RawConfigParser" title="configparser.RawConfigParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">configparser.RawConfigParser</span></code></a> para el parámetro <em>fname</em>.  Esto facilita el uso de un archivo de configuración cuando la configuración de registro es sólo una parte de la configuración general de la aplicación, o cuando la aplicación modifica la configuración antes de pasarla a <a class="reference internal" href="../library/logging.config.html#logging.config.fileConfig" title="logging.config.fileConfig"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileConfig()</span></code></a>.  (Contribuido por Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16110">bpo-16110</a>.)</p>
<p>Los datos de configuración de registro recibidos desde un socket a través de la función <a class="reference internal" href="../library/logging.config.html#logging.config.listen" title="logging.config.listen"><code class="xref py py-func docutils literal notranslate"><span class="pre">logging.config.listen()</span></code></a> pueden ahora ser validados antes de ser procesados suministrando una función de verificación como argumento de la nueva palabra clave <em>verify</em>.  (Contribuido por Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15452">bpo-15452</a>.)</p>
</section>
<section id="marshal">
<span id="whatsnew-marshal-3"></span><h3>mariscal<a class="headerlink" href="#marshal" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La versión por defecto de <a class="reference internal" href="../library/marshal.html#module-marshal" title="marshal: Convert Python objects to streams of bytes and back (with different constraints)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">marshal</span></code></a> ha sido aumentada a 3. El código que implementa la nueva versión restablece el comportamiento de Python2 de registrar sólo una copia de las cadenas internadas y preservar la internación en la deserialización, y extiende esta capacidad de «una copia» a cualquier tipo de objeto (incluyendo el manejo de referencias recursivas).  Esto reduce tanto el tamaño de los archivos <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> como la cantidad de memoria que ocupa un módulo en la memoria cuando se carga desde un archivo <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> (o <code class="docutils literal notranslate"><span class="pre">.pyo</span></code>).  (Contribuido por Kristján Valur Jónsson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16475">bpo-16475</a>, con mejoras adicionales de velocidad por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19219">bpo-19219</a>)</p>
</section>
<section id="mmap">
<h3>mmap<a class="headerlink" href="#mmap" title="Enlazar permanentemente con este título">¶</a></h3>
<p>los objetos mmap ahora pueden ser <a class="reference internal" href="../library/weakref.html#module-weakref" title="weakref: Support for weak references and weak dictionaries."><code class="xref py py-mod docutils literal notranslate"><span class="pre">weakref</span></code></a> ed.  (Contribución de Valerie Lambert en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=4885">bpo-4885</a>.)</p>
</section>
<section id="multiprocessing">
<h3>multiprocesamiento<a class="headerlink" href="#multiprocessing" title="Enlazar permanentemente con este título">¶</a></h3>
<p id="whatsnew-multiprocessing-no-fork">En Unix se han añadido <a class="reference internal" href="../library/multiprocessing.html#multiprocessing-start-methods"><span class="std std-ref">métodos de comienzo</span></a> <code class="docutils literal notranslate"><span class="pre">spawn</span></code> y <code class="docutils literal notranslate"><span class="pre">forkserver</span></code>, para iniciar procesos usando <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a>.  Estos hacen que la mezcla de procesos con hilos sea más robusta, y el método <code class="docutils literal notranslate"><span class="pre">spawn</span></code> coincide con la semántica que el multiprocesamiento siempre ha utilizado en Windows.  La nueva función <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.get_all_start_methods" title="multiprocessing.get_all_start_methods"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_all_start_methods()</span></code></a> informa de todos los métodos de inicio disponibles en la plataforma, <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.get_start_method" title="multiprocessing.get_start_method"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_start_method()</span></code></a> informa del método de inicio actual, y <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.set_start_method" title="multiprocessing.set_start_method"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_start_method()</span></code></a> establece el método de inicio.  (Contribuido por Richard Oudkerk en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8713">bpo-8713</a>.)</p>
<p><a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> también tiene ahora el concepto de <code class="docutils literal notranslate"><span class="pre">contexto</span></code>, que determina cómo se crean los procesos hijos.  La nueva función <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.get_context" title="multiprocessing.get_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_context()</span></code></a> devuelve un contexto que utiliza un método de inicio especificado.  Tiene la misma API que el propio módulo <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a>, por lo que se puede utilizar para crear <a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing.pool" title="multiprocessing.pool: Create pools of processes."><code class="xref py py-class docutils literal notranslate"><span class="pre">pool</span></code></a> y otros objetos que operarán dentro de ese contexto.  Esto permite que un framework y una aplicación o diferentes partes de la misma aplicación utilicen el multiprocesamiento sin interferir entre sí.  (Contribuido por Richard Oudkerk en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18999">bpo-18999</a>.)</p>
<p>Excepto cuando se utiliza el antiguo método de inicio <em>fork</em>, los procesos hijos ya no heredan los handles/descriptores de archivo innecesarios de sus padres (parte de <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8713">bpo-8713</a>).</p>
<p><a class="reference internal" href="../library/multiprocessing.html#module-multiprocessing" title="multiprocessing: Process-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> ahora se basa en <a class="reference internal" href="../library/runpy.html#module-runpy" title="runpy: Locate and run Python modules without importing them first."><code class="xref py py-mod docutils literal notranslate"><span class="pre">runpy</span></code></a> (que implementa el conmutador <code class="docutils literal notranslate"><span class="pre">-m</span></code>) para inicializar <code class="docutils literal notranslate"><span class="pre">__main__</span></code> apropiadamente en los procesos hijos cuando se utilizan los métodos de inicio <code class="docutils literal notranslate"><span class="pre">spawn</span></code> o <code class="docutils literal notranslate"><span class="pre">forkserver</span></code>. Esto resuelve algunos casos extremos en los que la combinación de multiprocesamiento, el conmutador de línea de comandos <code class="docutils literal notranslate"><span class="pre">-m</span></code> y las importaciones relativas explícitas podían causar fallos oscuros en los procesos hijos.  (Contribuido por Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19946">bpo-19946</a>.)</p>
</section>
<section id="operator">
<h3><a class="reference internal" href="3.5.html#whatsnew-pep-465"><span class="std std-ref">PEP 465</span></a>, un nuevo operador de multiplicación de matrices: <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&#64;</span> <span class="pre">b</span></code>.<a class="headerlink" href="#operator" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/operator.html#operator.length_hint" title="operator.length_hint"><code class="xref py py-func docutils literal notranslate"><span class="pre">length_hint()</span></code></a> proporciona una implementación de la especificación de cómo debe utilizarse el método especial <a class="reference internal" href="../reference/datamodel.html#object.__length_hint__" title="object.__length_hint__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__length_hint__()</span></code></a>, como parte de la especificación formal <span class="target" id="index-154"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0424"><strong>PEP 424</strong></a> de esta característica del lenguaje.  (Contribuido por Armin Ronacher en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16148">bpo-16148</a>.)</p>
<p>Ahora hay una versión puramente python del módulo <a class="reference internal" href="../library/operator.html#module-operator" title="operator: Functions corresponding to the standard operators."><code class="xref py py-mod docutils literal notranslate"><span class="pre">operator</span></code></a> disponible como referencia y para ser utilizada por implementaciones alternativas de Python.  (Contribuido por Zachary Ware en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16694">bpo-16694</a>.)</p>
</section>
<section id="os">
<h3>os<a class="headerlink" href="#os" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hay nuevas funciones para obtener y establecer la bandera <a class="reference internal" href="../library/os.html#fd-inheritance"><span class="std std-ref">heritable</span></a> de un descriptor de archivo (<a class="reference internal" href="../library/os.html#os.get_inheritable" title="os.get_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.get_inheritable()</span></code></a>, <a class="reference internal" href="../library/os.html#os.set_inheritable" title="os.set_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_inheritable()</span></code></a>) o de un handle de Windows (<a class="reference internal" href="../library/os.html#os.get_handle_inheritable" title="os.get_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.get_handle_inheritable()</span></code></a>, <a class="reference internal" href="../library/os.html#os.set_handle_inheritable" title="os.set_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_handle_inheritable()</span></code></a>).</p>
<p>La nueva función <a class="reference internal" href="../library/os.html#os.cpu_count" title="os.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">cpu_count()</span></code></a> informa del número de CPUs disponibles en la plataforma en la que se está ejecutando Python (o <code class="docutils literal notranslate"><span class="pre">None</span></code> si no se puede determinar el recuento).  La función <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.cpu_count" title="multiprocessing.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">multiprocessing.cpu_count()</span></code></a> está ahora implementada en términos de esta función).  (Contribución de Trent Nelson, Yogesh Chaudhari, Victor Stinner y Charles-François Natali en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17914">bpo-17914</a>)</p>
<p><a class="reference internal" href="../library/os.path.html#os.path.samestat" title="os.path.samestat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.samestat()</span></code></a> está ahora disponible en la plataforma Windows (y la implementación de <a class="reference internal" href="../library/os.path.html#os.path.samefile" title="os.path.samefile"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.samefile()</span></code></a> es ahora compartida entre Unix y Windows).  (Contribuido por Brian Curtin en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11939">bpo-11939</a>.)</p>
<p><a class="reference internal" href="../library/os.path.html#os.path.ismount" title="os.path.ismount"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.ismount()</span></code></a> ahora reconoce los volúmenes montados por debajo de la raíz de una unidad en Windows.  (Contribuido por Tim Golden en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9035">bpo-9035</a>.)</p>
<p><a class="reference internal" href="../library/os.html#os.open" title="os.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.open()</span></code></a> soporta dos nuevas banderas en las plataformas que las proporcionan, <a class="reference internal" href="../library/os.html#os.O_PATH" title="os.O_PATH"><code class="xref py py-data docutils literal notranslate"><span class="pre">O_PATH</span></code></a> (descriptor de archivo no abierto), y <a class="reference internal" href="../library/os.html#os.O_TMPFILE" title="os.O_TMPFILE"><code class="xref py py-data docutils literal notranslate"><span class="pre">O_TMPFILE</span></code></a> (archivo temporal sin nombre; a partir de la versión 3.4.0 disponible sólo en sistemas Linux con una versión del kernel de 3.11 o más reciente que tenga cabeceras uapi).  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18673">bpo-18673</a> y Benjamin Peterson, respectivamente)</p>
</section>
<section id="pdb">
<h3>pdb<a class="headerlink" href="#pdb" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> ha sido mejorado para manejar generadores, <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a>, y <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> de una manera más útil.  Esto es especialmente útil cuando se depuran programas basados en <a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a>.  (Contribución de Andrew Svetlov y Xavier de Gaye en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16596">bpo-16596</a>)</p>
<p>El comando <code class="docutils literal notranslate"><span class="pre">print</span></code> ha sido eliminado de <a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a>, restaurando el acceso a la función de Python <a class="reference internal" href="../library/functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a> desde la línea de comandos de la pdb.  El comando <code class="docutils literal notranslate"><span class="pre">pdb</span></code> de Python2 no tenía un comando <code class="docutils literal notranslate"><span class="pre">print</span></code>; en su lugar, al introducir <code class="docutils literal notranslate"><span class="pre">print</span></code> se ejecutaba la sentencia <code class="docutils literal notranslate"><span class="pre">print</span></code>.  En Python3 <code class="docutils literal notranslate"><span class="pre">print</span></code> se convirtió por error en un alias del comando pdb <a class="reference internal" href="../library/pdb.html#pdbcommand-p"><code class="xref std std-pdbcmd docutils literal notranslate"><span class="pre">p</span></code></a>.  Sin embargo, <code class="docutils literal notranslate"><span class="pre">p</span></code> imprime la <code class="docutils literal notranslate"><span class="pre">repr</span></code> de su argumento, no la <code class="docutils literal notranslate"><span class="pre">str</span></code> como hacía el comando <code class="docutils literal notranslate"><span class="pre">print</span></code> de Python2.  Peor aún, el comando <code class="docutils literal notranslate"><span class="pre">pdb</span> <span class="pre">print</span></code> de Python3 ensombrece la función <code class="docutils literal notranslate"><span class="pre">print</span></code> de Python3, haciéndola inaccesible en el prompt de <code class="docutils literal notranslate"><span class="pre">pdb</span></code>.  (Contribuido por Connor Osborn en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18764">bpo-18764</a>.)</p>
</section>
<section id="pickle">
<span id="whatsnew-protocol-4"></span><h3>pepinillo<a class="headerlink" href="#pickle" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> ahora soporta (pero no utiliza por defecto) un nuevo protocolo pickle, el protocolo 4.  Este nuevo protocolo aborda una serie de problemas que estaban presentes en los protocolos anteriores, como la serialización de clases anidadas, cadenas y contenedores muy grandes, y clases cuyo método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__new__()</span></code> toma argumentos de sólo palabras clave.  También proporciona algunas mejoras de eficiencia.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-155"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3154"><strong>PEP 3154</strong></a> – Protocolo Pickle 4</dt><dd><p>PEP escrito por Antoine Pitrou e implementado por Alexandre Vassalotti.</p>
</dd>
</dl>
</div>
</section>
<section id="plistlib">
<h3>plistlib<a class="headerlink" href="#plistlib" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/plistlib.html#module-plistlib" title="plistlib: Generate and parse Apple plist files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code></a> tiene ahora una API que es similar al patrón estándar de los protocolos de serialización de stdlib, con nuevas funciones <a class="reference internal" href="../library/plistlib.html#plistlib.load" title="plistlib.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, <a class="reference internal" href="../library/plistlib.html#plistlib.dump" title="plistlib.dump"><code class="xref py py-func docutils literal notranslate"><span class="pre">dump()</span></code></a>, <a class="reference internal" href="../library/plistlib.html#plistlib.loads" title="plistlib.loads"><code class="xref py py-func docutils literal notranslate"><span class="pre">loads()</span></code></a>, y <a class="reference internal" href="../library/plistlib.html#plistlib.dumps" title="plistlib.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>.  (Además del formato XML de plist que ya se soportaba (<a class="reference internal" href="../library/plistlib.html#plistlib.FMT_XML" title="plistlib.FMT_XML"><code class="xref py py-data docutils literal notranslate"><span class="pre">FMT_XML</span></code></a>), ahora también se soporta el formato binario de plist (<a class="reference internal" href="../library/plistlib.html#plistlib.FMT_BINARY" title="plistlib.FMT_BINARY"><code class="xref py py-data docutils literal notranslate"><span class="pre">FMT_BINARY</span></code></a>).  (Contribuido por Ronald Oussoren y otros en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14455">bpo-14455</a>.)</p>
</section>
<section id="poplib">
<h3>poplib<a class="headerlink" href="#poplib" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se han añadido dos nuevos métodos a <a class="reference internal" href="../library/poplib.html#module-poplib" title="poplib: POP3 protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">poplib</span></code></a>: <a class="reference internal" href="../library/poplib.html#poplib.POP3.capa" title="poplib.POP3.capa"><code class="xref py py-meth docutils literal notranslate"><span class="pre">capa()</span></code></a>, que devuelve la lista de capacidades anunciadas por el servidor POP, y <a class="reference internal" href="../library/poplib.html#poplib.POP3.stls" title="poplib.POP3.stls"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stls()</span></code></a>, que cambia una sesión POP3 de texto claro a una sesión POP3 cifrada si el servidor POP lo soporta.  (Contribuido por Lorenzo Catucci en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=4473">bpo-4473</a>.)</p>
</section>
<section id="pprint">
<h3>pprint<a class="headerlink" href="#pprint" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La clase <a class="reference internal" href="../library/pprint.html#pprint.PrettyPrinter" title="pprint.PrettyPrinter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrettyPrinter</span></code></a> del módulo <a class="reference internal" href="../library/pprint.html#module-pprint" title="pprint: Data pretty printer."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pprint</span></code></a> y sus funciones <a class="reference internal" href="../library/pprint.html#pprint.pformat" title="pprint.pformat"><code class="xref py py-func docutils literal notranslate"><span class="pre">pformat()</span></code></a>, y <a class="reference internal" href="../library/pprint.html#pprint.pprint" title="pprint.pprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">pprint()</span></code></a> tienen una nueva opción, <em>compact</em>, que controla cómo se formatea la salida.  Actualmente, establecer <em>compact</em> a <code class="docutils literal notranslate"><span class="pre">True</span></code> significa que las secuencias se imprimirán con tantos elementos de secuencia como quepan en el <em>ancho</em> de cada línea (indentada). (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19132">bpo-19132</a>.)</p>
<p>Las cadenas largas ahora se envuelven usando la sintaxis normal de continuación de línea de Python.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17150">bpo-17150</a>.)</p>
</section>
<section id="pty">
<h3>pty<a class="headerlink" href="#pty" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/pty.html#pty.spawn" title="pty.spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">pty.spawn()</span></code></a> ahora devuelve el valor de estado de <a class="reference internal" href="../library/os.html#os.waitpid" title="os.waitpid"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.waitpid()</span></code></a> en el proceso hijo, en lugar de <code class="docutils literal notranslate"><span class="pre">None</span></code>.  (Contribución de Gregory P. Smith)</p>
</section>
<section id="pydoc">
<h3>pydoc<a class="headerlink" href="#pydoc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a> se basa ahora directamente en la API de introspección <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a>, lo que le permite proporcionar información de firma para una mayor variedad de objetos invocables. Este cambio también significa que los atributos <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> se tienen ahora en cuenta al mostrar la información de ayuda. (Contribución de Larry Hastings en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19674">bpo-19674</a>.)</p>
<p>El módulo <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a> ya no muestra el parámetro <code class="docutils literal notranslate"><span class="pre">self</span></code> para los métodos ya vinculados. En su lugar, pretende mostrar siempre la firma actual exacta de la llamada suministrada.  (Contribuido por Larry Hastings en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20710">bpo-20710</a>.)</p>
<p>Además de los cambios que se han realizado en <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a> directamente, su manejo de los métodos personalizados <code class="docutils literal notranslate"><span class="pre">__dir__</span></code> y varios comportamientos del descriptor también se han mejorado sustancialmente por los cambios subyacentes en el módulo <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a>.</p>
<p>Como el builtin <a class="reference internal" href="../library/functions.html#help" title="help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a> está basado en <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a>, los cambios anteriores también afectan al comportamiento de <a class="reference internal" href="../library/functions.html#help" title="help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a>.</p>
</section>
<section id="re">
<h3>re<a class="headerlink" href="#re" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/re.html#re.fullmatch" title="re.fullmatch"><code class="xref py py-func docutils literal notranslate"><span class="pre">fullmatch()</span></code></a> y el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">regex.fullmatch()</span></code> anclan el patrón en ambos extremos de la cadena a comparar.  Esto proporciona una manera de ser explícito sobre el objetivo de la coincidencia, lo que evita una clase de errores sutiles donde los caracteres <code class="docutils literal notranslate"><span class="pre">$</span></code> se pierden durante los cambios de código o la adición de alternativas a una expresión regular existente.  (Contribuido por Matthew Barnett en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16203">bpo-16203</a>.)</p>
<p>La repr de los <a class="reference internal" href="../library/re.html#re-objects"><span class="std std-ref">regex objects</span></a> ahora incluye el patrón y las banderas; la repr de los <a class="reference internal" href="../library/re.html#match-objects"><span class="std std-ref">objetos regex</span></a> ahora incluye el inicio, el final y la parte de la cadena que coincide.  (Contribución de Hugo Lopes Tavares y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13592">bpo-13592</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17087">bpo-17087</a>)</p>
</section>
<section id="resource">
<h3>recurso<a class="headerlink" href="#resource" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/resource.html#resource.prlimit" title="resource.prlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">prlimit()</span></code></a>, disponible en plataformas Linux con un kernel de versión 2.6.36 o posterior y glibc de 2.13 o posterior, proporciona la capacidad de consultar o establecer los límites de recursos para procesos distintos del que realiza la llamada.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16595">bpo-16595</a>.)</p>
<p>En el kernel de Linux versión 2.6.36 o posterior, también hay algunas nuevas constantes específicas de Linux: <a class="reference internal" href="../library/resource.html#resource.RLIMIT_MSGQUEUE" title="resource.RLIMIT_MSGQUEUE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_MSGQUEUE</span></code></a>, <a class="reference internal" href="../library/resource.html#resource.RLIMIT_NICE" title="resource.RLIMIT_NICE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_NICE</span></code></a>, <a class="reference internal" href="../library/resource.html#resource.RLIMIT_RTPRIO" title="resource.RLIMIT_RTPRIO"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_RTPRIO</span></code></a>, <a class="reference internal" href="../library/resource.html#resource.RLIMIT_RTTIME" title="resource.RLIMIT_RTTIME"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_RTTIME</span></code></a>, y <a class="reference internal" href="../library/resource.html#resource.RLIMIT_SIGPENDING" title="resource.RLIMIT_SIGPENDING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_SIGPENDING</span></code></a>. (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19324">bpo-19324</a>.)</p>
<p>En FreeBSD versión 9 y posteriores, hay algunas nuevas constantes específicas de FreeBSD: <a class="reference internal" href="../library/resource.html#resource.RLIMIT_SBSIZE" title="resource.RLIMIT_SBSIZE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_SBSIZE</span></code></a>, <a class="reference internal" href="../library/resource.html#resource.RLIMIT_SWAP" title="resource.RLIMIT_SWAP"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_SWAP</span></code></a>, y <a class="reference internal" href="../library/resource.html#resource.RLIMIT_NPTS" title="resource.RLIMIT_NPTS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RLIMIT_NPTS</span></code></a>.  (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19343">bpo-19343</a>.)</p>
</section>
<section id="select">
<h3>seleccionar<a class="headerlink" href="#select" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Los objetos <a class="reference internal" href="../library/select.html#select.epoll" title="select.epoll"><code class="xref py py-class docutils literal notranslate"><span class="pre">epoll</span></code></a> ahora soportan el protocolo de gestión de contexto. Cuando se utiliza en una declaración <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, el método <a class="reference internal" href="../library/select.html#select.epoll.close" title="select.epoll.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> será llamado automáticamente al final del bloque.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16488">bpo-16488</a>.)</p>
<p>Los objetos <a class="reference internal" href="../library/select.html#select.devpoll" title="select.devpoll"><code class="xref py py-class docutils literal notranslate"><span class="pre">devpoll</span></code></a> tienen ahora métodos <a class="reference internal" href="../library/select.html#select.devpoll.fileno" title="select.devpoll.fileno"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fileno()</span></code></a> y <a class="reference internal" href="../library/select.html#select.devpoll.close" title="select.devpoll.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a>, así como un nuevo atributo <a class="reference internal" href="../library/select.html#select.devpoll.closed" title="select.devpoll.closed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">closed</span></code></a>.  (Contribuido por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18794">bpo-18794</a>.)</p>
</section>
<section id="shelve">
<h3>estante<a class="headerlink" href="#shelve" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las instancias de <a class="reference internal" href="../library/shelve.html#shelve.Shelf" title="shelve.Shelf"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shelf</span></code></a> ahora pueden utilizarse en declaraciones <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, y se cerrarán automáticamente al final del bloque <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code>. (Contribuido por Filip Gruszczyński en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13896">bpo-13896</a>.)</p>
</section>
<section id="shutil">
<h3>shutil<a class="headerlink" href="#shutil" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/shutil.html#shutil.copyfile" title="shutil.copyfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">copyfile()</span></code></a> ahora lanza una subclase específica de <a class="reference internal" href="../library/shutil.html#shutil.Error" title="shutil.Error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Error</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.SameFileError" title="shutil.SameFileError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SameFileError</span></code></a>, cuando el origen y el destino son el mismo fichero, lo que permite a una aplicación tomar la acción apropiada en este error específico.  (Contribución de Atsuo Ishimoto y Hynek Schlawack en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1492704">bpo-1492704</a>)</p>
</section>
<section id="smtpd">
<h3>smtpd<a class="headerlink" href="#smtpd" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las clases <a class="reference internal" href="../library/smtpd.html#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a> y <a class="reference internal" href="../library/smtpd.html#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a> aceptan ahora un argumento de palabra clave <em>map</em> que, si se especifica, se pasa a <a class="reference internal" href="../library/asynchat.html#asynchat.async_chat" title="asynchat.async_chat"><code class="xref py py-class docutils literal notranslate"><span class="pre">asynchat.async_chat</span></code></a> como su argumento <em>map</em>.  Esto permite que una aplicación no afecte al mapa global de sockets.  (Contribuido por Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11959">bpo-11959</a>.)</p>
</section>
<section id="smtplib">
<h3>smtplib<a class="headerlink" href="#smtplib" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/smtplib.html#smtplib.SMTPException" title="smtplib.SMTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPException</span></code></a> es ahora una subclase de <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>, que permite que tanto los errores de nivel de socket como los de nivel de protocolo SMTP sean capturados en una sentencia try/except por un código que sólo se preocupa de si se ha producido o no un error. (Contribuido por Ned Jackson Lovely en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2118">bpo-2118</a>.)</p>
</section>
<section id="socket">
<h3>enchufe<a class="headerlink" href="#socket" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo socket ahora soporta el protocolo <a class="reference internal" href="../library/socket.html#socket.CAN_BCM" title="socket.CAN_BCM"><code class="xref py py-data docutils literal notranslate"><span class="pre">CAN_BCM</span></code></a> en las plataformas que lo soportan.  (Contribuido por Brian Thorne en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15359">bpo-15359</a>.)</p>
<p>Los objetos Socket tienen nuevos métodos para obtener o establecer su <a class="reference internal" href="../library/os.html#fd-inheritance"><span class="std std-ref">bandera heredable</span></a>, <a class="reference internal" href="../library/socket.html#socket.socket.get_inheritable" title="socket.socket.get_inheritable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_inheritable()</span></code></a> y <a class="reference internal" href="../library/socket.html#socket.socket.set_inheritable" title="socket.socket.set_inheritable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_inheritable()</span></code></a>.</p>
<p>Las constantes <code class="docutils literal notranslate"><span class="pre">socket.AF_*`</span> <span class="pre">y</span> <span class="pre">``socket.SOCK_*</span></code> son ahora valores de enumeración utilizando el nuevo módulo <a class="reference internal" href="../library/enum.html#module-enum" title="enum: Implementation of an enumeration class."><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a>.  Esto permite imprimir nombres significativos durante la depuración, en lugar de «números mágicos» enteros.</p>
<p>La constante <a class="reference internal" href="../library/socket.html#socket.AF_LINK" title="socket.AF_LINK"><code class="xref py py-data docutils literal notranslate"><span class="pre">AF_LINK</span></code></a> está ahora disponible en BSD y OSX.</p>
<p><a class="reference internal" href="../library/socket.html#socket.inet_pton" title="socket.inet_pton"><code class="xref py py-func docutils literal notranslate"><span class="pre">inet_pton()</span></code></a> y <a class="reference internal" href="../library/socket.html#socket.inet_ntop" title="socket.inet_ntop"><code class="xref py py-func docutils literal notranslate"><span class="pre">inet_ntop()</span></code></a> son ahora compatibles con Windows.  (Contribuido por Atsuo Ishimoto en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=7171">bpo-7171</a>.)</p>
</section>
<section id="sqlite3">
<h3>sqlite3<a class="headerlink" href="#sqlite3" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un nuevo parámetro booleano para la función <a class="reference internal" href="../library/sqlite3.html#sqlite3.connect" title="sqlite3.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a>, <em>uri</em>, puede usarse para indicar que el parámetro <em>base de datos</em> es una <code class="docutils literal notranslate"><span class="pre">uri</span></code> (véase la documentación <a class="reference external" href="https://www.sqlite.org/uri.html">SQLite URI</a>).  (Contribuido por poq en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13773">bpo-13773</a>.)</p>
</section>
<section id="ssl">
<h3>ssl<a class="headerlink" href="#ssl" title="Enlazar permanentemente con este título">¶</a></h3>
<p id="whatsnew-tls-11-12">Se han añadido <a class="reference internal" href="../library/ssl.html#ssl.PROTOCOL_TLSv1_1" title="ssl.PROTOCOL_TLSv1_1"><code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_TLSv1_1</span></code></a> y <a class="reference internal" href="../library/ssl.html#ssl.PROTOCOL_TLSv1_2" title="ssl.PROTOCOL_TLSv1_2"><code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_TLSv1_2</span></code></a> (soporte de TLSv1.1 y TLSv1.2); el soporte de estos protocolos sólo está disponible si Python está enlazado con OpenSSL 1.0.1 o posterior.  (Contribuido por Michele Orrù y Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16692">bpo-16692</a>)</p>
<p id="whatsnew34-sslcontext">La nueva función <a class="reference internal" href="../library/ssl.html#ssl.create_default_context" title="ssl.create_default_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_default_context()</span></code></a> proporciona una forma estándar de obtener un <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> cuya configuración pretende ser un equilibrio razonable entre compatibilidad y seguridad.  Estos ajustes son más estrictos que los valores por defecto proporcionados por el constructor <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a>, y pueden ser ajustados en el futuro, sin necesidad de una depreciación previa, si los requisitos de seguridad de las mejores prácticas cambian.  La nueva práctica recomendada para usar las bibliotecas stdlib que soportan SSL es usar <a class="reference internal" href="../library/ssl.html#ssl.create_default_context" title="ssl.create_default_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_default_context()</span></code></a> para obtener un objeto <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a>, modificarlo si es necesario, y luego pasarlo como el argumento <em>context</em> de la API stdlib apropiada.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19689">bpo-19689</a>.)</p>
<p>El método <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.load_verify_locations" title="ssl.SSLContext.load_verify_locations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_verify_locations()</span></code></a> acepta un nuevo argumento opcional <em>cadata</em>, que puede utilizarse para proporcionar certificados codificados en PEM o DER directamente mediante cadenas o bytes, respectivamente. (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18138">bpo-18138</a>.)</p>
<p>La nueva función <a class="reference internal" href="../library/ssl.html#ssl.get_default_verify_paths" title="ssl.get_default_verify_paths"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_default_verify_paths()</span></code></a> devuelve una tupla con nombre de las rutas y variables de entorno que el método <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_default_verify_paths" title="ssl.SSLContext.set_default_verify_paths"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_default_verify_paths()</span></code></a> utiliza para establecer el <code class="docutils literal notranslate"><span class="pre">cafile</span></code> y el <code class="docutils literal notranslate"><span class="pre">capath</span></code> por defecto de OpenSSL.  Esto puede ser una ayuda para depurar problemas de verificación por defecto.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18143">bpo-18143</a>.)</p>
<p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> tiene un nuevo método, <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.cert_store_stats" title="ssl.SSLContext.cert_store_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cert_store_stats()</span></code></a>, que informa del número de certificados <code class="docutils literal notranslate"><span class="pre">X.509</span></code> cargados, certificados <code class="docutils literal notranslate"><span class="pre">X.509</span> <span class="pre">CA</span></code> y listas de revocación de certificados (<code class="docutils literal notranslate"><span class="pre">crl</span></code>), así como un método <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.get_ca_certs" title="ssl.SSLContext.get_ca_certs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_ca_certs()</span></code></a> que devuelve una lista de los certificados <code class="docutils literal notranslate"><span class="pre">CA</span></code> cargados.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18147">bpo-18147</a>.)</p>
<p>Si OpenSSL 0.9.8 o posterior está disponible, <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> tiene un nuevo atributo <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.verify_flags" title="ssl.SSLContext.verify_flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">verify_flags</span></code></a> que puede utilizarse para controlar el proceso de verificación del certificado estableciéndolo en alguna combinación de las nuevas constantes <a class="reference internal" href="../library/ssl.html#ssl.VERIFY_DEFAULT" title="ssl.VERIFY_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">VERIFY_DEFAULT</span></code></a>, <a class="reference internal" href="../library/ssl.html#ssl.VERIFY_CRL_CHECK_LEAF" title="ssl.VERIFY_CRL_CHECK_LEAF"><code class="xref py py-data docutils literal notranslate"><span class="pre">VERIFY_CRL_CHECK_LEAF</span></code></a>, <a class="reference internal" href="../library/ssl.html#ssl.VERIFY_CRL_CHECK_CHAIN" title="ssl.VERIFY_CRL_CHECK_CHAIN"><code class="xref py py-data docutils literal notranslate"><span class="pre">VERIFY_CRL_CHECK_CHAIN</span></code></a>, o <a class="reference internal" href="../library/ssl.html#ssl.VERIFY_X509_STRICT" title="ssl.VERIFY_X509_STRICT"><code class="xref py py-data docutils literal notranslate"><span class="pre">VERIFY_X509_STRICT</span></code></a>. OpenSSL no realiza ninguna verificación CRL por defecto.  (Contribuido por Christien Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8813">bpo-8813</a>.)</p>
<p>Nuevo método <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.load_default_certs" title="ssl.SSLContext.load_default_certs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_default_certs()</span></code></a> carga un conjunto de certificados de «autoridad de certificación» (CA) por defecto desde ubicaciones predeterminadas, que varían según la plataforma.  Puede utilizarse para cargar tanto certificados de autenticación de servidores web TLS (<code class="docutils literal notranslate"><span class="pre">purpose=</span></code><a class="reference internal" href="../library/ssl.html#ssl.Purpose.SERVER_AUTH" title="ssl.Purpose.SERVER_AUTH"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_AUTH</span></code></a>) para que un cliente los utilice para verificar un servidor, como certificados para que un servidor los utilice para verificar certificados de clientes (<code class="docutils literal notranslate"><span class="pre">purpose=</span></code><a class="reference internal" href="../library/ssl.html#ssl.Purpose.CLIENT_AUTH" title="ssl.Purpose.CLIENT_AUTH"><code class="xref py py-data docutils literal notranslate"><span class="pre">CLIENT_AUTH</span></code></a>).  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19292">bpo-19292</a>.)</p>
<p id="whatsnew34-win-cert-store">Dos nuevas funciones sólo para Windows, <a class="reference internal" href="../library/ssl.html#ssl.enum_certificates" title="ssl.enum_certificates"><code class="xref py py-func docutils literal notranslate"><span class="pre">enum_certificates()</span></code></a> y <a class="reference internal" href="../library/ssl.html#ssl.enum_crls" title="ssl.enum_crls"><code class="xref py py-func docutils literal notranslate"><span class="pre">enum_crls()</span></code></a> ofrecen la posibilidad de recuperar certificados, información de certificados y CRLs del almacén de certificados de Windows.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17134">bpo-17134</a>.)</p>
<p id="whatsnew34-sni">Soporte para SNI (Server Name Indication) del lado del servidor utilizando el nuevo método <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_servername_callback" title="ssl.SSLContext.set_servername_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_servername_callback()</span></code></a>. (Contribuido por Daniel Black en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8109">bpo-8109</a>.)</p>
<p>El diccionario devuelto por <a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.getpeercert" title="ssl.SSLSocket.getpeercert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SSLSocket.getpeercert()</span></code></a> contiene elementos de extensión <code class="docutils literal notranslate"><span class="pre">X509v3</span></code> adicionales: <code class="docutils literal notranslate"><span class="pre">crlDistributionPoints</span></code>, <code class="docutils literal notranslate"><span class="pre">calIssuers</span></code>, y <code class="docutils literal notranslate"><span class="pre">OCSP</span></code> URIs.  (Contribución de Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18379">bpo-18379</a>.)</p>
</section>
<section id="stat">
<h3>stat<a class="headerlink" href="#stat" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/stat.html#module-stat" title="stat: Utilities for interpreting the results of os.stat(), os.lstat() and os.fstat()."><code class="xref py py-mod docutils literal notranslate"><span class="pre">stat</span></code></a> está ahora respaldado por una implementación en C en <code class="xref py py-mod docutils literal notranslate"><span class="pre">_stat</span></code>. Se requiere una implementación en C ya que la mayoría de los valores no están estandarizados y dependen de la plataforma.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11016">bpo-11016</a>.)</p>
<p>El módulo soporta las nuevas banderas <a class="reference internal" href="../library/stat.html#stat.ST_MODE" title="stat.ST_MODE"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ST_MODE</span></code></a>, <a class="reference internal" href="../library/stat.html#stat.S_IFDOOR" title="stat.S_IFDOOR"><code class="xref py py-mod docutils literal notranslate"><span class="pre">S_IFDOOR</span></code></a>, <a class="reference internal" href="../library/stat.html#stat.S_IFPORT" title="stat.S_IFPORT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">S_IFPORT</span></code></a>, y <a class="reference internal" href="../library/stat.html#stat.S_IFWHT" title="stat.S_IFWHT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">S_IFWHT</span></code></a>.  (Contribución de Christian Hiemes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11016">bpo-11016</a>.)</p>
</section>
<section id="struct">
<h3>struct<a class="headerlink" href="#struct" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/struct.html#struct.iter_unpack" title="struct.iter_unpack"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iter_unpack</span></code></a> y un nuevo método <a class="reference internal" href="../library/struct.html#struct.Struct.iter_unpack" title="struct.Struct.iter_unpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">struct.Struct.iter_unpack()</span></code></a> en formatos compilados proporcionan un desempaquetado en flujo de un buffer que contiene instancias repetidas de un formato de datos dado. (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17804">bpo-17804</a>.)</p>
</section>
<section id="subprocess">
<h3>subproceso<a class="headerlink" href="#subprocess" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> acepta ahora un argumento <em>input</em> que puede utilizarse para proporcionar el contenido de <code class="docutils literal notranslate"><span class="pre">stdin</span></code> para el comando que se ejecuta. (Contribuido por Zack Weinberg en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16624">bpo-16624</a>.)</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">getstatus()</span></code> y <a class="reference internal" href="../library/subprocess.html#subprocess.getstatusoutput" title="subprocess.getstatusoutput"><code class="xref py py-func docutils literal notranslate"><span class="pre">getstatusoutput()</span></code></a> ahora funcionan en Windows.  Este cambio se realizó inadvertidamente en la versión 3.3.4. (Contribuido por Tim Golden en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=10197">bpo-10197</a>.)</p>
</section>
<section id="sunau">
<h3>sunau<a class="headerlink" href="#sunau" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">getparams()</span></code> ahora devuelve una tupla con nombre en lugar de una tupla simple.  (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18901">bpo-18901</a>.)</p>
<p><a class="reference internal" href="../library/sunau.html#sunau.open" title="sunau.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sunau.open()</span></code></a> ahora soporta el protocolo de gestión de contexto: cuando se utiliza en un bloque <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, el método <code class="docutils literal notranslate"><span class="pre">close</span></code> del objeto devuelto será llamado automáticamente al final del bloque.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18878">bpo-18878</a>.)</p>
<p><a class="reference internal" href="../library/sunau.html#sunau.AU_write.setsampwidth" title="sunau.AU_write.setsampwidth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AU_write.setsampwidth()</span></code></a> ahora soporta muestras de 24 bits, añadiendo así soporte para escribir 24 muestras usando el módulo.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19261">bpo-19261</a>.)</p>
<p>Los métodos <a class="reference internal" href="../library/sunau.html#sunau.AU_write.writeframesraw" title="sunau.AU_write.writeframesraw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframesraw()</span></code></a> y <a class="reference internal" href="../library/sunau.html#sunau.AU_write.writeframes" title="sunau.AU_write.writeframes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframes()</span></code></a> aceptan ahora cualquier <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a>.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8311">bpo-8311</a>.)</p>
</section>
<section id="sys">
<h3>sys<a class="headerlink" href="#sys" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva función <a class="reference internal" href="../library/sys.html#sys.getallocatedblocks" title="sys.getallocatedblocks"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getallocatedblocks()</span></code></a> devuelve el número actual de bloques asignados por el intérprete.  (En CPython con la configuración por defecto <code class="docutils literal notranslate"><span class="pre">--with-pymalloc</span></code>, se trata de asignaciones realizadas a través de la API <a class="reference internal" href="../c-api/memory.html#c.PyObject_Malloc" title="PyObject_Malloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Malloc()</span></code></a>)  Esto puede ser útil para rastrear las fugas de memoria, especialmente si se automatiza a través de un conjunto de pruebas.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13390">bpo-13390</a>.)</p>
<p>Cuando el intérprete de Python se inicia en <a class="reference internal" href="../tutorial/interpreter.html#tut-interactive"><span class="std std-ref">modo interactivo</span></a>, busca un atributo <a class="reference internal" href="../library/sys.html#sys.__interactivehook__" title="sys.__interactivehook__"><code class="xref py py-data docutils literal notranslate"><span class="pre">__interactivehook__</span></code></a> en el módulo <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>.  Si el atributo existe, se llama a su valor sin argumentos justo antes de iniciar el modo interactivo.  La comprobación se realiza después de leer el fichero <span class="target" id="index-156"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONSTARTUP"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONSTARTUP</span></code></a>, por lo que puede establecerse allí.  El módulo <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> <a class="reference internal" href="../library/site.html#rlcompleter-config"><span class="std std-ref">lo establece</span></a> a una función que permite completar el tabulador y guardar el historial (en <code class="file docutils literal notranslate"><span class="pre">~/.python-history</span></code>) si la plataforma soporta <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">readline</span></code></a>.  Si no quiere este (nuevo) comportamiento, puede anularlo en <span class="target" id="index-157"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONSTARTUP"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONSTARTUP</span></code></a>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">sitecustomize</span></code>, o <code class="xref py py-mod docutils literal notranslate"><span class="pre">usercustomize</span></code> borrando este atributo de <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a> (o poniéndolo en alguna otra llamada).  (Contribuido por Éric Araujo y Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5845">bpo-5845</a>.)</p>
</section>
<section id="tarfile">
<h3>tarfile<a class="headerlink" href="#tarfile" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a> soporta ahora una simple <a class="reference internal" href="../library/tarfile.html#tarfile-commandline"><span class="std std-ref">Interfaz de línea de comandos</span></a> cuando se llama como un script directamente o a través de <code class="docutils literal notranslate"><span class="pre">-m</span></code>.  Esto puede utilizarse para crear y extraer archivos tarfile.  (Contribuido por Berker Peksag en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13477">bpo-13477</a>.)</p>
</section>
<section id="textwrap">
<h3>textwrap<a class="headerlink" href="#textwrap" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La clase <a class="reference internal" href="../library/textwrap.html#textwrap.TextWrapper" title="textwrap.TextWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextWrapper</span></code></a> tiene dos nuevos atributos/argumentos de construcción: <a class="reference internal" href="../library/textwrap.html#textwrap.TextWrapper.max_lines" title="textwrap.TextWrapper.max_lines"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_lines</span></code></a>, que limita el número de líneas en la salida, y <a class="reference internal" href="../library/textwrap.html#textwrap.TextWrapper.placeholder" title="textwrap.TextWrapper.placeholder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">placeholder</span></code></a>, que es una cadena que aparecerá al final de la salida si se ha truncado debido a <em>max_lines</em>.  Basándose en estas capacidades, una nueva función de conveniencia <a class="reference internal" href="../library/textwrap.html#textwrap.shorten" title="textwrap.shorten"><code class="xref py py-func docutils literal notranslate"><span class="pre">shorten()</span></code></a> colapsa todos los espacios en blanco de la entrada a espacios simples y produce una sola línea de un <em>ancho</em> dado que termina con el <em>marcador de posición</em> (por defecto, <code class="docutils literal notranslate"><span class="pre">[...]</span></code>).  (Contribuido por Antoine Pitrou y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18585">bpo-18585</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18725">bpo-18725</a>)</p>
</section>
<section id="threading">
<h3>roscado<a class="headerlink" href="#threading" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El objeto <a class="reference internal" href="../library/threading.html#threading.Thread" title="threading.Thread"><code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code></a> que representa el hilo principal puede obtenerse de la nueva función <a class="reference internal" href="../library/threading.html#threading.main_thread" title="threading.main_thread"><code class="xref py py-func docutils literal notranslate"><span class="pre">main_thread()</span></code></a>.  En condiciones normales será el hilo desde el que se inició el intérprete de Python.  (Contribuido por Andrew Svetlov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18882">bpo-18882</a>.)</p>
</section>
<section id="traceback">
<h3>traceback<a class="headerlink" href="#traceback" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una nueva función <a class="reference internal" href="../library/traceback.html#traceback.clear_frames" title="traceback.clear_frames"><code class="xref py py-func docutils literal notranslate"><span class="pre">traceback.clear_frames()</span></code></a> toma un objeto traceback y borra las variables locales en todos los marcos a los que hace referencia, reduciendo la cantidad de memoria consumida.  (Contribuido por Andrew Kuchling en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1565525">bpo-1565525</a>.)</p>
</section>
<section id="types">
<h3>tipos<a class="headerlink" href="#types" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un nuevo descriptor <a class="reference internal" href="../library/types.html#types.DynamicClassAttribute" title="types.DynamicClassAttribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">DynamicClassAttribute()</span></code></a> proporciona una forma de definir un atributo que actúa normalmente cuando se busca a través de un objeto instancia, pero que se dirige a la <em>clase</em> <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code> cuando se busca a través de la clase.  Esto permite tener propiedades activas en una clase, y tener atributos virtuales en la clase con el mismo nombre (ver <code class="xref py py-mod docutils literal notranslate"><span class="pre">Enum</span></code> para un ejemplo). (Contribuido por Ethan Furman en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19030">bpo-19030</a>.)</p>
</section>
<section id="urllib">
<h3>urllib<a class="headerlink" href="#urllib" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a> ahora soporta URLs <code class="docutils literal notranslate"><span class="pre">data:</span></code> a través de la clase <a class="reference internal" href="../library/urllib.request.html#urllib.request.DataHandler" title="urllib.request.DataHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataHandler</span></code></a>.  (Contribuido por Mathias Panzenböck en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16423">bpo-16423</a>.)</p>
<p>El método http que será utilizado por una clase <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> puede ahora especificarse estableciendo un atributo de clase <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request.method" title="urllib.request.Request.method"><code class="xref py py-class docutils literal notranslate"><span class="pre">method</span></code></a> en la subclase.  (Contribuido por Jason R Coombs en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18978">bpo-18978</a>.)</p>
<p>Los objetos <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> son ahora reutilizables: si los atributos <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request.full_url" title="urllib.request.Request.full_url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">full_url</span></code></a> o <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request.data" title="urllib.request.Request.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> se modifican, todas las propiedades internas relevantes se actualizan.  Esto significa, por ejemplo, que ahora es posible utilizar el mismo objeto <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> en más de una llamada <a class="reference internal" href="../library/urllib.request.html#urllib.request.OpenerDirector.open" title="urllib.request.OpenerDirector.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OpenerDirector.open()</span></code></a> con diferentes argumentos <em>data</em>, o modificar la <code class="docutils literal notranslate"><span class="pre">url</span></code> de un <code class="xref py py-class docutils literal notranslate"><span class="pre">Request`</span></code> en lugar de volver a calcularla desde cero.  También hay un nuevo método <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request.remove_header" title="urllib.request.Request.remove_header"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_header()</span></code></a> que puede utilizarse para eliminar las cabeceras de una <a class="reference internal" href="../library/urllib.request.html#urllib.request.Request" title="urllib.request.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a>.  (Contribuido por Alexey Kachayev en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16464">bpo-16464</a>, Daniel Wozniak en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17485">bpo-17485</a>, y Damien Brecht y Senthil Kumaran en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17272">bpo-17272</a>)</p>
<p>Los objetos <a class="reference internal" href="../library/urllib.error.html#urllib.error.HTTPError" title="urllib.error.HTTPError"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPError</span></code></a> tienen ahora un atributo <a class="reference internal" href="../library/urllib.error.html#urllib.error.HTTPError.headers" title="urllib.error.HTTPError.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">headers</span></code></a> que proporciona acceso a las cabeceras de respuesta HTTP asociadas al error.  (Contribuido por Berker Peksag en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15701">bpo-15701</a>.)</p>
</section>
<section id="unittest">
<h3>unittest<a class="headerlink" href="#unittest" title="Enlazar permanentemente con este título">¶</a></h3>
<p>The <a class="reference internal" href="../library/unittest.html#unittest.TestCase" title="unittest.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a> class has a new method,
<a class="reference internal" href="../library/unittest.html#unittest.TestCase.subTest" title="unittest.TestCase.subTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subTest()</span></code></a>, that produces a context manager whose
<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> block becomes a «sub-test».  This context manager allows a test
method to dynamically generate subtests  by, say, calling the <code class="docutils literal notranslate"><span class="pre">subTest</span></code>
context manager inside a loop.  A single test method can thereby produce an
indefinite number of separately identified and separately counted tests, all of
which will run even if one or more of them fail.  For example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NumbersTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_even</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>dará como resultado seis subpruebas, cada una identificada en la salida verbose de unittest con una etiqueta que consiste en el nombre de la variable <code class="docutils literal notranslate"><span class="pre">i</span></code> y un valor particular para esa variable (<code class="docutils literal notranslate"><span class="pre">i=0</span></code>, <code class="docutils literal notranslate"><span class="pre">i=1</span></code>, etc).  Consulte la versión completa de este ejemplo en <a class="reference internal" href="../library/unittest.html#subtests"><span class="std std-ref">Distinguiendo iteraciones de tests empleando subtests</span></a>.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16997">bpo-16997</a>.)</p>
<p><a class="reference internal" href="../library/unittest.html#unittest.main" title="unittest.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.main()</span></code></a> ahora acepta un iterable de nombres de pruebas para <em>defaultTest</em>, donde antes sólo aceptaba un único nombre de prueba como cadena.  (Contribuido por Jyrki Pulliainen en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15132">bpo-15132</a>.)</p>
<p>Si <a class="reference internal" href="../library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">SkipTest</span></code></a> se lanza durante el descubrimiento de la prueba (es decir, en el nivel de módulo en el archivo de prueba), ahora se reporta como un salto en lugar de un error.  (Contribuido por Zach Ware en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16935">bpo-16935</a>.)</p>
<p><a class="reference internal" href="../library/unittest.html#unittest.TestLoader.discover" title="unittest.TestLoader.discover"><code class="xref py py-meth docutils literal notranslate"><span class="pre">discover()</span></code></a> ahora ordena los archivos descubiertos para proporcionar un orden de pruebas consistente.  (Contribuido por Martin Melin y Jeff Ramnani en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16709">bpo-16709</a>.)</p>
<p><a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a> ahora elimina las referencias a las pruebas tan pronto como la prueba se ha ejecutado, si la prueba tiene éxito.  En los intérpretes de Python que hacen recolección de basura, esto permite que las pruebas sean recolectadas si no hay nada más que mantenga una referencia a la prueba.  Es posible anular este comportamiento creando una subclase <a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a> que defina un método personalizado <code class="docutils literal notranslate"><span class="pre">_removeTestAtIndex</span></code>.  (Contribución de Tom Wardill, Matt McClure y Andrew Svetlov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11798">bpo-11798</a>)</p>
<p>Un nuevo gestor de contexto de aserción de pruebas, <a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertLogs" title="unittest.TestCase.assertLogs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertLogs()</span></code></a>, asegurará que un bloque de código dado emita un mensaje de registro utilizando el módulo <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>.  Por defecto, el mensaje puede provenir de cualquier registrador y tener una prioridad de <code class="docutils literal notranslate"><span class="pre">INFO</span></code> o superior, pero se puede especificar tanto el nombre del registrador como un nivel de registro mínimo alternativo.  El objeto devuelto por el gestor de contexto puede ser consultado para los mensajes <a class="reference internal" href="../library/logging.html#logging.LogRecord" title="logging.LogRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogRecord</span></code></a> s y/o formateados que fueron registrados.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18937">bpo-18937</a>.)</p>
<p>El descubrimiento de pruebas ahora funciona con paquetes de espacios de nombres (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17457">bpo-17457</a>.)</p>
<p>Los objetos <a class="reference internal" href="../library/unittest.mock.html#module-unittest.mock" title="unittest.mock: Mock object library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest.mock</span></code></a> ahora inspeccionan sus firmas de especificación cuando coinciden con las llamadas, lo que significa que un argumento ahora puede coincidir por posición o por nombre, en lugar de sólo por posición.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17015">bpo-17015</a>.)</p>
<p>Los objetos <code class="xref py py-func docutils literal notranslate"><span class="pre">mock_open()</span></code> tienen ahora métodos <code class="docutils literal notranslate"><span class="pre">readline</span></code> y <code class="docutils literal notranslate"><span class="pre">readlines</span></code>.  (Contribuido por Toshio Kuratomi en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17467">bpo-17467</a>.)</p>
</section>
<section id="venv">
<h3>venv<a class="headerlink" href="#venv" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/venv.html#module-venv" title="venv: Creation of virtual environments."><code class="xref py py-mod docutils literal notranslate"><span class="pre">venv</span></code></a> incluye ahora scripts de activación para los shells <code class="docutils literal notranslate"><span class="pre">csh</span></code> y <code class="docutils literal notranslate"><span class="pre">fish</span></code>.  (Contribuido por Andrew Svetlov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15417">bpo-15417</a>.)</p>
<p><a class="reference internal" href="../library/venv.html#venv.EnvBuilder" title="venv.EnvBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvBuilder</span></code></a> y la función de conveniencia <a class="reference internal" href="../library/venv.html#venv.create" title="venv.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">create()</span></code></a> toman un nuevo argumento de palabra clave <em>with_pip</em>, que por defecto es <code class="docutils literal notranslate"><span class="pre">False</span></code>, que controla si <a class="reference internal" href="../library/venv.html#venv.EnvBuilder" title="venv.EnvBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvBuilder</span></code></a> asegura que <code class="docutils literal notranslate"><span class="pre">pip</span></code> está instalado en el entorno virtual.  (Contribuido por Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19552">bpo-19552</a> como parte de la implementación de <span class="target" id="index-158"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>)</p>
</section>
<section id="wave">
<h3>onda<a class="headerlink" href="#wave" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">getparams()</span></code> ahora devuelve una tupla con nombre en lugar de una tupla simple.  (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17487">bpo-17487</a>.)</p>
<p><a class="reference internal" href="../library/wave.html#wave.open" title="wave.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wave.open()</span></code></a> ahora soporta el protocolo de gestión de contexto.  (Contribuido por Claudiu Popa en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17616">bpo-17616</a>.)</p>
<p><a class="reference internal" href="../library/wave.html#module-wave" title="wave: Provide an interface to the WAV sound format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wave</span></code></a> puede ahora <a class="reference internal" href="../library/wave.html#wave-write-objects"><span class="std std-ref">escribir la salida en archivos no buscables</span></a>.  (Contribución de David Jones, Guilherme Polo y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5202">bpo-5202</a>)</p>
<p>Los métodos <a class="reference internal" href="../library/wave.html#wave.Wave_write.writeframesraw" title="wave.Wave_write.writeframesraw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframesraw()</span></code></a> y <a class="reference internal" href="../library/wave.html#wave.Wave_write.writeframes" title="wave.Wave_write.writeframes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeframes()</span></code></a> aceptan ahora cualquier <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a>.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=8311">bpo-8311</a>.)</p>
</section>
<section id="weakref">
<h3>weakref<a class="headerlink" href="#weakref" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La nueva clase <a class="reference internal" href="../library/weakref.html#weakref.WeakMethod" title="weakref.WeakMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">WeakMethod</span></code></a> simula las referencias débiles a los métodos vinculados.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14631">bpo-14631</a>.)</p>
<p>La nueva clase <a class="reference internal" href="../library/weakref.html#weakref.finalize" title="weakref.finalize"><code class="xref py py-class docutils literal notranslate"><span class="pre">finalize</span></code></a> permite registrar una llamada de retorno para ser invocada cuando un objeto es recogido de la basura, sin necesidad de gestionar cuidadosamente el ciclo de vida de la propia referencia débil.  (Contribuido por Richard Oudkerk en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15528">bpo-15528</a>.)</p>
<p>La llamada de retorno, si la hay, asociada a un <a class="reference internal" href="../library/weakref.html#weakref.ref" title="weakref.ref"><code class="xref py py-class docutils literal notranslate"><span class="pre">ref</span></code></a> se expone ahora a través del atributo <a class="reference internal" href="../library/weakref.html#weakref.ref.__callback__" title="weakref.ref.__callback__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__callback__</span></code></a>.  (Contribuido por Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17643">bpo-17643</a>.)</p>
</section>
<section id="xml-etree">
<h3>xml.etree<a class="headerlink" href="#xml-etree" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un nuevo analizador sintáctico, <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLPullParser" title="xml.etree.ElementTree.XMLPullParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLPullParser</span></code></a>, permite que una aplicación no bloqueante analice documentos XML.  Un ejemplo puede verse en <a class="reference internal" href="../library/xml.etree.elementtree.html#elementtree-pull-parsing"><span class="std std-ref">API de consulta para un procesamiento no bloqueante</span></a>.  (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17741">bpo-17741</a>.)</p>
<p>Las funciones <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code></a> <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.tostring" title="xml.etree.ElementTree.tostring"><code class="xref py py-func docutils literal notranslate"><span class="pre">tostring()</span></code></a> y <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.tostringlist" title="xml.etree.ElementTree.tostringlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">tostringlist()</span></code></a>, y el método <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.ElementTree" title="xml.etree.ElementTree.ElementTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">ElementTree</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code>, tienen ahora un parámetro <em>short_empty_elements</em> <a class="reference internal" href="../glossary.html#keyword-only-parameter"><span class="std std-ref">parámetro de solo keyword</span></a> que permite controlar si los elementos sin contenido se escriben de forma abreviada (<code class="docutils literal notranslate"><span class="pre">&lt;tag</span> <span class="pre">/&gt;</span></code>) o expandida (<code class="docutils literal notranslate"><span class="pre">&lt;tag&gt;&lt;/tag&gt;</span></code>).  (Contribución de Ariel Poliak y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14377">bpo-14377</a>)</p>
</section>
<section id="zipfile">
<h3>archivo zip<a class="headerlink" href="#zipfile" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El método <a class="reference internal" href="../library/zipfile.html#zipfile.PyZipFile.writepy" title="zipfile.PyZipFile.writepy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writepy()</span></code></a> de la clase <a class="reference internal" href="../library/zipfile.html#zipfile.PyZipFile" title="zipfile.PyZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyZipFile</span></code></a> tiene una nueva opción <em>filterfunc</em> que puede utilizarse para controlar qué directorios y ficheros se añaden al archivo.  Por ejemplo, esto puede ser usado para excluir archivos de prueba del archivo. (Contribuido por Christian Tismer en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19274">bpo-19274</a>.)</p>
<p>El parámetro <em>allowZip64</em> de <a class="reference internal" href="../library/zipfile.html#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> y <code class="xref py py-class docutils literal notranslate"><span class="pre">PyZipfile</span></code> es ahora <code class="docutils literal notranslate"><span class="pre">True</span></code> por defecto.  (Contribuido por William Mallard en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17201">bpo-17201</a>.)</p>
</section>
</section>
<section id="cpython-implementation-changes">
<h2>Cambios en la implementación de CPython<a class="headerlink" href="#cpython-implementation-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="pep-445-customization-of-cpython-memory-allocators">
<span id="whatsnew-pep-445"></span><h3>PEP 445: Personalización de los Asignadores de Memoria de CPython<a class="headerlink" href="#pep-445-customization-of-cpython-memory-allocators" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-159"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0445"><strong>PEP 445</strong></a> añade nuevas interfaces de nivel C para personalizar la asignación de memoria en el intérprete de CPython.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-160"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0445"><strong>PEP 445</strong></a> – Añadir nuevas APIs para personalizar los asignadores de memoria de Python</dt><dd><p>PEP escrito y aplicado por Victor Stinner.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-442-safe-object-finalization">
<span id="whatsnew-pep-442"></span><h3>PEP 442: Finalización segura de objetos<a class="headerlink" href="#pep-442-safe-object-finalization" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-161"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0442"><strong>PEP 442</strong></a> elimina las limitaciones y peculiaridades actuales de la finalización de objetos en CPython. Con él, los objetos con métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__del__()</span></code>, así como los generadores con cláusulas <a class="reference internal" href="../reference/compound_stmts.html#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a>, pueden ser finalizados cuando forman parte de un ciclo de referencia.</p>
<p>Como parte de este cambio, los globales de los módulos ya no se establecen forzosamente a <a class="reference internal" href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a> durante el cierre del intérprete en la mayoría de los casos, sino que se confía en el funcionamiento normal del recolector de basura cíclico.  Esto evita toda una clase de errores durante el cierre del intérprete, normalmente relacionados con los métodos <code class="docutils literal notranslate"><span class="pre">del__</span></code>, que han afectado a Python desde que se introdujo el GC cíclico.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-162"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0442"><strong>PEP 442</strong></a> – Finalización segura del objeto</dt><dd><p>PEP escrito y aplicado por Antoine Pitrou.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-456-secure-and-interchangeable-hash-algorithm">
<span id="whatsnew-pep-456"></span><h3>PEP 456: Algoritmo Hash seguro e intercambiable<a class="headerlink" href="#pep-456-secure-and-interchangeable-hash-algorithm" title="Enlazar permanentemente con este título">¶</a></h3>
<p><span class="target" id="index-163"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0456"><strong>PEP 456</strong></a> es la continuación de un trabajo anterior de corrección de seguridad realizado en el algoritmo hash de Python para hacer frente a ciertos ataques DOS a los que pueden estar sujetas las APIs de cara al público respaldadas por búsquedas de diccionario.  (El PEP unifica el código hash de CPython para facilitar que un empaquetador sustituya un algoritmo hash diferente, y cambia la implementación por defecto de Python a una implementación SipHash en plataformas que tienen un tipo de datos de 64 bits.  Cualquier diferencia de rendimiento en comparación con el antiguo algoritmo FNV es trivial.</p>
<p>El PEP añade campos adicionales a la tupla con nombre <a class="reference internal" href="../library/sys.html#sys.hash_info" title="sys.hash_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.hash_info</span></code></a> para describir el algoritmo hash en uso por el binario que se está ejecutando.  Por lo demás, el PEP no altera ninguna de las APIs existentes de CPython.</p>
</section>
<section id="pep-436-argument-clinic">
<span id="whatsnew-pep-436"></span><h3>PEP 436: Clínica de Argumentación<a class="headerlink" href="#pep-436-argument-clinic" title="Enlazar permanentemente con este título">¶</a></h3>
<p>«Argument Clinic» (<span class="target" id="index-164"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0436"><strong>PEP 436</strong></a>) es ahora parte del proceso de construcción de CPython y puede ser utilizado para simplificar el proceso de definición y mantenimiento de firmas precisas para builtins y módulos de extensión de la biblioteca estándar implementados en C.</p>
<p>Algunos módulos de extensión de la biblioteca estándar han sido convertidos para utilizar Argument Clinic en Python 3.4, y <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a> y <a class="reference internal" href="../library/inspect.html#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect</span></code></a> han sido actualizados en consecuencia.</p>
<p>Se espera que los metadatos de firma para la introspección programática se añadan a los callables adicionales implementados en C como parte de las versiones de mantenimiento de Python 3.4.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El PEP de Argument Clinic no está completamente actualizado con el estado de la implementación. Esto ha sido considerado aceptable por el director de la versión y el equipo de desarrollo del núcleo en este caso, ya que Argument Clinic no estará disponible como una API pública para el uso de terceros en Python 3.4.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-165"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0436"><strong>PEP 436</strong></a> – La clínica de argumentos DSL</dt><dd><p>PEP escrito y aplicado por Larry Hastings.</p>
</dd>
</dl>
</div>
</section>
<section id="other-build-and-c-api-changes">
<h3>Otros cambios en la API de construcción y C<a class="headerlink" href="#other-build-and-c-api-changes" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>La nueva función <a class="reference internal" href="../c-api/type.html#c.PyType_GetSlot" title="PyType_GetSlot"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GetSlot()</span></code></a> ha sido añadida a la ABI estable, permitiendo la recuperación de punteros a funciones desde ranuras de tipos con nombre cuando se utiliza la API limitada.  (Contribuido por Martin von Löwis en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17162">bpo-17162</a>.)</p></li>
<li><p>La nueva API de preinicialización <a class="reference internal" href="../c-api/init.html#c.Py_SetStandardStreamEncoding" title="Py_SetStandardStreamEncoding"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetStandardStreamEncoding()</span></code></a> permite a las aplicaciones que incrustan el intérprete de CPython forzar de forma fiable una codificación concreta y un manejador de errores para los flujos estándar. (Contribuido por Bastien Montagne y Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16129">bpo-16129</a>.)</p></li>
<li><p>La mayoría de las APIs de C de Python que no mutan los argumentos de cadena están ahora correctamente marcadas como aceptando <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span></code>.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1772673">bpo-1772673</a>.)</p></li>
<li><p>Una nueva versión de shell de <code class="docutils literal notranslate"><span class="pre">python-config</span></code> puede ser utilizada incluso cuando un intérprete de python no está disponible (por ejemplo, en escenarios de compilación cruzada).</p></li>
<li><p><a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_FromFormat" title="PyUnicode_FromFormat"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_FromFormat()</span></code></a> ahora soporta especificaciones de anchura y precisión para <code class="docutils literal notranslate"><span class="pre">%s</span></code>, <code class="docutils literal notranslate"><span class="pre">%A</span></code>, <code class="docutils literal notranslate"><span class="pre">%U</span></code>, <code class="docutils literal notranslate"><span class="pre">%V</span></code>, <code class="docutils literal notranslate"><span class="pre">%S</span></code> y <code class="docutils literal notranslate"><span class="pre">%R</span></code>. (Contribución de Ysj Ray y Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=7330">bpo-7330</a>.)</p></li>
<li><p>La nueva función <a class="reference internal" href="../c-api/tuple.html#c.PyStructSequence_InitType2" title="PyStructSequence_InitType2"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStructSequence_InitType2()</span></code></a> complementa la función existente <a class="reference internal" href="../c-api/tuple.html#c.PyStructSequence_InitType" title="PyStructSequence_InitType"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStructSequence_InitType()</span></code></a>.  La diferencia es que devuelve <code class="docutils literal notranslate"><span class="pre">0</span></code> en caso de éxito y <code class="docutils literal notranslate"><span class="pre">-1</span></code> en caso de fallo.</p></li>
<li><p>El código fuente de CPython puede ahora ser compilado usando las características de comprobación de sanidad de direcciones de las versiones recientes de GCC y clang: las falsas alarmas en el asignador de objetos pequeños han sido silenciadas.  (Contribuido por Dhiru Kholia en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18596">bpo-18596</a>.)</p></li>
<li><p>La versión de Windows utiliza ahora <a class="reference external" href="https://en.wikipedia.org/wiki/Address_space_layout_randomization">Address Space Layout Randomization</a> y <a class="reference external" href="https://en.wikipedia.org/wiki/Data_Execution_Prevention">Data Execution Prevention</a>.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16632">bpo-16632</a>.)</p></li>
<li><p>La nueva función <a class="reference internal" href="../c-api/object.html#c.PyObject_LengthHint" title="PyObject_LengthHint"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_LengthHint()</span></code></a> es el equivalente en la API de C de <a class="reference internal" href="../library/operator.html#operator.length_hint" title="operator.length_hint"><code class="xref py py-func docutils literal notranslate"><span class="pre">operator.length_hint()</span></code></a>.  (Contribuido por Armin Ronacher en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16148">bpo-16148</a>.)</p></li>
</ul>
</section>
<section id="other-improvements">
<span id="other-improvements-3-4"></span><h3>Otras mejoras<a class="headerlink" href="#other-improvements" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple" id="whatsnew-isolated-mode">
<li><p>El <a class="reference internal" href="../using/cmdline.html#using-on-cmdline"><span class="std std-ref">python</span></a> tiene una nueva <a class="reference internal" href="../using/cmdline.html#using-on-misc-options"><span class="std std-ref">option</span></a>, <code class="docutils literal notranslate"><span class="pre">-I</span></code>, que hace que se ejecute en «modo aislado», lo que significa que <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> no contiene ni el directorio del script ni el directorio <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> del usuario, y todas las variables de entorno <span class="target" id="index-166"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHON*</span></code> son ignoradas (implica tanto <code class="docutils literal notranslate"><span class="pre">-s</span></code> como <code class="docutils literal notranslate"><span class="pre">-E</span></code>).  También pueden aplicarse otras restricciones en el futuro, con el objetivo de aislar la ejecución de un script del entorno del usuario.  Esto es apropiado, por ejemplo, cuando se utiliza Python para ejecutar un script del sistema.  En la mayoría de los sistemas POSIX puede y debe utilizarse en la línea <code class="docutils literal notranslate"><span class="pre">#!</span></code> de los scripts del sistema.  (Contribuido por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16499">bpo-16499</a>.)</p></li>
<li><p>El completamiento de tabulaciones está ahora habilitado por defecto en el intérprete interactivo en los sistemas que soportan <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">readline</span></code></a>.  El historial también está activado por defecto, y se escribe (y se lee) en el archivo <code class="file docutils literal notranslate"><span class="pre">~/.python-history</span></code>. (Contribuido por Antoine Pitrou y Éric Araujo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5845">bpo-5845</a>.)</p></li>
<li><p>La invocación del intérprete de Python con <code class="docutils literal notranslate"><span class="pre">--versión</span></code> ahora muestra la versión en la salida estándar en lugar de en el error estándar (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18338">bpo-18338</a>). Se han realizado cambios similares en <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18920">bpo-18920</a>) y en otros módulos que tienen capacidades de invocación tipo script (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18922">bpo-18922</a>).</p></li>
<li><p>El instalador de CPython para Windows añade ahora <code class="docutils literal notranslate"><span class="pre">.py</span></code> a la variable <span class="target" id="index-167"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATHEXT</span></code> cuando se registran las extensiones, permitiendo a los usuarios ejecutar un script de python en el símbolo del sistema de Windows con sólo escribir su nombre sin la extensión <code class="docutils literal notranslate"><span class="pre">.py</span></code>.  (Contribuido por Paul Moore en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18569">bpo-18569</a>.)</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">make</span></code> target <a class="reference external" href="https://devguide.python.org/coverage/#measuring-coverage-of-c-code-with-gcov-and-lcov">coverage-report</a>
will build python, run the test suite, and generate an HTML coverage report
for the C codebase using <code class="docutils literal notranslate"><span class="pre">gcov</span></code> and <a class="reference external" href="https://ltp.sourceforge.net/coverage/lcov.php">lcov</a>.</p></li>
<li><p>La opción <code class="docutils literal notranslate"><span class="pre">-R</span></code> del <a class="reference internal" href="../library/test.html#regrtest"><span class="std std-ref">conjunto de pruebas de regresión de python</span></a> ahora también comprueba las fugas de asignación de memoria, utilizando <a class="reference internal" href="../library/sys.html#sys.getallocatedblocks" title="sys.getallocatedblocks"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getallocatedblocks()</span></code></a>. (Contribuido por Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13390">bpo-13390</a>.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span></code> ahora funciona con paquetes de espacios de nombres.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/stat.html#module-stat" title="stat: Utilities for interpreting the results of os.stat(), os.lstat() and os.fstat()."><code class="xref py py-mod docutils literal notranslate"><span class="pre">stat</span></code></a> está ahora implementado en C, lo que significa que obtiene los valores de sus constantes de los archivos de cabecera de C, en lugar de tener los valores codificados en el módulo de python como ocurría anteriormente.</p></li>
<li><p>La carga de múltiples módulos de python desde un único módulo del sistema operativo (<code class="docutils literal notranslate"><span class="pre">.so</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll</span></code>) ahora funciona correctamente (antes devolvía silenciosamente el primer módulo de python del archivo).  (Contribuido por Václav Šmilauer en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16421">bpo-16421</a>.)</p></li>
<li><p>Se ha añadido un nuevo opcode, <a class="reference internal" href="../library/dis.html#opcode-LOAD_CLASSDEREF"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">LOAD_CLASSDEREF</span></code></a>, para corregir un error en la carga de variables libres en los cuerpos de las clases que podía ser provocado por ciertos usos de <a class="reference internal" href="../reference/datamodel.html#prepare"><span class="std std-ref">__prepare__</span></a>.  (Contribuido por Benjamin Peterson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17853">bpo-17853</a>.)</p></li>
<li><p>Victor Stinner identificó y corrigió una serie de fallos relacionados con MemoryError utilizando su herramienta <code class="docutils literal notranslate"><span class="pre">pyfailmalloc</span></code> basada en <span class="target" id="index-168"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0445"><strong>PEP 445</strong></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18408">bpo-18408</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18520">bpo-18520</a>).</p></li>
<li><p>El comando <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> acepta ahora la opción <code class="docutils literal notranslate"><span class="pre">--copies</span></code> para utilizar copias en lugar de enlaces simbólicos, incluso en sistemas en los que los enlaces simbólicos son los predeterminados.  (Contribuido por Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18807">bpo-18807</a>.)</p></li>
<li><p>El comando <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> también acepta la opción <code class="docutils literal notranslate"><span class="pre">--without-pip</span></code> para suprimir el arranque automático de pip en el entorno virtual.  (Contribuido por Nick Coghlan en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19552">bpo-19552</a> como parte de la implementación de <span class="target" id="index-169"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0453"><strong>PEP 453</strong></a>)</p></li>
<li><p>El nombre de la codificación es ahora opcional en el valor establecido para la variable de entorno <span class="target" id="index-170"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONIOENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONIOENCODING</span></code></a>.  Esto hace posible establecer sólo el manejador de errores, sin cambiar la codificación por defecto. (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18818">bpo-18818</a>.)</p></li>
<li><p>Las funciones del módulo <a class="reference internal" href="../library/bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a>, <a class="reference internal" href="../library/lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a> y <a class="reference internal" href="../library/gzip.html#module-gzip" title="gzip: Interfaces for gzip compression and decompression using file objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gzip</span></code></a> ahora soportan el modo <code class="docutils literal notranslate"><span class="pre">x</span></code> (creación exclusiva).  (Contribución de Tim Heaney y Vajrasky Kok en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19201">bpo-19201</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19222">bpo-19222</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19223">bpo-19223</a>)</p></li>
</ul>
</section>
<section id="significant-optimizations">
<h3>Optimizaciones significativas<a class="headerlink" href="#significant-optimizations" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>El decodificador de UTF-32 es ahora entre 3 y 4 veces más rápido.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14625">bpo-14625</a>.)</p></li>
<li><p>Se ha reducido el coste de las colisiones de hash para los conjuntos.  Cada sondeo de la tabla hash comprueba ahora una serie de pares clave/hash consecutivos y adyacentes antes de continuar haciendo sondeos aleatorios a través de la tabla hash.  Esto aprovecha la localidad de la caché para que la resolución de colisiones sea menos costosa. El esquema de resolución de colisiones puede describirse como un híbrido de sondeo lineal y direccionamiento abierto.  El número de sondeos lineales adicionales es por defecto de nueve.  Esto puede cambiarse en tiempo de compilación definiendo LINEAR_PROBES con cualquier valor.  Establezca LINEAR_PROBES=0 para desactivar completamente el sondeo lineal.  (Contribuido por Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18771">bpo-18771</a>.)</p></li>
<li><p>El intérprete comienza alrededor de 30% faster. Un par de medidas conducen a la aceleración. El intérprete carga menos módulos al iniciar, por ejemplo, los módulos <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a>, <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> y <a class="reference internal" href="../library/locale.html#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> y sus dependencias ya no se importan por defecto. Se ha mejorado el módulo marshal para cargar más rápidamente el código Python compilado.  (Contribución de Antoine Pitrou, Christian Heimes y Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19219">bpo-19219</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19218">bpo-19218</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19209">bpo-19209</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19205">bpo-19205</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9548">bpo-9548</a>)</p></li>
<li><p><a class="reference internal" href="../library/bz2.html#bz2.BZ2File" title="bz2.BZ2File"><code class="xref py py-class docutils literal notranslate"><span class="pre">bz2.BZ2File</span></code></a> es ahora tan rápido o más que la versión de Python2 en la mayoría de los casos. <a class="reference internal" href="../library/lzma.html#lzma.LZMAFile" title="lzma.LZMAFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">lzma.LZMAFile</span></code></a> también ha sido optimizado.  (Contribuido por Serhiy Storchaka y Nadeem Vawda en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16034">bpo-16034</a>)</p></li>
<li><p><a class="reference internal" href="../library/random.html#random.getrandbits" title="random.getrandbits"><code class="xref py py-func docutils literal notranslate"><span class="pre">random.getrandbits()</span></code></a> es un 20%-40% más rápido para enteros pequeños (el caso de uso más común).  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16674">bpo-16674</a>.)</p></li>
<li><p>Al aprovechar el nuevo formato de almacenamiento de las cadenas, el decapado de las cadenas es ahora significativamente más rápido.  (Contribución de Victor Stinner y Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15596">bpo-15596</a>.)</p></li>
<li><p>Se ha resuelto un problema de rendimiento en <code class="xref py py-meth docutils literal notranslate"><span class="pre">io.FileIO.readall()</span></code>.  Esto afecta particularmente a Windows, y acelera significativamente el caso de canalizar cantidades significativas de datos a través de <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a>.  (Contribuido por Richard Oudkerk en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15758">bpo-15758</a>.)</p></li>
<li><p><a class="reference internal" href="../library/html.html#html.escape" title="html.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">html.escape()</span></code></a> es ahora 10 veces más rápido.  (Contribuido por Matt Bryant en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18020">bpo-18020</a>.)</p></li>
<li><p>En Windows, ahora se utiliza el <code class="docutils literal notranslate"><span class="pre">VirtualAlloc</span></code> nativo en lugar del <code class="docutils literal notranslate"><span class="pre">malloc</span></code> de CRT en <code class="docutils literal notranslate"><span class="pre">obmalloc</span></code>.  Los benchmarks artificiales muestran un ahorro de memoria de alrededor del 3%.</p></li>
<li><p><a class="reference internal" href="../library/os.html#os.urandom" title="os.urandom"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.urandom()</span></code></a> now uses a lazily opened persistent file descriptor
so as to avoid using many file descriptors when run in parallel from
multiple threads.  (Contributed by Antoine Pitrou in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18756">bpo-18756</a>.)</p></li>
</ul>
</section>
</section>
<section id="deprecated">
<span id="deprecated-3-4"></span><h2>Obsoleto<a class="headerlink" href="#deprecated" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección cubre varias APIs y otras características que han sido desaprobadas en Python 3.4, y que serán eliminadas en Python 3.5 o posterior.  En la mayoría de los casos (pero no en todos), el uso de las APIs obsoletas producirá un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> cuando el intérprete se ejecute con las advertencias de obturación activadas (por ejemplo, usando <code class="docutils literal notranslate"><span class="pre">-Wd</span></code>).</p>
<section id="deprecations-in-the-python-api">
<h3>Desapariciones en la API de Python<a class="headerlink" href="#deprecations-in-the-python-api" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Como se menciona en <a class="reference internal" href="#whatsnew-pep-451"><span class="std std-ref">PEP 451: Un tipo ModuleSpec para el sistema de importación</span></a>, varios métodos y funciones de <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> están obsoletos: <a class="reference internal" href="../library/importlib.html#importlib.find_loader" title="importlib.find_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.find_loader()</span></code></a> se sustituye por <a class="reference internal" href="../library/importlib.html#importlib.util.find_spec" title="importlib.util.find_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.find_spec()</span></code></a>; <a class="reference internal" href="../library/importlib.html#importlib.machinery.PathFinder.find_module" title="importlib.machinery.PathFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.PathFinder.find_module()</span></code></a> se sustituye por <a class="reference internal" href="../library/importlib.html#importlib.machinery.PathFinder.find_spec" title="importlib.machinery.PathFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.PathFinder.find_spec()</span></code></a>; <a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder.find_module" title="importlib.abc.MetaPathFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_module()</span></code></a> se sustituye por <a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder.find_spec" title="importlib.abc.MetaPathFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_spec()</span></code></a>; <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_loader" title="importlib.abc.PathEntryFinder.find_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_loader()</span></code></a> y <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_module" title="importlib.abc.PathEntryFinder.find_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_module()</span></code></a> se sustituyen por <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_spec" title="importlib.abc.PathEntryFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_spec()</span></code></a>; todos los métodos <code class="docutils literal notranslate"><span class="pre">xxxLoader</span></code> ABC <code class="docutils literal notranslate"><span class="pre">load_module</span></code> (<a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.load_module" title="importlib.abc.Loader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.Loader.load_module()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader.load_module" title="importlib.abc.InspectLoader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.InspectLoader.load_module()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.abc.FileLoader.load_module" title="importlib.abc.FileLoader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.FileLoader.load_module()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.abc.SourceLoader.load_module" title="importlib.abc.SourceLoader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.SourceLoader.load_module()</span></code></a>) ya no deberían implementarse, en su lugar los cargadores deberían implementar un método <code class="docutils literal notranslate"><span class="pre">exec_module</span></code> (<a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.exec_module" title="importlib.abc.Loader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.Loader.exec_module()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.abc.InspectLoader.exec_module" title="importlib.abc.InspectLoader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.InspectLoader.exec_module()</span></code></a> <a class="reference internal" href="../library/importlib.html#importlib.abc.SourceLoader.exec_module" title="importlib.abc.SourceLoader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.SourceLoader.exec_module()</span></code></a>) y dejar que el sistema de importación se encargue del resto; y <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.module_repr" title="importlib.abc.Loader.module_repr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.Loader.module_repr()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.util.module_for_loader" title="importlib.util.module_for_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.util.module_for_loader()</span></code></a>, <a class="reference internal" href="../library/importlib.html#importlib.util.set_loader" title="importlib.util.set_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.util.set_loader()</span></code></a>, y <a class="reference internal" href="../library/importlib.html#importlib.util.set_package" title="importlib.util.set_package"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.util.set_package()</span></code></a> ya no son necesarios porque sus funciones son ahora manejadas automáticamente por el sistema de importación.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/imp.html#module-imp" title="imp: Access the implementation of the import statement. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code></a> está pendiente de ser eliminado. Para mantener la compatibilidad con las bases de código de Python 2/3, la eliminación del módulo no está programada actualmente.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">formatter</span></code> está pendiente de desaprobación y está previsto que se elimine en Python 3.6.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MD5</span></code> como <em>digestmod</em> por defecto para la función <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">hmac.new()</span></code></a> está en desuso.  Python 3.6 requerirá un nombre de compendio o constructor explícito como argumento <em>digestmod</em>.</p></li>
<li><p>La clase interna <code class="docutils literal notranslate"><span class="pre">Netrc</span></code> en el módulo <a class="reference internal" href="../library/ftplib.html#module-ftplib" title="ftplib: FTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ftplib</span></code></a> ha sido documentada como obsoleta en su docstring durante bastante tiempo.  Ahora emite un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> y se eliminará por completo en Python 3.5.</p></li>
<li><p>El argumento indocumentado <em>endtime</em> de <a class="reference internal" href="../library/subprocess.html#subprocess.Popen.wait" title="subprocess.Popen.wait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subprocess.Popen.wait()</span></code></a> no debería haber sido expuesto y es de esperar que no esté en uso; es obsoleto y muy probablemente será eliminado en Python 3.5.</p></li>
<li><p>El argumento <em>strict</em> de <a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a> está obsoleto.</p></li>
<li><p>Las funciones <a class="reference internal" href="../library/plistlib.html#module-plistlib" title="plistlib: Generate and parse Apple plist files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">plistlib</span></code></a> <code class="xref py py-func docutils literal notranslate"><span class="pre">readPlist()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">writePlist()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">readPlistFromBytes()</span></code>, y <code class="xref py py-func docutils literal notranslate"><span class="pre">writePlistToBytes()</span></code> quedan obsoletas en favor de las correspondientes nuevas funciones <a class="reference internal" href="../library/plistlib.html#plistlib.load" title="plistlib.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, <a class="reference internal" href="../library/plistlib.html#plistlib.dump" title="plistlib.dump"><code class="xref py py-func docutils literal notranslate"><span class="pre">dump()</span></code></a>, <a class="reference internal" href="../library/plistlib.html#plistlib.loads" title="plistlib.loads"><code class="xref py py-func docutils literal notranslate"><span class="pre">loads()</span></code></a>, y <a class="reference internal" href="../library/plistlib.html#plistlib.dumps" title="plistlib.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>. <code class="xref py py-func docutils literal notranslate"><span class="pre">Data()</span></code> queda obsoleta en favor de la utilización del constructor <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</p></li>
<li><p>La clave <a class="reference internal" href="../library/sysconfig.html#module-sysconfig" title="sysconfig: Python's configuration information"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sysconfig</span></code></a> <code class="docutils literal notranslate"><span class="pre">SO</span></code> está obsoleta, ha sido sustituida por <code class="docutils literal notranslate"><span class="pre">EXT_SUFFIX</span></code>.</p></li>
<li><p>El modo <code class="docutils literal notranslate"><span class="pre">U</span></code> aceptado por varias funciones <code class="docutils literal notranslate"><span class="pre">open</span></code> está obsoleto. En Python3 no hace nada útil, y debe ser reemplazado por usos apropiados de <a class="reference internal" href="../library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> (si es necesario) y su argumento <em>newline</em>.</p></li>
<li><p>El argumento <em>parser</em> de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.iterparse" title="xml.etree.ElementTree.iterparse"><code class="xref py py-func docutils literal notranslate"><span class="pre">xml.etree.ElementTree.iterparse()</span></code></a> ha quedado obsoleto, al igual que el argumento <em>html</em> de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><code class="xref py py-func docutils literal notranslate"><span class="pre">XMLParser()</span></code></a>.  Para prepararse para la eliminación de este último, todos los argumentos de <code class="docutils literal notranslate"><span class="pre">XMLParser</span></code> deben pasarse por palabra clave.</p></li>
</ul>
</section>
<section id="deprecated-features">
<h3>Funciones obsoletas<a class="headerlink" href="#deprecated-features" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>La ejecución de <a class="reference internal" href="../library/idle.html#idle"><span class="std std-ref">IDLE</span></a> con la bandera <code class="docutils literal notranslate"><span class="pre">n</span></code> (sin subproceso) está obsoleta. Sin embargo, la función no se eliminará hasta que se resuelva el problema <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18823">bpo-18823</a>.</p></li>
<li><p>El módulo site que añade un directorio «site-python» a sys.path, si existe, está obsoleto (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19375">bpo-19375</a>).</p></li>
</ul>
</section>
</section>
<section id="removed">
<h2>Removido<a class="headerlink" href="#removed" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="operating-systems-no-longer-supported">
<h3>Sistemas operativos que ya no son compatibles<a class="headerlink" href="#operating-systems-no-longer-supported" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se ha eliminado la compatibilidad con los siguientes sistemas operativos en las herramientas de origen y de compilación:</p>
<ul class="simple">
<li><p>OS/2 (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16135">bpo-16135</a>).</p></li>
<li><p>Windows 2000 (changeset e52df05b496a).</p></li>
<li><p>Sistemas Windows donde <code class="docutils literal notranslate"><span class="pre">COMSPEC</span></code> apunta a <code class="docutils literal notranslate"><span class="pre">command.com</span></code> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14470">bpo-14470</a>).</p></li>
<li><p>VMS (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16136">bpo-16136</a>).</p></li>
</ul>
</section>
<section id="api-and-feature-removals">
<h3>Eliminación de la API y de las funciones<a class="headerlink" href="#api-and-feature-removals" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se han eliminado las siguientes APIs y características obsoletas y previamente obsoletas:</p>
<ul class="simple">
<li><p>Los directorios <code class="docutils literal notranslate"><span class="pre">Misc/TextMate</span></code> y <code class="docutils literal notranslate"><span class="pre">Misc/vim</span></code> no mantenidos han sido eliminados (ver la <a class="reference external" href="https://devguide.python.org">devguide</a> para sugerencias sobre qué usar en su lugar).</p></li>
<li><p>Se ha eliminado la macro makefile <code class="docutils literal notranslate"><span class="pre">SO</span></code> (se ha sustituido por las macros <code class="docutils literal notranslate"><span class="pre">SHLIB_SUFFIX</span></code> y <code class="docutils literal notranslate"><span class="pre">EXT_SUFFIX</span></code>) (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16754">bpo-16754</a>).</p></li>
<li><p>Se ha eliminado el campo <code class="docutils literal notranslate"><span class="pre">PyThreadState.tick_counter</span></code>; su valor no tiene sentido desde Python 3.2, cuando se introdujo el «nuevo GIL» (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19199">bpo-19199</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PyLoader</span></code> y <code class="docutils literal notranslate"><span class="pre">PyPycLoader</span></code> han sido eliminados de <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a>. (Contribuido por Taras Lyapun en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15641">bpo-15641</a>.)</p></li>
<li><p>Se ha eliminado el argumento <em>estricto</em> de <a class="reference internal" href="../library/http.client.html#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> y <a class="reference internal" href="../library/http.client.html#http.client.HTTPSConnection" title="http.client.HTTPSConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPSConnection</span></code></a>.  Ya no se admiten las «respuestas simples» del estilo de HTTP 0.9.</p></li>
<li><p>Los métodos getter y setter <a class="reference internal" href="../library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a> obsoletos <code class="docutils literal notranslate"><span class="pre">add_data</span></code>, <code class="docutils literal notranslate"><span class="pre">has_data</span></code>, <code class="docutils literal notranslate"><span class="pre">get_data</span></code>, <code class="docutils literal notranslate"><span class="pre">get_type</span></code>, <code class="docutils literal notranslate"><span class="pre">get_host</span></code>, <code class="docutils literal notranslate"><span class="pre">get_selector</span></code>, <code class="docutils literal notranslate"><span class="pre">set_proxy</span></code>, <code class="docutils literal notranslate"><span class="pre">get_origin_req_host</span></code>, y <code class="docutils literal notranslate"><span class="pre">is_unverifiable</span></code> han sido eliminados (utilice en su lugar el acceso directo a atributos).</p></li>
<li><p>Se ha eliminado el soporte para cargar el obsoleto <code class="docutils literal notranslate"><span class="pre">TYPE_INT64</span></code> de <a class="reference internal" href="../library/marshal.html#module-marshal" title="marshal: Convert Python objects to streams of bytes and back (with different constraints)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">marshal</span></code></a>.  (Contribuido por Dan Riti en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15480">bpo-15480</a>.)</p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.Signature" title="inspect.Signature"><code class="xref py py-class docutils literal notranslate"><span class="pre">inspect.Signature</span></code></a>: ahora se requiere que los parámetros sólo posicionales tengan un nombre válido.</p></li>
<li><p><a class="reference internal" href="../reference/datamodel.html#object.__format__" title="object.__format__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__format__()</span></code></a> ya no acepta cadenas de formato no vacías, ahora lanza un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> en su lugar.  El uso de una cadena no vacía ha sido desaprobado desde Python 3.2.  Este cambio se ha hecho para evitar una situación en la que el código que antes funcionaba (pero era incorrecto) empezaba a fallar si un objeto ganaba un método __format__, lo que significa que su código puede ahora lanzar un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> si está usando un código de formato <code class="docutils literal notranslate"><span class="pre">s</span></code> con objetos que no tienen un método __format__ que lo maneje.  Véase <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=7994">bpo-7994</a> para más información.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">difflib.SequenceMatcher.isbjunk()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">difflib.SequenceMatcher.isbpopular()</span></code> estaban obsoletos en la 3.2, y han sido eliminados: utilice <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">en</span> <span class="pre">sm.bjunk</span></code> y <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">en</span> <span class="pre">sm.bpopular</span></code>, donde <em>sm</em> es un objeto <a class="reference internal" href="../library/difflib.html#difflib.SequenceMatcher" title="difflib.SequenceMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceMatcher</span></code></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13248">bpo-13248</a>).</p></li>
</ul>
</section>
<section id="code-cleanups">
<h3>Limpieza del código<a class="headerlink" href="#code-cleanups" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Se ha eliminado la clase interna <code class="docutils literal notranslate"><span class="pre">Scanner</span></code> no utilizada y no documentada del módulo <a class="reference internal" href="../library/pydoc.html#module-pydoc" title="pydoc: Documentation generator and online help system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pydoc</span></code></a>.</p></li>
<li><p>Se ha eliminado el módulo privado y efectivamente inutilizado <code class="docutils literal notranslate"><span class="pre">_gestalt</span></code>, junto con las funciones privadas de <a class="reference internal" href="../library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a> <code class="docutils literal notranslate"><span class="pre">_mac_ver_lookup</span></code>, <code class="docutils literal notranslate"><span class="pre">_mac_ver_gstalt</span></code>, y <code class="docutils literal notranslate"><span class="pre">_bcd2str</span></code>, que sólo habrían sido llamadas en sistemas OSX muy estropeados (ver <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18393">bpo-18393</a>).</p></li>
<li><p>Se han eliminado las copias codificadas de ciertas constantes <a class="reference internal" href="../library/stat.html#module-stat" title="stat: Utilities for interpreting the results of os.stat(), os.lstat() and os.fstat()."><code class="xref py py-mod docutils literal notranslate"><span class="pre">stat</span></code></a> que se incluían en el espacio de nombres del módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a>.</p></li>
</ul>
</section>
</section>
<section id="porting-to-python-3-4">
<h2>Adaptación a Python 3.4<a class="headerlink" href="#porting-to-python-3-4" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección enumera los cambios descritos anteriormente y otras correcciones de errores que pueden requerir cambios en su código.</p>
<section id="changes-in-python-command-behavior">
<h3>Cambios en el comportamiento del comando “python”<a class="headerlink" href="#changes-in-python-command-behavior" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>En un shell posix, establecer la variable de entorno <span class="target" id="index-171"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> a un valor vacío es equivalente a no establecerla en absoluto.  Sin embargo, establecer <span class="target" id="index-172"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></a> a un valor vacío era <em>no</em> equivalente a no establecerla en absoluto: establecer <span class="target" id="index-173"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></a> a un valor vacío era equivalente a establecerla a <code class="docutils literal notranslate"><span class="pre">.</span></code>, lo que lleva a confusión cuando se razona por analogía con el funcionamiento de <span class="target" id="index-174"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>.  El comportamiento ahora se ajusta a la convención posix para <span class="target" id="index-175"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>.</p></li>
<li><p>La salida [X refs, Y blocks] de una compilación de depuración (<code class="docutils literal notranslate"><span class="pre">--con-pydebug</span></code>) del intérprete de CPython está ahora desactivada por defecto.  Se puede volver a activar usando la opción <code class="docutils literal notranslate"><span class="pre">-X</span> <span class="pre">showrefcount</span></code>.  (Contribuido por Ezio Melotti en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17323">bpo-17323</a>.)</p></li>
<li><p>El comando python y la mayoría de los scripts de stdlib (así como <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a>) ahora envían la información de <code class="docutils literal notranslate"><span class="pre">--version</span></code> a <code class="docutils literal notranslate"><span class="pre">stdout</span></code> en lugar de a <code class="docutils literal notranslate"><span class="pre">stderr</span></code> (para la lista de problemas, véase <a class="reference internal" href="#other-improvements-3-4"><span class="std std-ref">Otras mejoras</span></a> más arriba).</p></li>
</ul>
</section>
<section id="changes-in-the-python-api">
<h3>Cambios en la API de Python<a class="headerlink" href="#changes-in-the-python-api" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Los ABCs definidos en <a class="reference internal" href="../library/importlib.html#module-importlib.abc" title="importlib.abc: Abstract base classes related to import"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.abc</span></code></a> ahora lanzan la excepción apropiada o devuelven un valor por defecto en lugar de lanzar <a class="reference internal" href="../library/exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> a ciegas. Esto sólo afectará al código que llame a <a class="reference internal" href="../library/functions.html#super" title="super"><code class="xref py py-func docutils literal notranslate"><span class="pre">super()</span></code></a> y que llegue hasta el ABC. Por compatibilidad, capture tanto <a class="reference internal" href="../library/exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> como la excepción apropiada según sea necesario.</p></li>
<li><p>El tipo de módulo ahora inicializa los atributos <a class="reference internal" href="../reference/import.html#package__" title="__package__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__package__</span></code></a> y <a class="reference internal" href="../reference/import.html#loader__" title="__loader__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__loader__</span></code></a> a <code class="docutils literal notranslate"><span class="pre">None</span></code> por defecto. Para determinar si estos atributos se establecieron de forma retrocompatible, utilice, por ejemplo, <code class="docutils literal notranslate"><span class="pre">getattr(module,</span> <span class="pre">'__loader__',</span> <span class="pre">None)</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">None</span></code>.  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17115">bpo-17115</a>.)</p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.util.module_for_loader" title="importlib.util.module_for_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.util.module_for_loader()</span></code></a> ahora establece <code class="docutils literal notranslate"><span class="pre">loader__</span></code> y <code class="docutils literal notranslate"><span class="pre">__package__</span></code> incondicionalmente para soportar adecuadamente la recarga. Si no lo desea, tendrá que establecer estos atributos manualmente. Puede utilizar <code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.module_to_load()</span></code> para la gestión de módulos.</p></li>
<li><p>Importar ahora restablece los atributos relevantes (por ejemplo, <code class="docutils literal notranslate"><span class="pre">__name__</span></code>, <code class="docutils literal notranslate"><span class="pre">__loader__</span></code>, <code class="docutils literal notranslate"><span class="pre">__package__</span></code>, <code class="docutils literal notranslate"><span class="pre">__file__</span></code>, <code class="docutils literal notranslate"><span class="pre">__cached__</span></code>) incondicionalmente cuando se recarga. Tenga en cuenta que esto restablece un comportamiento anterior a la versión 3.3 en el sentido de que un módulo se vuelve a encontrar cuando se recarga (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19413">bpo-19413</a>).</p></li>
<li><p>Los paquetes congelados ya no establecen <code class="docutils literal notranslate"><span class="pre">ruta__</span></code> en una lista que contenga el nombre del paquete, ahora lo hacen en una lista vacía.  El comportamiento anterior podía hacer que el sistema de importación hiciera algo incorrecto en las importaciones de submódulos si también había un directorio con el mismo nombre que el paquete congelado.  La forma correcta de determinar si un módulo es un paquete o no es utilizar <code class="docutils literal notranslate"><span class="pre">hasattr(module,</span> <span class="pre">'__path__')</span></code> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18065">bpo-18065</a>).</p></li>
<li><p>Los módulos congelados ya no definen el atributo <code class="docutils literal notranslate"><span class="pre">file__</span></code>. Es semánticamente incorrecto que los módulos congelados definan el atributo, ya que no se cargan desde ninguna ubicación explícita. Si necesitas saber que un módulo proviene de código congelado, puedes ver si el <code class="docutils literal notranslate"><span class="pre">__spec__.location</span></code> del módulo está configurado como <code class="docutils literal notranslate"><span class="pre">'frozen</span></code>, comprobar si el cargador es una subclase de <a class="reference internal" href="../library/importlib.html#importlib.machinery.FrozenImporter" title="importlib.machinery.FrozenImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.machinery.FrozenImporter</span></code></a>, o si la compatibilidad con Python 2 es necesaria, puedes utilizar <code class="xref py py-func docutils literal notranslate"><span class="pre">imp.is_frozen()</span></code>.</p></li>
<li><p><a class="reference internal" href="../library/py_compile.html#py_compile.compile" title="py_compile.compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">py_compile.compile()</span></code></a> ahora lanza <a class="reference internal" href="../library/exceptions.html#FileExistsError" title="FileExistsError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FileExistsError</span></code></a> si la ruta de archivo en la que escribiría es un enlace simbólico o un archivo no regular. Esto es para actuar como una advertencia de que la importación sobrescribirá esos archivos con un archivo regular sin importar el tipo de ruta de archivo que eran originalmente.</p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.abc.SourceLoader.get_source" title="importlib.abc.SourceLoader.get_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.SourceLoader.get_source()</span></code></a> ya no lanza <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a> cuando el código fuente que se carga provoca un <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> o <a class="reference internal" href="../library/exceptions.html#UnicodeDecodeError" title="UnicodeDecodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code></a>. Como <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a> está pensado para ser levantado sólo cuando el código fuente no puede ser encontrado pero debería, se sintió que se sobrepasaba/sobrecargaba ese significado cuando el código fuente es encontrado pero inadecuadamente estructurado. Si usted estaba atrapando ImportError antes y desea continuar ignorando los problemas de sintaxis o decodificación, atrape las tres excepciones ahora.</p></li>
<li><p><a class="reference internal" href="../library/functools.html#functools.update_wrapper" title="functools.update_wrapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.update_wrapper()</span></code></a> y <a class="reference internal" href="../library/functools.html#functools.wraps" title="functools.wraps"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.wraps()</span></code></a> ahora establecen correctamente el atributo <code class="docutils literal notranslate"><span class="pre">wrapped__</span></code> a la función que está siendo envuelta, incluso si esa función también tiene su atributo <code class="docutils literal notranslate"><span class="pre">wrapped__</span></code> establecido. Esto significa que los atributos <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> ahora enlazan correctamente una pila de funciones decoradas en lugar de que cada atributo <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> en la cadena haga referencia a la función más interna. Las bibliotecas de introspección que asumían que el comportamiento anterior era intencionado pueden utilizar <a class="reference internal" href="../library/inspect.html#inspect.unwrap" title="inspect.unwrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.unwrap()</span></code></a> para acceder a la primera función de la cadena que no tenga el atributo <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code>.</p></li>
<li><p><a class="reference internal" href="../library/inspect.html#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getfullargspec()</span></code></a> ha sido reimplementado sobre <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a> y por lo tanto maneja una variedad mucho más amplia de objetos llamables que en el pasado. Se espera que otras llamadas de módulos incorporados y de extensión obtengan metadatos de firma en el curso de la serie Python 3.4. El código que asume que <a class="reference internal" href="../library/inspect.html#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getfullargspec()</span></code></a> fallará en las llamadas que no son de Python puede necesitar ser ajustado en consecuencia.</p></li>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.machinery.PathFinder" title="importlib.machinery.PathFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.machinery.PathFinder</span></code></a> ahora pasa el directorio de trabajo actual a los objetos en <a class="reference internal" href="../library/sys.html#sys.path_hooks" title="sys.path_hooks"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path_hooks</span></code></a> para la cadena vacía. Esto hace que <a class="reference internal" href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path_importer_cache</span></code></a> nunca contenga <code class="docutils literal notranslate"><span class="pre">''</span></code>, por lo que iterar a través de <a class="reference internal" href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path_importer_cache</span></code></a> basándose en <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> no encontrará todas las claves. El <code class="docutils literal notranslate"><span class="pre">archivo__`</span> <span class="pre">de</span> <span class="pre">un</span> <span class="pre">módulo</span> <span class="pre">cuando</span> <span class="pre">se</span> <span class="pre">importa</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">directorio</span> <span class="pre">de</span> <span class="pre">trabajo</span> <span class="pre">actual</span> <span class="pre">también</span> <span class="pre">tendrá</span> <span class="pre">ahora</span> <span class="pre">una</span> <span class="pre">ruta</span> <span class="pre">absoluta,</span> <span class="pre">incluso</span> <span class="pre">cuando</span> <span class="pre">se</span> <span class="pre">utiliza</span> <span class="pre">``-m</span></code> con el intérprete (excepto para <code class="docutils literal notranslate"><span class="pre">__main__.__file__</span></code> cuando un script se ha ejecutado directamente utilizando una ruta relativa) (Contribuido por Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18416">bpo-18416</a>). se especifica en la línea de comandos) (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18416">bpo-18416</a>).</p></li>
<li><p>La eliminación del argumento <em>estricto</em> de <a class="reference internal" href="../library/http.client.html#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> y <a class="reference internal" href="../library/http.client.html#http.client.HTTPSConnection" title="http.client.HTTPSConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPSConnection</span></code></a> cambia el significado de los argumentos restantes si los especifica posicionalmente en lugar de por palabra clave.  Si ha prestado atención a las advertencias de desaprobación, su código ya debería especificar los argumentos adicionales mediante palabras clave.</p></li>
<li><p>Las cadenas entre las sentencias <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">...</span></code> ahora <em>siempre</em> lanzan un <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>.  Anteriormente, si no había un docstring principal, a veces se ignoraba una cadena intersticial.  Esto hace que CPython cumpla con la especificación del lenguaje; Jython y PyPy ya lo hacían. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17434">bpo-17434</a>).</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.getpeercert" title="ssl.SSLSocket.getpeercert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.getpeercert()</span></code></a> y <a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.do_handshake" title="ssl.SSLSocket.do_handshake"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.do_handshake()</span></code></a> ahora lanzan un <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> con <code class="docutils literal notranslate"><span class="pre">ENOTCONN</span></code> cuando el <code class="docutils literal notranslate"><span class="pre">SSLSocket</span></code> no está conectado, en lugar del comportamiento anterior de lanzar un <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>.  Además, <a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.getpeercert" title="ssl.SSLSocket.getpeercert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getpeercert()</span></code></a> lanzará un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> si el handshake aún no se ha realizado.</p></li>
<li><p><a class="reference internal" href="../library/base64.html#base64.b32decode" title="base64.b32decode"><code class="xref py py-func docutils literal notranslate"><span class="pre">base64.b32decode()</span></code></a> ahora genera un <a class="reference internal" href="../library/binascii.html#binascii.Error" title="binascii.Error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">binascii.Error</span></code></a> cuando la cadena de entrada contiene caracteres que no son de tipo b32, en lugar de un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.  Este <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> en particular se perdió cuando se convirtieron los otros <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.  (Contribuido por Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18011">bpo-18011</a>.) Nota: este cambio también se aplicó inadvertidamente en Python 3.3.3.</p></li>
<li><p>El atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span></code> ahora se cierra automáticamente cuando la instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">cgi.FieldStorage</span></code> creada se recoge de la basura. Si estaba sacando el objeto archivo por separado de la instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">cgi.FieldStorage</span></code> y no mantenía la instancia viva, entonces debería almacenar toda la instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">cgi.FieldStorage</span></code> o leer el contenido del archivo antes de que la instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">cgi.FieldStorage</span></code> sea recogida de la basura.</p></li>
<li><p>Llamar a <code class="docutils literal notranslate"><span class="pre">lectura</span></code> o <code class="docutils literal notranslate"><span class="pre">escritura</span></code> en un socket SSL cerrado ahora genera un informativo <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> en lugar del anterior y más misterioso <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9177">bpo-9177</a>).</p></li>
<li><p><a class="reference internal" href="../reference/datamodel.html#slice.indices" title="slice.indices"><code class="xref py py-meth docutils literal notranslate"><span class="pre">slice.indices()</span></code></a> ya no produce un <a class="reference internal" href="../library/exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a> para valores enormes.  Como consecuencia de esta corrección, <a class="reference internal" href="../reference/datamodel.html#slice.indices" title="slice.indices"><code class="xref py py-meth docutils literal notranslate"><span class="pre">slice.indices()</span></code></a> ahora produce un <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> si se le da una longitud negativa; antes devolvía valores sin sentido (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14794">bpo-14794</a>).</p></li>
<li><p>El constructor <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>, a diferencia de las funciones <a class="reference internal" href="../library/cmath.html#module-cmath" title="cmath: Mathematical functions for complex numbers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a>, aceptaba incorrectamente valores <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> si el método especial <code class="docutils literal notranslate"><span class="pre">__complex__</span></code> de un objeto devolvía uno.  Ahora se produce un error <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>. (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16290">bpo-16290</a>.)</p></li>
<li><p>El constructor <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> de las versiones 3.2 y 3.3 aceptaba erróneamente valores <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> para el parámetro <em>base</em>.  Es poco probable que alguien esté haciendo esto, pero si es así, ahora lanzará un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16772">bpo-16772</a>).</p></li>
<li><p>Los valores por defecto de los argumentos de palabras clave se evalúan ahora <em>después</em> de los valores por defecto de los argumentos de palabras clave normales, en lugar de antes.  Esperemos que nadie haya escrito ningún código que dependa del comportamiento erróneo anterior (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16967">bpo-16967</a>).</p></li>
<li><p>Los estados de los hilos antiguos se borran ahora después de <a class="reference internal" href="../library/os.html#os.fork" title="os.fork"><code class="xref py py-func docutils literal notranslate"><span class="pre">fork()</span></code></a>.  Esto puede hacer que se liberen algunos recursos del sistema que antes se mantenían vivos de forma incorrecta (por ejemplo, las conexiones a la base de datos mantenidas en el almacenamiento local del hilo).  (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17094">bpo-17094</a>.)</p></li>
<li><p>Los nombres de los parámetros en los dicts de <code class="docutils literal notranslate"><span class="pre">anotaciones__`</span> <span class="pre">ahora</span> <span class="pre">se</span> <span class="pre">manipulan</span> <span class="pre">correctamente,</span> <span class="pre">de</span> <span class="pre">forma</span> <span class="pre">similar</span> <span class="pre">a</span> <span class="pre">``__kwdefaults__</span></code>.  (Contribuido por Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20625">bpo-20625</a>.)</p></li>
<li><p><a class="reference internal" href="../library/hashlib.html#hashlib.hash.name" title="hashlib.hash.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">hashlib.hash.name</span></code></a> ahora siempre devuelve el identificador en minúsculas. Anteriormente, algunos hashes incorporados tenían nombres en mayúsculas, pero ahora que se trata de una interfaz pública formal, la denominación se ha hecho consistente (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18532">bpo-18532</a>).</p></li>
<li><p>Debido a que <a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest.TestSuite</span></code></a> ahora elimina las referencias a las pruebas después de su ejecución, los arneses de pruebas que reutilizan un <a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a> para volver a ejecutar un conjunto de pruebas pueden fallar.   Los conjuntos de pruebas no deberían ser reutilizados de esta manera, ya que significa que el estado se mantiene entre las ejecuciones de las pruebas, rompiendo el aislamiento de las pruebas que <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> está diseñado para proporcionar.  Sin embargo, si la falta de aislamiento se considera aceptable, el antiguo comportamiento puede restaurarse creando una subclase <a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TestSuite</span></code></a> que defina un método <code class="docutils literal notranslate"><span class="pre">_removeTestAtIndex</span></code> que no haga nada (ver <a class="reference internal" href="../library/unittest.html#unittest.TestSuite.__iter__" title="unittest.TestSuite.__iter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite.__iter__()</span></code></a>) (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=11798">bpo-11798</a>).</p></li>
<li><p><a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> ahora utiliza <a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> para el análisis de la línea de comandos.  Hay ciertas formas de comando inválidas que solían funcionar y que ya no están permitidas; en teoría, esto no debería causar problemas de compatibilidad con versiones anteriores, ya que las formas de comando no permitidas no tenían ningún sentido y es poco probable que estén en uso.</p></li>
<li><p>Las funciones <a class="reference internal" href="../library/re.html#re.split" title="re.split"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.split()</span></code></a>, <a class="reference internal" href="../library/re.html#re.findall" title="re.findall"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.findall()</span></code></a> y <a class="reference internal" href="../library/re.html#re.sub" title="re.sub"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.sub()</span></code></a>, y los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">group()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">groups()</span></code> de los objetos <code class="docutils literal notranslate"><span class="pre">match</span></code> ahora siempre devuelven un objeto <em>bytes</em> cuando la cadena a comparar es un <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a>.  Anteriormente el tipo de retorno coincidía con el tipo de entrada, por lo que si su código dependía de que el valor de retorno fuera, por ejemplo, un <code class="docutils literal notranslate"><span class="pre">bytearray</span></code>, tendrá que cambiar su código.</p></li>
<li><p>Las funciones de <a class="reference internal" href="../library/audioop.html#module-audioop" title="audioop: Manipulate raw audio data. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">audioop</span></code></a> ahora lanzan un error inmediatamente si se les pasa una cadena de entrada, en lugar de fallar aleatoriamente más tarde (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16685">bpo-16685</a>).</p></li>
<li><p>El nuevo argumento <em>convert_charrefs</em> de <a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a> tiene por defecto el valor <code class="docutils literal notranslate"><span class="pre">False</span></code> por compatibilidad con versiones anteriores, pero con el tiempo se cambiará a <code class="docutils literal notranslate"><span class="pre">True</span></code>.  Se recomienda añadir esta palabra clave, con el valor apropiado, a cualquier llamada de <a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLParser</span></code></a> en su código (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13633">bpo-13633</a>).</p></li>
<li><p>Dado que el argumento <em>digestmod</em> de la función <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">hmac.new()</span></code></a> no tendrá en el futuro ningún valor por defecto, todas las llamadas a <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">hmac.new()</span></code></a> deben cambiarse para especificar explícitamente un <em>digestmod</em> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17276">bpo-17276</a>).</p></li>
<li><p>Llamar a <a class="reference internal" href="../library/sysconfig.html#sysconfig.get_config_var" title="sysconfig.get_config_var"><code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.get_config_var()</span></code></a> con la clave <code class="docutils literal notranslate"><span class="pre">SO</span></code>, o buscar <code class="docutils literal notranslate"><span class="pre">SO</span></code> en los resultados de una llamada a <a class="reference internal" href="../library/sysconfig.html#sysconfig.get_config_vars" title="sysconfig.get_config_vars"><code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.get_config_vars()</span></code></a> está obsoleto.  Esta clave debería ser reemplazada por <code class="docutils literal notranslate"><span class="pre">EXT_SUFFIX</span></code> o <code class="docutils literal notranslate"><span class="pre">SHLIB_SUFFIX</span></code>, dependiendo del contexto (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=19555">bpo-19555</a>).</p></li>
<li><p>Cualquier llamada a las funciones <code class="docutils literal notranslate"><span class="pre">open</span></code> que especifique <code class="docutils literal notranslate"><span class="pre">U</span></code> debe ser modificada. <code class="docutils literal notranslate"><span class="pre">U</span></code> es ineficaz en Python3 y acabará dando un error si se utiliza. Dependiendo de la función, el equivalente a su antiguo comportamiento en Python2 puede conseguirse usando un argumento <em>newline</em>, o si es necesario envolviendo el flujo en <a class="reference internal" href="../library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TextIOWrapper</span></code></a> para usar su argumento <em>newline</em> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15204">bpo-15204</a>).</p></li>
<li><p>Si utilizas <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> en un script y deseas que pip <em>no</em> se instale, debes añadir <code class="docutils literal notranslate"><span class="pre">--without-pip</span></code> a tu invocación del comando.</p></li>
<li><p>El comportamiento por defecto de <a class="reference internal" href="../library/json.html#json.dump" title="json.dump"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dump()</span></code></a> y <a class="reference internal" href="../library/json.html#json.dumps" title="json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a> cuando se especifica una sangría ha cambiado: ya no produce espacios finales después de las comas de separación al final de las líneas.  Esto sólo importará si tiene pruebas que hacen comparaciones sensibles a los espacios en blanco de dicha salida (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16333">bpo-16333</a>).</p></li>
<li><p><a class="reference internal" href="../library/doctest.html#module-doctest" title="doctest: Test pieces of code within docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a> ahora busca doctests en las cadenas del módulo de extensión <code class="docutils literal notranslate"><span class="pre">__doc__</span></code>, por lo que si su descubrimiento de pruebas de doctest incluye módulos de extensión que tienen cosas que parecen doctests en ellos, puede ver fallos de prueba que nunca ha visto antes al ejecutar sus pruebas (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=3158">bpo-3158</a>).</p></li>
<li><p>El módulo <a class="reference internal" href="../library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code></a> ha sido ligeramente refactorizado como parte de las mejoras de inicio de Python.  Como consecuencia de esto, ya no se da el caso de que al importar <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> se importe automáticamente <a class="reference internal" href="../library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code></a>.  Si su programa dependía de la importación implícita (no documentada), tendrá que añadir un <code class="docutils literal notranslate"><span class="pre">importar</span> <span class="pre">colecciones.abc</span></code> explícitamente (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20784">bpo-20784</a>).</p></li>
</ul>
</section>
<section id="changes-in-the-c-api">
<h3>Cambios en la API de C<a class="headerlink" href="#changes-in-the-c-api" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/veryhigh.html#c.PyEval_EvalFrameEx" title="PyEval_EvalFrameEx"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_EvalFrameEx()</span></code></a>, <a class="reference internal" href="../c-api/object.html#c.PyObject_Repr" title="PyObject_Repr"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Repr()</span></code></a>, y <a class="reference internal" href="../c-api/object.html#c.PyObject_Str" title="PyObject_Str"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Str()</span></code></a>, junto con algunas otras APIs internas de C, incluyen ahora una aserción de depuración que asegura que no se utilicen en situaciones en las que puedan descartar silenciosamente una excepción actualmente activa. En los casos en los que se espera y se desea descartar la excepción activa (por ejemplo, porque ya se ha guardado localmente con <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_Fetch" title="PyErr_Fetch"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Fetch()</span></code></a> o se está sustituyendo deliberadamente por una excepción diferente), se necesitará una llamada explícita a <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_Clear" title="PyErr_Clear"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Clear()</span></code></a> para evitar que se active la aserción cuando se invoquen estas operaciones (directa o indirectamente) y se ejecuten contra una versión de Python que esté compilada con las aserciones activadas.</p></li>
<li><p><a class="reference internal" href="../c-api/exceptions.html#c.PyErr_SetImportError" title="PyErr_SetImportError"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_SetImportError()</span></code></a> ahora establece <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> cuando su argumento <strong>msg</strong> no está establecido. Anteriormente sólo se devolvía <code class="docutils literal notranslate"><span class="pre">NULL</span></code> sin establecer ninguna excepción.</p></li>
<li><p>El resultado de la llamada de retorno de <a class="reference internal" href="../c-api/veryhigh.html#c.PyOS_ReadlineFunctionPointer" title="PyOS_ReadlineFunctionPointer"><code class="xref c c-data docutils literal notranslate"><span class="pre">PyOS_ReadlineFunctionPointer</span></code></a> debe ser ahora una cadena asignada por <a class="reference internal" href="../c-api/memory.html#c.PyMem_RawMalloc" title="PyMem_RawMalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_RawMalloc()</span></code></a> o <a class="reference internal" href="../c-api/memory.html#c.PyMem_RawRealloc" title="PyMem_RawRealloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_RawRealloc()</span></code></a>, o <code class="docutils literal notranslate"><span class="pre">NULL</span></code> si se ha producido un error, en lugar de una cadena asignada por <a class="reference internal" href="../c-api/memory.html#c.PyMem_Malloc" title="PyMem_Malloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_Malloc()</span></code></a> o <a class="reference internal" href="../c-api/memory.html#c.PyMem_Realloc" title="PyMem_Realloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_Realloc()</span></code></a> (<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=16742">bpo-16742</a>)</p></li>
<li><p><a class="reference internal" href="../c-api/init.html#c.PyThread_set_key_value" title="PyThread_set_key_value"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyThread_set_key_value()</span></code></a> ahora siempre establece el valor. En Python 3.3, la función no hacía nada si la clave ya existía (si el valor actual es un puntero no <code class="docutils literal notranslate"><span class="pre">NULL</span></code>).</p></li>
<li><p>Se ha eliminado el campo <code class="docutils literal notranslate"><span class="pre">f_tstate</span></code> (estado del hilo) de la estructura <a class="reference internal" href="../c-api/veryhigh.html#c.PyFrameObject" title="PyFrameObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyFrameObject</span></code></a> para corregir un error: véase <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14432">bpo-14432</a> para conocer los motivos.</p></li>
</ul>
</section>
</section>
<section id="changed-in-3-4-3">
<h2>Cambiado en 3.4.3<a class="headerlink" href="#changed-in-3-4-3" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="pep-476-enabling-certificate-verification-by-default-for-stdlib-http-clients">
<span id="pep-476"></span><h3>PEP 476: Habilitar la verificación de certificados por defecto para los clientes http stdlib<a class="headerlink" href="#pep-476-enabling-certificate-verification-by-default-for-stdlib-http-clients" title="Enlazar permanentemente con este título">¶</a></h3>
<p><a class="reference internal" href="../library/http.client.html#module-http.client" title="http.client: HTTP and HTTPS protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.client</span></code></a> y los módulos que lo utilizan, como <a class="reference internal" href="../library/urllib.request.html#module-urllib.request" title="urllib.request: Extensible library for opening URLs."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.request</span></code></a> y <a class="reference internal" href="../library/xmlrpc.client.html#module-xmlrpc.client" title="xmlrpc.client: XML-RPC client access."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpc.client</span></code></a>, ahora verificarán que el servidor presenta un certificado que está firmado por una CA en el almacén de confianza de la plataforma y cuyo nombre de host coincide con el nombre de host que se solicita por defecto, mejorando significativamente la seguridad de muchas aplicaciones.</p>
<p>Para las aplicaciones que requieren el antiguo comportamiento anterior, pueden pasar un contexto alternativo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">import</span> <span class="nn">ssl</span>

<span class="c1"># This disables all verification</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">_create_unverified_context</span><span class="p">()</span>

<span class="c1"># This allows using a specific certificate for the host, which doesn&#39;t need</span>
<span class="c1"># to be in the trust store</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">(</span><span class="n">cafile</span><span class="o">=</span><span class="s2">&quot;/path/to/file.crt&quot;</span><span class="p">)</span>

<span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s2">&quot;https://invalid-cert&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">Novedades de Python 3.4</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Puntos destacados del lanzamiento</a></li>
<li><a class="reference internal" href="#new-features">Nuevas Funciones</a><ul>
<li><a class="reference internal" href="#pep-453-explicit-bootstrapping-of-pip-in-python-installations">PEP 453: Arranque explícito de PIP en instalaciones de Python</a><ul>
<li><a class="reference internal" href="#bootstrapping-pip-by-default">Puesta en marcha de pip por defecto</a></li>
<li><a class="reference internal" href="#documentation-changes">Cambios en la documentación</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-446-newly-created-file-descriptors-are-non-inheritable">PEP 446: Los descriptores de archivos recién creados no son heredables</a></li>
<li><a class="reference internal" href="#improvements-to-codec-handling">Mejoras en el manejo de códecs</a></li>
<li><a class="reference internal" href="#pep-451-a-modulespec-type-for-the-import-system">PEP 451: Un tipo ModuleSpec para el sistema de importación</a></li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios de lenguaje</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-modules">Nuevos Módulos</a><ul>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#ensurepip">ensurepip</a></li>
<li><a class="reference internal" href="#enum">enum</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#selectors">selectores</a></li>
<li><a class="reference internal" href="#statistics">estadísticas</a></li>
<li><a class="reference internal" href="#tracemalloc">tracemalloc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#abc">abc</a></li>
<li><a class="reference internal" href="#aifc">aifc</a></li>
<li><a class="reference internal" href="#argparse">argparse</a></li>
<li><a class="reference internal" href="#audioop">audioop</a></li>
<li><a class="reference internal" href="#base64">base64</a></li>
<li><a class="reference internal" href="#collections">colecciones</a></li>
<li><a class="reference internal" href="#colorsys">colorsys</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#dbm">dbm</a></li>
<li><a class="reference internal" href="#dis">dis</a></li>
<li><a class="reference internal" href="#doctest">doctest</a></li>
<li><a class="reference internal" href="#email">email</a></li>
<li><a class="reference internal" href="#filecmp">archivoecmp</a></li>
<li><a class="reference internal" href="#functools">functools</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#hmac">hmac</a></li>
<li><a class="reference internal" href="#html">html</a></li>
<li><a class="reference internal" href="#http">http</a></li>
<li><a class="reference internal" href="#idlelib-and-idle">idlelib y IDLE</a></li>
<li><a class="reference internal" href="#importlib">importlib</a></li>
<li><a class="reference internal" href="#inspect">inspeccionar</a></li>
<li><a class="reference internal" href="#ipaddress">dirección IP</a></li>
<li><a class="reference internal" href="#logging">Tres mejoras más pequeñas en el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code>, todas implementadas por Vinay Sajip, son:</a></li>
<li><a class="reference internal" href="#marshal">mariscal</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#multiprocessing">multiprocesamiento</a></li>
<li><a class="reference internal" href="#operator"><span class="xref std std-ref">PEP 465</span>, un nuevo operador de multiplicación de matrices: <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&#64;</span> <span class="pre">b</span></code>.</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#pdb">pdb</a></li>
<li><a class="reference internal" href="#pickle">pepinillo</a></li>
<li><a class="reference internal" href="#plistlib">plistlib</a></li>
<li><a class="reference internal" href="#poplib">poplib</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#pty">pty</a></li>
<li><a class="reference internal" href="#pydoc">pydoc</a></li>
<li><a class="reference internal" href="#re">re</a></li>
<li><a class="reference internal" href="#resource">recurso</a></li>
<li><a class="reference internal" href="#select">seleccionar</a></li>
<li><a class="reference internal" href="#shelve">estante</a></li>
<li><a class="reference internal" href="#shutil">shutil</a></li>
<li><a class="reference internal" href="#smtpd">smtpd</a></li>
<li><a class="reference internal" href="#smtplib">smtplib</a></li>
<li><a class="reference internal" href="#socket">enchufe</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#stat">stat</a></li>
<li><a class="reference internal" href="#struct">struct</a></li>
<li><a class="reference internal" href="#subprocess">subproceso</a></li>
<li><a class="reference internal" href="#sunau">sunau</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#textwrap">textwrap</a></li>
<li><a class="reference internal" href="#threading">roscado</a></li>
<li><a class="reference internal" href="#traceback">traceback</a></li>
<li><a class="reference internal" href="#types">tipos</a></li>
<li><a class="reference internal" href="#urllib">urllib</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#wave">onda</a></li>
<li><a class="reference internal" href="#weakref">weakref</a></li>
<li><a class="reference internal" href="#xml-etree">xml.etree</a></li>
<li><a class="reference internal" href="#zipfile">archivo zip</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-implementation-changes">Cambios en la implementación de CPython</a><ul>
<li><a class="reference internal" href="#pep-445-customization-of-cpython-memory-allocators">PEP 445: Personalización de los Asignadores de Memoria de CPython</a></li>
<li><a class="reference internal" href="#pep-442-safe-object-finalization">PEP 442: Finalización segura de objetos</a></li>
<li><a class="reference internal" href="#pep-456-secure-and-interchangeable-hash-algorithm">PEP 456: Algoritmo Hash seguro e intercambiable</a></li>
<li><a class="reference internal" href="#pep-436-argument-clinic">PEP 436: Clínica de Argumentación</a></li>
<li><a class="reference internal" href="#other-build-and-c-api-changes">Otros cambios en la API de construcción y C</a></li>
<li><a class="reference internal" href="#other-improvements">Otras mejoras</a></li>
<li><a class="reference internal" href="#significant-optimizations">Optimizaciones significativas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a><ul>
<li><a class="reference internal" href="#deprecations-in-the-python-api">Desapariciones en la API de Python</a></li>
<li><a class="reference internal" href="#deprecated-features">Funciones obsoletas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#removed">Removido</a><ul>
<li><a class="reference internal" href="#operating-systems-no-longer-supported">Sistemas operativos que ya no son compatibles</a></li>
<li><a class="reference internal" href="#api-and-feature-removals">Eliminación de la API y de las funciones</a></li>
<li><a class="reference internal" href="#code-cleanups">Limpieza del código</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-3-4">Adaptación a Python 3.4</a><ul>
<li><a class="reference internal" href="#changes-in-python-command-behavior">Cambios en el comportamiento del comando “python”</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Cambios en la API de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Cambios en la API de C</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changed-in-3-4-3">Cambiado en 3.4.3</a><ul>
<li><a class="reference internal" href="#pep-476-enabling-certificate-verification-by-default-for-stdlib-http-clients">PEP 476: Habilitar la verificación de certificados por defecto para los clientes http stdlib</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="3.5.html"
                        title="capítulo anterior">Qué hay de nuevo en Python 3.5</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="3.3.html"
                        title="próximo capítulo">Que novedades hay en python 3.3</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/whatsnew/3.4.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.3.html" title="Que novedades hay en python 3.3"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="3.5.html" title="Qué hay de nuevo en Python 3.5"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Novedades de Python 3.4</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 27, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>

  </body>
</html>