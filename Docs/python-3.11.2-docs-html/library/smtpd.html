
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="smtpd — Servidor SMTP" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/smtpd.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Source code: Lib/smtpd.py Este módulo ofrece varias clases para implementar servidores SMTP (correo electrónico). Este módulo ofrece varias implementaciones del servidor; una es una implementación ..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Source code: Lib/smtpd.py Este módulo ofrece varias clases para implementar servidores SMTP (correo electrónico). Este módulo ofrece varias implementaciones del servidor; una es una implementación ..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>smtpd — Servidor SMTP &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="sndhdr — Determinar el tipo de archivo de sonido" href="sndhdr.html" />
    <link rel="prev" title="pipes — Interfaz para tuberías de shell" href="pipes.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/smtpd.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code> — Servidor SMTP</a><ul>
<li><a class="reference internal" href="#smtpserver-objects">Objetos SMTPServer</a></li>
<li><a class="reference internal" href="#debuggingserver-objects">Objetos DebuggingServer</a></li>
<li><a class="reference internal" href="#pureproxy-objects">Objetos PureProxy</a></li>
<li><a class="reference internal" href="#smtpchannel-objects">Objetos SMTPChannel</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="pipes.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pipes</span></code> — Interfaz para tuberías de shell</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="sndhdr.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sndhdr</span></code> — Determinar el tipo de archivo de sonido</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/smtpd.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="sndhdr.html" title="sndhdr — Determinar el tipo de archivo de sonido"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="pipes.html" title="pipes — Interfaz para tuberías de shell"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="superseded.html" accesskey="U">Módulos reemplazados</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code> — Servidor SMTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-smtpd">
<span id="smtpd-smtp-server"></span><h1><a class="reference internal" href="#module-smtpd" title="smtpd: A SMTP server implementation in Python. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code></a> — Servidor SMTP<a class="headerlink" href="#module-smtpd" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/smtpd.py">Lib/smtpd.py</a></p>
<hr class="docutils" />
<p>Este módulo ofrece varias clases para implementar servidores SMTP (correo electrónico).</p>
<div class="deprecated-removed">
<p><span class="versionmodified">Obsoleto desde la versión 3.6, se eliminará en la versión 3.12: </span>El módulo <a class="reference internal" href="#module-smtpd" title="smtpd: A SMTP server implementation in Python. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code></a> está obsoleto (ver <span class="target" id="index-20"></span><a class="pep reference external" href="https://peps.python.org/pep-0594/#smtpd"><strong>PEP 594</strong></a> para más detalles). Se recomienda el paquete <a class="reference external" href="https://aiosmtpd.readthedocs.io/">aiosmtpd</a> como sustituto para este módulo. Está basado en <a class="reference internal" href="asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> y proporciona una API más sencilla.</p>
</div>
<p>Este módulo ofrece varias implementaciones del servidor; una es una implementación genérica de no hace nada, pero cuyos métodos pueden ser sobrescritos para crear una implementación concreta, mientras que las otras dos ofrecen estrategias específicas de envío de correo.</p>
<p>Además, SMTPChannel puede ampliarse para implementar un comportamiento de interacción muy específico con clientes SMTP.</p>
<p>El código admite <span class="target" id="index-21"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5321.html"><strong>RFC 5321</strong></a>, más las extensiones <span class="target" id="index-22"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1870.html"><strong>RFC 1870</strong></a> SIZE y <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6531.html"><strong>RFC 6531</strong></a> SMTPUTF8.</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: not Emscripten, not WASI.</p>
<p>Este módulo no funciona o no está disponible en las plataformas WebAssembly <code class="docutils literal notranslate"><span class="pre">wasm32-emscripten</span></code> y <code class="docutils literal notranslate"><span class="pre">wasm32-wasi</span></code>. Consulte <a class="reference internal" href="intro.html#wasm-availability"><span class="std std-ref">Plataformas WebAssembly</span></a> para obtener más información.</p>
</div>
<section id="smtpserver-objects">
<h2>Objetos SMTPServer<a class="headerlink" href="#smtpserver-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smtpd.SMTPServer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtpd.</span></span><span class="sig-name descname"><span class="pre">SMTPServer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remoteaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_size_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">33554432</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_SMTPUTF8</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtpd.SMTPServer" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Crea un nuevo objeto <a class="reference internal" href="#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a>, que se vincula a la dirección local <em>localaddr</em>. Tratará <em>remoteaddr</em> como un transmisor SMTP ascendente. Tanto <em>localaddr</em> como <em>remoteaddr</em> deben ser una tupla <a class="reference internal" href="socket.html#host-port"><span class="std std-ref">(host, port)</span></a>. El objeto hereda de <a class="reference internal" href="asyncore.html#asyncore.dispatcher" title="asyncore.dispatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncore.dispatcher</span></code></a>, por lo que se insertará en el bucle de eventos de <a class="reference internal" href="asyncore.html#module-asyncore" title="asyncore: A base class for developing asynchronous socket handling services. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncore</span></code></a> en la instanciación.</p>
<p><em>data_size_limit</em> especifica el número máximo de bytes que se aceptarán en un comando <code class="docutils literal notranslate"><span class="pre">DATA</span></code>. Un valor de <code class="docutils literal notranslate"><span class="pre">None</span></code> o <code class="docutils literal notranslate"><span class="pre">0</span></code> significa que no hay límite.</p>
<p><em>map</em> es el mapa de conectores que se utilizará para las conexiones (un diccionario inicialmente vacío es un valor adecuado). Si no se especifica, se utiliza el mapa de socket global <a class="reference internal" href="asyncore.html#module-asyncore" title="asyncore: A base class for developing asynchronous socket handling services. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncore</span></code></a>.</p>
<p><em>enable_SMTPUTF8</em> determina si la extensión <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> (como se define en <span class="target" id="index-24"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6531.html"><strong>RFC 6531</strong></a>) debe estar habilitada. El valor predeterminado es <code class="docutils literal notranslate"><span class="pre">False</span></code>. Cuando es <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> se acepta como parámetro para el comando <code class="docutils literal notranslate"><span class="pre">MAIL</span></code> y cuando está presente se pasa a <a class="reference internal" href="#smtpd.SMTPServer.process_message" title="smtpd.SMTPServer.process_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_message()</span></code></a> en la lista <code class="docutils literal notranslate"><span class="pre">kwargs[‘mail_options’]</span></code> . <em>decode_data</em> y <em>enable_SMTPUTF8</em> no se pueden establecer en <code class="docutils literal notranslate"><span class="pre">True</span></code> al mismo tiempo.</p>
<p><em>decode_data</em> especifica si la porción de datos de la transacción SMTP debe decodificarse usando UTF-8. Cuando <em>decode_data</em> es <code class="docutils literal notranslate"><span class="pre">False</span></code> (el valor predeterminado), el servidor anuncia la extensión <code class="docutils literal notranslate"><span class="pre">8BITMIME</span></code> (<span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6152.html"><strong>RFC 6152</strong></a>), acepta el parámetro <code class="docutils literal notranslate"><span class="pre">BODY=8BITMIME</span></code> al comando <code class="docutils literal notranslate"><span class="pre">MAIL</span></code>, y cuando está presente lo pasa a <a class="reference internal" href="#smtpd.SMTPServer.process_message" title="smtpd.SMTPServer.process_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_message()</span></code></a> en la lista <code class="docutils literal notranslate"><span class="pre">kwargs['mail_options']</span></code>. <em>decode_data</em> y <em>enable_SMTPUTF8</em> no se pueden establecer en <code class="docutils literal notranslate"><span class="pre">True</span></code> al mismo tiempo.</p>
<dl class="py method">
<dt class="sig sig-object py" id="smtpd.SMTPServer.process_message">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mailfrom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcpttos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtpd.SMTPServer.process_message" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Lanza una excepción <a class="reference internal" href="exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>. Sobrescribe este método en subclases para hacer algo útil con este mensaje. Todo lo que se haya pasado en el constructor como <em>remoteaddr</em> estará disponible en el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">_remoteaddr</span></code>. <em>peer</em> es la dirección del host remoto, <em>mailfrom</em> es el creador del sobre, <em>rcpttos</em> son los destinatarios del sobre y <em>data</em> es una cadena de caracteres que contiene el contenido del correo electrónico (que debe estar en formato <span class="target" id="index-26"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5321.html"><strong>RFC 5321</strong></a>).</p>
<p>Si la palabra clave del constructor <em>decode_data</em> se establece en <code class="docutils literal notranslate"><span class="pre">True</span></code>, el argumento <em>data</em> será una cadena Unicode. Si se establece en <code class="docutils literal notranslate"><span class="pre">False</span></code>, será un objeto de bytes.</p>
<p><em>kwargs</em> es un diccionario que contiene información adicional. Está vacío si se proporcionó <code class="docutils literal notranslate"><span class="pre">decode_data=True</span></code> como argumento de inicialización; de lo contrario, contiene las siguientes claves:</p>
<blockquote>
<div><dl class="simple">
<dt><em>mail_options</em>:</dt><dd><p>una lista de todos los parámetros recibidos para el comando <code class="docutils literal notranslate"><span class="pre">MAIL</span></code> (los elementos son cadenas en mayúsculas; ejemplo: <code class="docutils literal notranslate"><span class="pre">['BODY=8BITMIME',</span> <span class="pre">'SMTPUTF8']</span></code>).</p>
</dd>
<dt><em>rcpt_options</em>:</dt><dd><p>igual que <em>mail_options</em> pero para el comando <code class="docutils literal notranslate"><span class="pre">RCPT</span></code>. Actualmente, no se admiten las opciones <code class="docutils literal notranslate"><span class="pre">RCPT</span> <span class="pre">TO</span></code>, por lo que, por ahora, siempre será una lista vacía.</p>
</dd>
</dl>
</div></blockquote>
<p>Las implementaciones de <code class="docutils literal notranslate"><span class="pre">process_message</span></code> deben usar la firma <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> para aceptar argumentos por palabra clave arbitrarios, ya que las mejoras de características futuras pueden agregar claves al diccionario de argumentos de palabras clave.</p>
<p>Retorne <code class="docutils literal notranslate"><span class="pre">None</span></code> para solicitar una respuesta normal de <code class="docutils literal notranslate"><span class="pre">250</span> <span class="pre">Ok</span></code>; de lo contrario, retorne la cadena de respuesta deseada en formato <span class="target" id="index-27"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5321.html"><strong>RFC 5321</strong></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPServer.channel_class">
<span class="sig-name descname"><span class="pre">channel_class</span></span><a class="headerlink" href="#smtpd.SMTPServer.channel_class" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Sobrescriba este método en las subclases para usar una clase <a class="reference internal" href="#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a> personalizada para administrar clientes SMTP.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.4: </span>El argumento del constructor <em>map</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span><em>localaddr</em> y <em>remoteaddr</em> ahora pueden contener direcciones IPv6.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5: </span>Los parámetros del constructor <em>decode_data</em> y <em>enable_SMTPUTF8</em>, y el parámetro <em>kwargs</em> para <a class="reference internal" href="#smtpd.SMTPServer.process_message" title="smtpd.SMTPServer.process_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_message()</span></code></a> cuando <em>decode_data</em> es <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span><em>decode_data</em> ahora es <code class="docutils literal notranslate"><span class="pre">False</span></code> por defecto.</p>
</div>
</dd></dl>

</section>
<section id="debuggingserver-objects">
<h2>Objetos DebuggingServer<a class="headerlink" href="#debuggingserver-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smtpd.DebuggingServer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtpd.</span></span><span class="sig-name descname"><span class="pre">DebuggingServer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remoteaddr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtpd.DebuggingServer" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Crea un nuevo servidor de depuración. Los argumentos son iguales que en <a class="reference internal" href="#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a>. Los mensajes se descartarán y se imprimirán en la salida estándar.</p>
</dd></dl>

</section>
<section id="pureproxy-objects">
<h2>Objetos PureProxy<a class="headerlink" href="#pureproxy-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smtpd.PureProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtpd.</span></span><span class="sig-name descname"><span class="pre">PureProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localaddr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remoteaddr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtpd.PureProxy" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Crea un nuevo servidor proxy puro. Los argumentos son iguales que en <a class="reference internal" href="#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a>. Todo se transmitirá a <em>remoteaddr</em>. Tenga en cuenta que ejecutar esto implica una buena posibilidad de convertirlo en un relé abierto, así que tenga cuidado.</p>
</dd></dl>

</section>
<section id="smtpchannel-objects">
<h2>Objetos SMTPChannel<a class="headerlink" href="#smtpchannel-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="smtpd.SMTPChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtpd.</span></span><span class="sig-name descname"><span class="pre">SMTPChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_size_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">33554432</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_SMTPUTF8</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtpd.SMTPChannel" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Crea un nuevo objeto <a class="reference internal" href="#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a> que gestiona la comunicación entre el servidor y un único cliente SMTP.</p>
<p><em>conn</em> y <em>addr</em> son según las variables de instancia que se describen a continuación.</p>
<p><em>data_size_limit</em> especifica el número máximo de bytes que se aceptarán en un comando <code class="docutils literal notranslate"><span class="pre">DATA</span></code>. Un valor de <code class="docutils literal notranslate"><span class="pre">None</span></code> o <code class="docutils literal notranslate"><span class="pre">0</span></code> significa que no hay límite.</p>
<p><em>enable_SMTPUTF8</em> determina si la extensión <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> (como se define en <span class="target" id="index-28"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6531.html"><strong>RFC 6531</strong></a>) debe estar habilitada. El valor predeterminado es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <em>decode_data</em> y <em>enable_SMTPUTF8</em> no se pueden establecer en <code class="docutils literal notranslate"><span class="pre">True</span></code> al mismo tiempo.</p>
<p>Se puede especificar un diccionario en <em>map</em> para evitar el uso de un mapa de socket global.</p>
<p><em>decode_data</em> especifica si la porción de datos de la transacción SMTP debe decodificarse usando UTF-8. El valor predeterminado es <code class="docutils literal notranslate"><span class="pre">False</span></code>. <em>decode_data</em> y <em>enable_SMTPUTF8</em> no se pueden establecer en <code class="docutils literal notranslate"><span class="pre">True</span></code> al mismo tiempo.</p>
<p>Para utilizar una implementación SMTPChannel personalizada, debe anular <a class="reference internal" href="#smtpd.SMTPServer.channel_class" title="smtpd.SMTPServer.channel_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SMTPServer.channel_class</span></code></a> de su <a class="reference internal" href="#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se agregaron los parámetros <em>decode_data</em> y <em>enable_SMTPUTF8</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span><em>decode_data</em> ahora es <code class="docutils literal notranslate"><span class="pre">False</span></code> por defecto.</p>
</div>
<p>La clase <a class="reference internal" href="#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a> tiene las siguientes variables de instancia:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.smtp_server">
<span class="sig-name descname"><span class="pre">smtp_server</span></span><a class="headerlink" href="#smtpd.SMTPChannel.smtp_server" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene el <a class="reference internal" href="#smtpd.SMTPServer" title="smtpd.SMTPServer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPServer</span></code></a> que generó este canal.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.conn">
<span class="sig-name descname"><span class="pre">conn</span></span><a class="headerlink" href="#smtpd.SMTPChannel.conn" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene el objeto de socket que se conecta al cliente.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.addr">
<span class="sig-name descname"><span class="pre">addr</span></span><a class="headerlink" href="#smtpd.SMTPChannel.addr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene la dirección del cliente, el segundo valor retornado por <a class="reference internal" href="socket.html#socket.socket.accept" title="socket.socket.accept"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.accept</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.received_lines">
<span class="sig-name descname"><span class="pre">received_lines</span></span><a class="headerlink" href="#smtpd.SMTPChannel.received_lines" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene una lista de las cadenas de línea (decodificadas mediante UTF-8) recibidas del cliente. Las líneas tienen su final de línea <code class="docutils literal notranslate"><span class="pre">&quot;\r\n&quot;</span></code> traducido a <code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.smtp_state">
<span class="sig-name descname"><span class="pre">smtp_state</span></span><a class="headerlink" href="#smtpd.SMTPChannel.smtp_state" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene el estado actual del canal. Será <code class="xref py py-attr docutils literal notranslate"><span class="pre">COMMAND</span></code> inicialmente y luego <code class="xref py py-attr docutils literal notranslate"><span class="pre">DATA</span></code> después de que el cliente envíe una línea «DATA».</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.seen_greeting">
<span class="sig-name descname"><span class="pre">seen_greeting</span></span><a class="headerlink" href="#smtpd.SMTPChannel.seen_greeting" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene una cadena de caracteres que contiene el saludo enviado por el cliente en su «HELO».</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.mailfrom">
<span class="sig-name descname"><span class="pre">mailfrom</span></span><a class="headerlink" href="#smtpd.SMTPChannel.mailfrom" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene una cadena de caracteres que contiene la dirección identificada en la línea «MAIL FROM:» del cliente.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.rcpttos">
<span class="sig-name descname"><span class="pre">rcpttos</span></span><a class="headerlink" href="#smtpd.SMTPChannel.rcpttos" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene una lista de cadenas de caracteres que contienen las direcciones identificadas en las líneas «RCPT TO:» del cliente.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.received_data">
<span class="sig-name descname"><span class="pre">received_data</span></span><a class="headerlink" href="#smtpd.SMTPChannel.received_data" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene una cadena de caracteres que contiene todos los datos enviados por el cliente durante el estado de DATA, hasta pero sin incluir la terminación <code class="docutils literal notranslate"><span class="pre">&quot;\r\n.\r\n&quot;</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.fqdn">
<span class="sig-name descname"><span class="pre">fqdn</span></span><a class="headerlink" href="#smtpd.SMTPChannel.fqdn" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene el nombre de dominio completo del servidor tal y como lo retorna <a class="reference internal" href="socket.html#socket.getfqdn" title="socket.getfqdn"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.getfqdn()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="smtpd.SMTPChannel.peer">
<span class="sig-name descname"><span class="pre">peer</span></span><a class="headerlink" href="#smtpd.SMTPChannel.peer" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Contiene el nombre del par del cliente como lo retorna <code class="docutils literal notranslate"><span class="pre">conn.getpeername()</span></code> donde <code class="docutils literal notranslate"><span class="pre">conn</span></code> es <a class="reference internal" href="#smtpd.SMTPChannel.conn" title="smtpd.SMTPChannel.conn"><code class="xref py py-attr docutils literal notranslate"><span class="pre">conn</span></code></a>.</p>
</dd></dl>

<p>La clase <a class="reference internal" href="#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a> opera invocando métodos llamados <code class="docutils literal notranslate"><span class="pre">smtp_&lt;command&gt;</span></code> al recibir una línea de comando del cliente. Construidos en la clase base <a class="reference internal" href="#smtpd.SMTPChannel" title="smtpd.SMTPChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTPChannel</span></code></a>, son métodos para manejar los siguientes comandos (y responder a ellos de manera apropiada):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Comando</p></th>
<th class="head"><p>Acción tomada</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HELO</p></td>
<td><p>Acepta el saludo del cliente y lo almacena en <a class="reference internal" href="#smtpd.SMTPChannel.seen_greeting" title="smtpd.SMTPChannel.seen_greeting"><code class="xref py py-attr docutils literal notranslate"><span class="pre">seen_greeting</span></code></a>. Establece el servidor en el modo de comando base.</p></td>
</tr>
<tr class="row-odd"><td><p>EHLO</p></td>
<td><p>Acepta el saludo del cliente y lo almacena en <a class="reference internal" href="#smtpd.SMTPChannel.seen_greeting" title="smtpd.SMTPChannel.seen_greeting"><code class="xref py py-attr docutils literal notranslate"><span class="pre">seen_greeting</span></code></a>. Establece el servidor en el modo de comando extendido.</p></td>
</tr>
<tr class="row-even"><td><p>NOOP</p></td>
<td><p>No realiza ninguna acción.</p></td>
</tr>
<tr class="row-odd"><td><p>QUIT</p></td>
<td><p>Cierra la conexión limpiamente.</p></td>
</tr>
<tr class="row-even"><td><p>MAIL</p></td>
<td><p>Acepta la sintaxis «MAIL FROM:» y almacena la dirección proporcionada como <a class="reference internal" href="#smtpd.SMTPChannel.mailfrom" title="smtpd.SMTPChannel.mailfrom"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mailfrom</span></code></a>. En el modo de comando extendido, acepta el atributo <span class="target" id="index-29"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1870.html"><strong>RFC 1870</strong></a> SIZE y responde apropiadamente según el valor de <em>data_size_limit</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>RCPT</p></td>
<td><p>Acepta la sintaxis «RCPT TO:» y almacena las direcciones proporcionadas en la lista <a class="reference internal" href="#smtpd.SMTPChannel.rcpttos" title="smtpd.SMTPChannel.rcpttos"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rcpttos</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p>RSET</p></td>
<td><p>Restablece <a class="reference internal" href="#smtpd.SMTPChannel.mailfrom" title="smtpd.SMTPChannel.mailfrom"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mailfrom</span></code></a>, <a class="reference internal" href="#smtpd.SMTPChannel.rcpttos" title="smtpd.SMTPChannel.rcpttos"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rcpttos</span></code></a> y <a class="reference internal" href="#smtpd.SMTPChannel.received_data" title="smtpd.SMTPChannel.received_data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">received_data</span></code></a>, pero no el saludo.</p></td>
</tr>
<tr class="row-odd"><td><p>DATA</p></td>
<td><p>Establece el estado interno en <code class="xref py py-attr docutils literal notranslate"><span class="pre">DATA</span></code> y almacena las líneas restantes del cliente en <a class="reference internal" href="#smtpd.SMTPChannel.received_data" title="smtpd.SMTPChannel.received_data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">received_data</span></code></a> hasta que se recibe el terminador <code class="docutils literal notranslate"><span class="pre">”\r\n.\r\n”</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>HELP</p></td>
<td><p>Retorna información mínima sobre la sintaxis del comando</p></td>
</tr>
<tr class="row-odd"><td><p>VRFY</p></td>
<td><p>Retorna el código 252 (el servidor no sabe si la dirección es válida)</p></td>
</tr>
<tr class="row-even"><td><p>EXPN</p></td>
<td><p>Informa que el comando no está implementado.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code> — Servidor SMTP</a><ul>
<li><a class="reference internal" href="#smtpserver-objects">Objetos SMTPServer</a></li>
<li><a class="reference internal" href="#debuggingserver-objects">Objetos DebuggingServer</a></li>
<li><a class="reference internal" href="#pureproxy-objects">Objetos PureProxy</a></li>
<li><a class="reference internal" href="#smtpchannel-objects">Objetos SMTPChannel</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="pipes.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pipes</span></code> — Interfaz para tuberías de shell</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="sndhdr.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sndhdr</span></code> — Determinar el tipo de archivo de sonido</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/smtpd.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="sndhdr.html" title="sndhdr — Determinar el tipo de archivo de sonido"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="pipes.html" title="pipes — Interfaz para tuberías de shell"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="superseded.html" >Módulos reemplazados</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtpd</span></code> — Servidor SMTP</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>