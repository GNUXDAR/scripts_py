
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Qué hay de nuevo en Python 2.3 &#8212; documentación de Python - 3.10.10</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pydoctheme.css?2022.1" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.10.10"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Qué hay de nuevo en Python 2.2" href="2.2.html" />
    <link rel="prev" title="Novedades en Python 2.4" href="2.4.html" />
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/2.3.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 2.3</a><ul>
<li><a class="reference internal" href="#pep-218-a-standard-set-datatype">PEP 218: Un tipo de datos de conjunto estándar</a></li>
<li><a class="reference internal" href="#pep-255-simple-generators">PEP 255: Generadores simples</a></li>
<li><a class="reference internal" href="#pep-263-source-code-encodings">PEP 263: Codificación del código fuente</a></li>
<li><a class="reference internal" href="#pep-273-importing-modules-from-zip-archives">PEP 273: Importar módulos desde archivos ZIP</a></li>
<li><a class="reference internal" href="#pep-277-unicode-file-name-support-for-windows-nt">PEP 277: Soporte de nombres de archivo Unicode para Windows NT</a></li>
<li><a class="reference internal" href="#pep-278-universal-newline-support">PEP 278: Soporte universal de nuevas líneas</a></li>
<li><a class="reference internal" href="#pep-279-enumerate">PEP 279: enumerate()</a></li>
<li><a class="reference internal" href="#pep-282-the-logging-package">PEP 282: El paquete de registro</a></li>
<li><a class="reference internal" href="#pep-285-a-boolean-type">PEP 285: Un tipo booleano</a></li>
<li><a class="reference internal" href="#pep-293-codec-error-handling-callbacks">PEP 293: Llamadas de retorno para el manejo de errores del códec</a></li>
<li><a class="reference internal" href="#pep-301-package-index-and-metadata-for-distutils">PEP 301: Índice de paquetes y metadatos para Distutils</a></li>
<li><a class="reference internal" href="#pep-302-new-import-hooks">PEP 302: Nuevos ganchos de importación</a></li>
<li><a class="reference internal" href="#pep-305-comma-separated-files">PEP 305: Archivos separados por comas</a></li>
<li><a class="reference internal" href="#pep-307-pickle-enhancements">PEP 307: Mejoras en Pickle</a></li>
<li><a class="reference internal" href="#extended-slices">Rebanadas ampliadas</a></li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios en el lenguaje</a><ul>
<li><a class="reference internal" href="#string-changes">Cambios en las cadenas de texto</a></li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-improved-and-deprecated-modules">Módulos nuevos, mejorados y obsoletos</a><ul>
<li><a class="reference internal" href="#date-time-type">Tipo de fecha / hora</a></li>
<li><a class="reference internal" href="#the-optparse-module">El módulo optparse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymalloc-a-specialized-object-allocator">Pymalloc: un asignador de objetos especializado</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la API de Build y C</a><ul>
<li><a class="reference internal" href="#port-specific-changes">Cambios específicos del puerto</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-changes-and-fixes">Otros cambios y correcciones</a></li>
<li><a class="reference internal" href="#porting-to-python-2-3">Portar a Python 2.3</a></li>
<li><a class="reference internal" href="#acknowledgements">Agradecimientos</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="2.4.html"
                        title="capítulo anterior">Novedades en Python 2.4</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="2.2.html"
                        title="próximo capítulo">Qué hay de nuevo en Python 2.2</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/whatsnew/2.3.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="2.2.html" title="Qué hay de nuevo en Python 2.2"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="2.4.html" title="Novedades en Python 2.4"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 2.3</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-2-3">
<h1>Qué hay de nuevo en Python 2.3<a class="headerlink" href="#what-s-new-in-python-2-3" title="Enlazar permanentemente con este título">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Autor</dt>
<dd class="field-odd"><p>A.M. Kuchling</p>
</dd>
</dl>
<p>Este artículo explica las nuevas características de Python 2.3.  Python 2.3 se publicó el 29 de julio de 2003.</p>
<p>Los temas principales de Python 2.3 son el pulido de algunas de las características añadidas en la 2.2, la adición de varias mejoras pequeñas pero útiles al núcleo del lenguaje y la ampliación de la biblioteca estándar.  El nuevo modelo de objetos introducido en la versión anterior se ha beneficiado de 18 meses de correcciones de errores y de esfuerzos de optimización que han mejorado el rendimiento de las clases de nuevo estilo.  Se han añadido algunas funciones incorporadas, como <a class="reference internal" href="../library/functions.html#sum" title="sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">sum()</span></code></a> y <a class="reference internal" href="../library/functions.html#enumerate" title="enumerate"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a>.  El operador <a class="reference internal" href="../reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a> puede utilizarse ahora para búsquedas de subcadenas (por ejemplo, <code class="docutils literal notranslate"><span class="pre">&quot;ab&quot;</span> <span class="pre">en</span> <span class="pre">&quot;abc&quot;</span></code> retorna <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a>).</p>
<p>Algunas de las nuevas características de la biblioteca son los tipos de datos booleanos, de conjunto, de montón y de fecha/hora, la posibilidad de importar módulos desde archivos con formato ZIP, el soporte de metadatos para el tan esperado catálogo de Python, una versión actualizada de IDLE y módulos para registrar mensajes, envolver texto, analizar archivos CSV, procesar opciones de línea de comandos, utilizar bases de datos BerkeleyDB… la lista de módulos nuevos y mejorados es larga.</p>
<p>Este artículo no pretende proporcionar una especificación completa de las nuevas características, sino que proporciona una visión general conveniente.  Para obtener todos los detalles, debes consultar la documentación de Python 2.3, como la Referencia de la Biblioteca de Python y el Manual de Referencia de Python.  Si quieres entender la implementación completa y los fundamentos del diseño, consulta el PEP de una nueva característica en particular.</p>
<section id="pep-218-a-standard-set-datatype">
<h2>PEP 218: Un tipo de datos de conjunto estándar<a class="headerlink" href="#pep-218-a-standard-set-datatype" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El nuevo módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">sets</span></code> contiene una implementación de un tipo de datos de conjuntos.  La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code> es para conjuntos mutables, conjuntos a los que se les pueden añadir y eliminar miembros.  La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableSet</span></code> es para los conjuntos que no pueden ser modificados, y las instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableSet</span></code> pueden por lo tanto ser utilizadas como claves de diccionario. Los conjuntos se construyen sobre diccionarios, por lo que los elementos de un conjunto deben ser hashables.</p>
<p>Aquí hay un ejemplo simple:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span>
<span class="go">Set([1, 2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="ow">in</span> <span class="n">S</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">0</span> <span class="ow">in</span> <span class="n">S</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span>
<span class="go">Set([1, 2, 5])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>La unión y la intersección de los conjuntos pueden calcularse con los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">union()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">intersection()</span></code>; una notación alternativa utiliza los operadores bitácora <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> y <code class="docutils literal notranslate"><span class="pre">|</span></code>. Los conjuntos mutables también tienen versiones in situ de estos métodos, <code class="xref py py-meth docutils literal notranslate"><span class="pre">union_update()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">intersection_update()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="go">Set([1, 2, 3, 4, 5, 6])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">|</span> <span class="n">S2</span>                  <span class="c1"># Alternative notation</span>
<span class="go">Set([1, 2, 3, 4, 5, 6])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="go">Set([])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">&amp;</span> <span class="n">S2</span>                  <span class="c1"># Alternative notation</span>
<span class="go">Set([])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">union_update</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span>
<span class="go">Set([1, 2, 3, 4, 5, 6])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>También es posible tomar la diferencia simétrica de dos conjuntos.  Este es el conjunto de todos los elementos de la unión que no están en la intersección.  Otra forma de decirlo es que la diferencia simétrica contiene todos los elementos que están exactamente en un conjunto.  De nuevo, existe una notación alternativa (<code class="docutils literal notranslate"><span class="pre">^</span></code>), y una versión in-place con el poco agraciado nombre <code class="xref py py-meth docutils literal notranslate"><span class="pre">symmetric_difference_update()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="go">Set([1, 2, 5, 6])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">^</span> <span class="n">S2</span>
<span class="go">Set([1, 2, 5, 6])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>También hay métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">issubset()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">issuperset()</span></code> para comprobar si un conjunto es subconjunto o superconjunto de otro:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">sets</span><span class="o">.</span><span class="n">Set</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">S1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S1</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">S2</span><span class="p">)</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-59"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0218"><strong>PEP 218</strong></a> - Añadiendo un tipo de objeto de conjunto incorporado</dt><dd><p>PEP escrito por Greg V. Wilson. Implementado por Greg V. Wilson, Alex Martelli y GvR.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-255-simple-generators">
<span id="section-generators"></span><h2>PEP 255: Generadores simples<a class="headerlink" href="#pep-255-simple-generators" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En Python 2.2, los generadores se añadieron como una característica opcional, que se activaba mediante una directiva <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">generators</span></code>.  En 2.3 los generadores ya no necesitan ser habilitados especialmente, y ahora están siempre presentes; esto significa que <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a> es ahora siempre una palabra clave.  El resto de esta sección es una copia de la descripción de los generadores del documento «What’s New in Python 2.2»; si lo leíste cuando salió Python 2.2, puedes saltarte el resto de esta sección.</p>
<p>Sin duda estás familiarizado con cómo funcionan las llamadas a funciones en Python o C. Cuando llamas a una función, ésta obtiene un espacio de nombres privado donde se crean sus variables locales.  Cuando la función llega a una declaración <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>, las variables locales se destruyen y el valor resultante se retorna a quien la llamó.  Una llamada posterior a la misma función obtendrá un nuevo conjunto de variables locales. Pero, ¿qué pasaría si las variables locales no se tiraran al salir de una función? ¿Qué pasaría si pudieras reanudar la función donde la dejaste?  Esto es lo que proporcionan los generadores; se puede pensar en ellos como funciones reanudables.</p>
<p>Este es el ejemplo más sencillo de una función generadora:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generate_ints</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">i</span>
</pre></div>
</div>
<p>Se ha introducido una nueva palabra clave, <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a>, para los generadores.  Cualquier función que contenga una declaración <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> es una función generadora; esto es detectado por el compilador de código de bits de Python que compila la función especialmente como resultado.</p>
<p>Cuando se llama a una función generadora, ésta no retorna un único valor, sino que retorna un objeto generador que soporta el protocolo de los iteradores.  Al ejecutar la sentencia <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a>, el generador retorna el valor de <code class="docutils literal notranslate"><span class="pre">i</span></code>, de forma similar a una sentencia <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>.  La gran diferencia entre <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> y una sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code> es que al llegar a una sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> se suspende el estado de ejecución del generador y se conservan las variables locales.  En la siguiente llamada al método <code class="docutils literal notranslate"><span class="pre">.next()</span></code> del generador, la función se reanudará la ejecución inmediatamente después de la sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code>.  (Por razones complicadas, la sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> no está permitida dentro del bloque <a class="reference internal" href="../reference/compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> de una sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code>…`; lea <span class="target" id="index-60"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0255"><strong>PEP 255</strong></a> para una explicación completa de la interacción entre <code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code> y las excepciones)</p>
<p>Este es un ejemplo de uso del generador <code class="xref py py-func docutils literal notranslate"><span class="pre">generate_ints()</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span> <span class="o">=</span> <span class="n">generate_ints</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span>
<span class="go">&lt;generator object at 0x8117f90&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;stdin&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
  File <span class="nb">&quot;stdin&quot;</span>, line <span class="m">2</span>, in <span class="n">generate_ints</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
<p>También podrías escribir <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">generate_ints(5)</span></code>, o <code class="docutils literal notranslate"><span class="pre">a,b,c</span> <span class="pre">=</span> <span class="pre">generate_ints(3)</span></code>.</p>
<p>Dentro de una función generadora, la expresión <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a> sólo puede usarse sin un valor, y señala el final de la procesión de valores; después el generador no puede retornar más valores. <code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code> con un valor, como <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">5</span></code>, es un error de sintaxis dentro de una función generadora.  El final de los resultados del generador también puede indicarse levantando manualmente <a class="reference internal" href="../library/exceptions.html#StopIteration" title="StopIteration"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a>, o simplemente dejando que el flujo de ejecución caiga en el fondo de la función.</p>
<p>Puedes conseguir el efecto de los generadores manualmente escribiendo tu propia clase y almacenando todas las variables locales del generador como variables de instancia.  Por ejemplo, la devolución de una lista de enteros podría hacerse estableciendo <code class="docutils literal notranslate"><span class="pre">self.count</span></code> a 0, y haciendo que el método <a class="reference internal" href="../library/functions.html#next" title="next"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next()</span></code></a> incremente <code class="docutils literal notranslate"><span class="pre">self.count</span></code> y lo retorne. Sin embargo, para un generador medianamente complicado, escribir la clase correspondiente sería mucho más complicado. <code class="file docutils literal notranslate"><span class="pre">Lib/test/test_generators.py</span></code> contiene varios ejemplos más interesantes.  El más sencillo implementa un recorrido en orden de un árbol utilizando generadores de forma recursiva</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A recursive generator that generates Tree leaves in in-order.</span>
<span class="k">def</span> <span class="nf">inorder</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">t</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">inorder</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">left</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">x</span>
        <span class="k">yield</span> <span class="n">t</span><span class="o">.</span><span class="n">label</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">inorder</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">right</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">x</span>
</pre></div>
</div>
<p>Otros dos ejemplos en <code class="file docutils literal notranslate"><span class="pre">Lib/test/test_generators.py</span></code> producen soluciones para el problema de las N reinas (colocar $N$ reinas en un tablero de ajedrez $NxN$ de forma que ninguna reina amenace a otra) y el recorrido del caballero (una ruta que lleva a un caballo a cada casilla de un tablero de ajedrez $NxN$ sin visitar ninguna casilla dos veces).</p>
<p>La idea de los generadores proviene de otros lenguajes de programación, especialmente de Icon (<a class="reference external" href="https://www.cs.arizona.edu/icon/">https://www.cs.arizona.edu/icon/</a>), donde la idea de los generadores es fundamental.  En Icon, cada expresión y llamada a una función se comporta como un generador.  Un ejemplo de «<em>An Overview of the Icon Programming Language</em>» en <a class="reference external" href="https://www.cs.arizona.edu/icon/docs/ipd266.htm">https://www.cs.arizona.edu/icon/docs/ipd266.htm</a> da una idea de cómo es esto:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence</span> <span class="o">:=</span> <span class="s2">&quot;Store it in the neighboring harbor&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">:=</span> <span class="n">find</span><span class="p">(</span><span class="s2">&quot;or&quot;</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">5</span> <span class="n">then</span> <span class="n">write</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>En Icon la función <code class="xref py py-func docutils literal notranslate"><span class="pre">find()</span></code> retorna los índices en los que se encuentra la subcadena «o»: 3, 23, 33.  En la expresión <a class="reference internal" href="../reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a>, a <code class="docutils literal notranslate"><span class="pre">i</span></code> se le asigna primero un valor de 3, pero 3 es menor que 5, por lo que la comparación falla, e Icon la reintenta con el segundo valor de 23. 23 es mayor que 5, por lo que la comparación ahora tiene éxito, y el código imprime el valor 23 en la pantalla.</p>
<p>Python no va tan lejos como Icon en la adopción de generadores como concepto central.  Los generadores se consideran parte del núcleo del lenguaje Python, pero aprenderlos o utilizarlos no es obligatorio; si no resuelven ningún problema que tengas, siéntete libre de ignorarlos. Una característica novedosa de la interfaz de Python en comparación con la de Icon es que el estado de un generador se representa como un objeto concreto (el iterador) que puede pasarse a otras funciones o almacenarse en una estructura de datos.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-61"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0255"><strong>PEP 255</strong></a> - Generadores simples</dt><dd><p>Escrito por Neil Schemenauer, Tim Peters, Magnus Lie Hetland.  Implementado principalmente por Neil Schemenauer y Tim Peters, con otras correcciones del equipo de Python Labs.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-263-source-code-encodings">
<span id="section-encodings"></span><h2>PEP 263: Codificación del código fuente<a class="headerlink" href="#pep-263-source-code-encodings" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los archivos fuente de Python ahora pueden declararse con diferentes codificaciones de conjuntos de caracteres.  Las codificaciones se declaran incluyendo un comentario con formato especial en la primera o segunda línea del archivo fuente.  Por ejemplo, un archivo UTF-8 puede declararse con:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: UTF-8 -*-</span>
</pre></div>
</div>
<p>Sin esta declaración de codificación, la codificación por defecto utilizada es ASCII de 7 bits. Ejecutar o importar módulos que contengan literales de cadena con caracteres de 8 bits y que no tengan una declaración de codificación dará lugar a un <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> señalado por Python 2.3; en 2.4 será un error de sintaxis.</p>
<p>La declaración de codificación sólo afecta a los literales de cadena Unicode, que se convertirán a Unicode utilizando la codificación especificada.  Ten en cuenta que los identificadores de Python siguen restringidos a caracteres ASCII, por lo que no puedes tener nombres de variables que utilicen caracteres fuera de los alfanuméricos habituales.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-62"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0263"><strong>PEP 263</strong></a> - Definición de las codificaciones del código fuente de Python</dt><dd><p>Escrito por Marc-André Lemburg y Martin von Löwis; realizado por Suzuki Hisao y Martin von Löwis.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-273-importing-modules-from-zip-archives">
<h2>PEP 273: Importar módulos desde archivos ZIP<a class="headerlink" href="#pep-273-importing-modules-from-zip-archives" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El nuevo módulo <a class="reference internal" href="../library/zipimport.html#module-zipimport" title="zipimport: Support for importing Python modules from ZIP archives."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipimport</span></code></a> añade soporte para importar módulos desde un archivo en formato ZIP.  No es necesario importar el módulo explícitamente; se importará automáticamente si se añade el nombre de un archivo ZIP a <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>. Por ejemplo:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">amk@nyman:~/src/python$ </span>unzip -l /tmp/example.zip
<span class="go">Archive:  /tmp/example.zip</span>
<span class="go">  Length     Date   Time    Name</span>
<span class="go"> --------    ----   ----    ----</span>
<span class="go">     8467  11-26-02 22:30   jwzthreading.py</span>
<span class="go"> --------                   -------</span>
<span class="go">     8467                   1 file</span>
<span class="gp">amk@nyman:~/src/python$ </span>./python
<span class="go">Python 2.3 (#1, Aug 1 2003, 19:54:32)</span>
<span class="go">&gt;&gt;&gt; import sys</span>
<span class="go">&gt;&gt;&gt; sys.path.insert(0, &#39;/tmp/example.zip&#39;)  # Add .zip file to front of path</span>
<span class="go">&gt;&gt;&gt; import jwzthreading</span>
<span class="go">&gt;&gt;&gt; jwzthreading.__file__</span>
<span class="go">&#39;/tmp/example.zip/jwzthreading.py&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Una entrada en <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> puede ser ahora el nombre de un archivo ZIP. El archivo ZIP puede contener cualquier tipo de ficheros, pero sólo se pueden importar los ficheros llamados <code class="file docutils literal notranslate"><span class="pre">*.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code>, o <code class="file docutils literal notranslate"><span class="pre">*.pyo</span></code>.  Si un archivo sólo contiene ficheros <code class="file docutils literal notranslate"><span class="pre">*.py</span></code>, Python no intentará modificar el archivo añadiendo el correspondiente fichero <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code>, lo que significa que si un archivo ZIP no contiene ficheros <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code>, la importación puede ser bastante lenta.</p>
<p>También se puede especificar una ruta dentro del archivo para importar sólo de un subdirectorio; por ejemplo, la ruta <code class="file docutils literal notranslate"><span class="pre">/tmp/example.zip/lib/</span></code> sólo importaría del subdirectorio <code class="file docutils literal notranslate"><span class="pre">lib/</span></code> dentro del archivo.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-63"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0273"><strong>PEP 273</strong></a> - Importación de módulos desde archivos Zip</dt><dd><p>Escrito por James C. Ahlstrom, que también proporcionó una implementación. Python 2.3 sigue la especificación en <span class="target" id="index-64"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0273"><strong>PEP 273</strong></a>, pero utiliza una implementación escrita por Just van Rossum que utiliza los ganchos de importación descritos en <span class="target" id="index-65"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a>. Vea la sección <a class="reference internal" href="#section-pep302"><span class="std std-ref">PEP 302: Nuevos ganchos de importación</span></a> para una descripción de los nuevos ganchos de importación.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-277-unicode-file-name-support-for-windows-nt">
<h2>PEP 277: Soporte de nombres de archivo Unicode para Windows NT<a class="headerlink" href="#pep-277-unicode-file-name-support-for-windows-nt" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En Windows NT, 2000 y XP, el sistema almacena los nombres de archivo como cadenas Unicode. Tradicionalmente, Python ha representado los nombres de archivo como cadenas de bytes, lo cual es inadecuado porque hace que algunos nombres de archivo sean inaccesibles.</p>
<p>Python permite ahora utilizar cadenas Unicode arbitrarias (dentro de las limitaciones del sistema de archivos) para todas las funciones que esperan nombres de archivos, sobre todo la función incorporada <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Si se pasa una cadena Unicode a <a class="reference internal" href="../library/os.html#os.listdir" title="os.listdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.listdir()</span></code></a>, Python retorna ahora una lista de cadenas Unicode.  Una nueva función, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.getcwdu()</span></code>, retorna el directorio actual como una cadena Unicode.</p>
<p>Las cadenas de bytes siguen funcionando como nombres de archivo, y en Windows Python las convertirá de forma transparente a Unicode utilizando la codificación <code class="docutils literal notranslate"><span class="pre">mbcs</span></code>.</p>
<p>Otros sistemas también permiten cadenas Unicode como nombres de archivo, pero las convierten en cadenas de bytes antes de pasarlas al sistema, lo que puede provocar un <a class="reference internal" href="../library/exceptions.html#UnicodeError" title="UnicodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeError</span></code></a>. Las aplicaciones pueden comprobar si se admiten cadenas Unicode arbitrarias como nombres de archivo comprobando <a class="reference internal" href="../library/os.path.html#os.path.supports_unicode_filenames" title="os.path.supports_unicode_filenames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os.path.supports_unicode_filenames</span></code></a>, un valor booleano.</p>
<p>En MacOS, <a class="reference internal" href="../library/os.html#os.listdir" title="os.listdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.listdir()</span></code></a> ahora puede retornar nombres de archivo Unicode.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-66"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0277"><strong>PEP 277</strong></a> - Soporte de nombres de archivo Unicode para Windows NT</dt><dd><p>Escrito por Neil Hodgson; realizado por Neil Hodgson, Martin von Löwis y Mark Hammond.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-278-universal-newline-support">
<span id="index-8"></span><h2>PEP 278: Soporte universal de nuevas líneas<a class="headerlink" href="#pep-278-universal-newline-support" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los tres principales sistemas operativos que se utilizan hoy en día son Microsoft Windows, el sistema operativo Macintosh de Apple y los diversos derivados de Unix.  Una pequeña molestia del trabajo entre plataformas es que estas tres plataformas utilizan diferentes caracteres para marcar el final de las líneas en los archivos de texto.  Unix utiliza el salto de línea (carácter ASCII 10), MacOS utiliza el retorno de carro (carácter ASCII 13), y Windows utiliza una secuencia de dos caracteres de un retorno de carro más una nueva línea.</p>
<p>Los objetos de archivo de Python pueden ahora soportar convenciones de fin de línea distintas de la que sigue la plataforma en la que se ejecuta Python. Al abrir un archivo con el modo <code class="docutils literal notranslate"><span class="pre">'U</span></code> o <code class="docutils literal notranslate"><span class="pre">'rU</span></code> se abrirá un archivo para su lectura en modo <a class="reference internal" href="../glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a>.  Las tres convenciones de final de línea se traducirán a un <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> en las cadenas retornadas por los distintos métodos de archivo como <code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code> y <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readline()</span></code></a>.</p>
<p>El soporte universal de nuevas líneas también se utiliza al importar módulos y al ejecutar un archivo con la función <code class="xref py py-func docutils literal notranslate"><span class="pre">execfile()</span></code>.  Esto significa que los módulos de Python pueden ser compartidos entre los tres sistemas operativos sin necesidad de convertir los finales de línea.</p>
<p>Esta función puede desactivarse al compilar Python especificando la opción <code class="xref std std-option docutils literal notranslate"><span class="pre">--without-universal-newlines</span></code> al ejecutar el script <strong class="program">configure</strong> de Python.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-67"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0278"><strong>PEP 278</strong></a> - Soporte universal de nuevas líneas</dt><dd><p>Escrito y ejecutado por Jack Jansen.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-279-enumerate">
<span id="section-enumerate"></span><h2>PEP 279: enumerate()<a class="headerlink" href="#pep-279-enumerate" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Una nueva función incorporada, <a class="reference internal" href="../library/functions.html#enumerate" title="enumerate"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a>, hará que ciertos bucles sean un poco más claros.  <code class="docutils literal notranslate"><span class="pre">enumerate(cosa)</span></code>, donde <em>cosa</em> es un iterador o una secuencia, retorna un iterador que retornará <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">cosa[0])</span></code>, <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">cosa[1])</span></code>, <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">cosa[2])</span></code>, y así sucesivamente.</p>
<p>Un modismo común para cambiar cada elemento de una lista tiene el siguiente aspecto:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="c1"># ... compute some result based on item ...</span>
    <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
</pre></div>
</div>
<p>Esto se puede reescribir usando <a class="reference internal" href="../library/functions.html#enumerate" title="enumerate"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a> como:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="c1"># ... compute some result based on item ...</span>
    <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-68"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0279"><strong>PEP 279</strong></a> - La función incorporada enumerate()</dt><dd><p>Escrito y ejecutado por Raymond D. Hettinger.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-282-the-logging-package">
<h2>PEP 282: El paquete de registro<a class="headerlink" href="#pep-282-the-logging-package" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se ha añadido a Python 2.3 un paquete estándar para escribir registros, <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>.  Proporciona un mecanismo potente y flexible para generar salidas de registro que pueden ser filtradas y procesadas de varias maneras.  Se puede utilizar un archivo de configuración escrito en un formato estándar para controlar el comportamiento de registro de un programa.  Python incluye manejadores que escribirán los registros en el error estándar o en un archivo o socket, los enviarán al registro del sistema, o incluso los enviarán por correo electrónico a una dirección particular; por supuesto, también es posible escribir tus propias clases de manejadores.</p>
<p>La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> es la clase principal. La mayoría del código de la aplicación tratará con uno o más objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code>, cada uno utilizado por un subsistema particular de la aplicación. Cada <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> se identifica con un nombre, y los nombres se organizan en una jerarquía utilizando <code class="docutils literal notranslate"><span class="pre">.</span></code> como separador de componentes. Por ejemplo, puedes tener instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> llamadas <code class="docutils literal notranslate"><span class="pre">servidor</span></code>, <code class="docutils literal notranslate"><span class="pre">servidor.auth</span></code> y <code class="docutils literal notranslate"><span class="pre">servidor.network</span></code>.  Estas dos últimas instancias están por debajo de <code class="docutils literal notranslate"><span class="pre">servidor</span></code> en la jerarquía.  Esto significa que si aumentas la verbosidad de <code class="docutils literal notranslate"><span class="pre">servidor</span></code> o diriges los mensajes de <code class="docutils literal notranslate"><span class="pre">servidor</span></code> a un gestor diferente, los cambios también se aplicarán a los registros de <code class="docutils literal notranslate"><span class="pre">servidor.auth</span></code> y <code class="docutils literal notranslate"><span class="pre">servidor.network</span></code>. También hay un <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> raíz que es el padre de todos los demás loggers.</p>
<p>Para usos sencillos, el paquete <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> contiene algunas funciones de conveniencia que siempre utilizan la raíz log:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Debugging information&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Informational message&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Warning:config file </span><span class="si">%s</span><span class="s1"> not found&#39;</span><span class="p">,</span> <span class="s1">&#39;server.conf&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error occurred&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s1">&#39;Critical error -- shutting down&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Esto produce la siguiente salida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span><span class="n">root</span><span class="p">:</span><span class="ne">Warning</span><span class="p">:</span><span class="n">config</span> <span class="n">file</span> <span class="n">server</span><span class="o">.</span><span class="n">conf</span> <span class="ow">not</span> <span class="n">found</span>
<span class="n">ERROR</span><span class="p">:</span><span class="n">root</span><span class="p">:</span><span class="n">Error</span> <span class="n">occurred</span>
<span class="n">CRITICAL</span><span class="p">:</span><span class="n">root</span><span class="p">:</span><span class="n">Critical</span> <span class="n">error</span> <span class="o">--</span> <span class="n">shutting</span> <span class="n">down</span>
</pre></div>
</div>
<p>En la configuración por defecto, los mensajes informativos y de depuración se suprimen y la salida se envía al error estándar.  Puede habilitar la visualización de mensajes informativos y de depuración llamando al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">setLevel()</span></code> del registrador raíz.</p>
<p>Observe que la llamada <code class="xref py py-func docutils literal notranslate"><span class="pre">warning()</span></code> utiliza operadores de formato de cadena; todas las funciones para el registro de mensajes toman los argumentos <code class="docutils literal notranslate"><span class="pre">(msg,</span> <span class="pre">arg1,</span> <span class="pre">arg2,</span> <span class="pre">...)</span></code> y registran la cadena resultante de <code class="docutils literal notranslate"><span class="pre">msg</span> <span class="pre">%</span> <span class="pre">(arg1,</span> <span class="pre">arg2,</span> <span class="pre">...)</span></code>.</p>
<p>También hay una función <code class="xref py py-func docutils literal notranslate"><span class="pre">exception()</span></code> que registra el rastro más reciente.  Cualquiera de las otras funciones también registrará el rastro si se especifica un valor verdadero para el argumento de la palabra clave <em>exc_info</em>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
    <span class="k">except</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s1">&#39;Problem recorded&#39;</span><span class="p">)</span>

<span class="n">f</span><span class="p">()</span>
</pre></div>
</div>
<p>Esto produce la siguiente salida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span><span class="n">root</span><span class="p">:</span><span class="n">Problem</span> <span class="n">recorded</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;t.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="n">f</span>
    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">integer</span> <span class="n">division</span> <span class="ow">or</span> <span class="n">modulo</span> <span class="n">by</span> <span class="n">zero</span>
</pre></div>
</div>
<p>Los programas un poco más avanzados utilizarán un logger distinto del logger raíz. La función <code class="docutils literal notranslate"><span class="pre">getLogger(nombre)</span></code> se utiliza para obtener un registro en particular, creándolo si aún no existe. <code class="docutils literal notranslate"><span class="pre">getLogger(None)</span></code> retorna el logger raíz.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;server&#39;</span><span class="p">)</span>
 <span class="o">...</span>
<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Listening on port </span><span class="si">%i</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
 <span class="o">...</span>
<span class="n">log</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s1">&#39;Disk full&#39;</span><span class="p">)</span>
 <span class="o">...</span>
</pre></div>
</div>
<p>Los registros se suelen propagar hacia arriba en la jerarquía, por lo que un mensaje registrado en <code class="docutils literal notranslate"><span class="pre">servidor.auth</span></code> también es visto por <code class="docutils literal notranslate"><span class="pre">servidor</span></code> y <code class="docutils literal notranslate"><span class="pre">root</span></code>, pero un <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> puede evitar esto estableciendo su atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">propagate</span></code> a <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a>.</p>
<p>There are more classes provided by the <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> package that can be
customized.  When a <code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code> instance is told to log a message, it
creates a <code class="xref py py-class docutils literal notranslate"><span class="pre">LogRecord</span></code> instance that is sent to any number of different
<code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code> instances.  Loggers and handlers can also have an attached list
of filters, and each filter can cause the <code class="xref py py-class docutils literal notranslate"><span class="pre">LogRecord</span></code> to be ignored or
can modify the record before passing it along.  When they’re finally output,
<code class="xref py py-class docutils literal notranslate"><span class="pre">LogRecord</span></code> instances are converted to text by a <code class="xref py py-class docutils literal notranslate"><span class="pre">Formatter</span></code>
class.  All of these classes can be replaced by your own specially written
classes.</p>
<p>Con todas estas características, el paquete <a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> debería proporcionar suficiente flexibilidad incluso para las aplicaciones más complicadas.  Esto es sólo un resumen incompleto de sus características, así que por favor consulte la documentación de referencia del paquete para todos los detalles.  La lectura de <span class="target" id="index-69"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0282"><strong>PEP 282</strong></a> también será útil.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-70"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0282"><strong>PEP 282</strong></a> - Un sistema de registro</dt><dd><p>Escrito por Vinay Sajip y Trent Mick; implementado por Vinay Sajip.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-285-a-boolean-type">
<span id="section-bool"></span><h2>PEP 285: Un tipo booleano<a class="headerlink" href="#pep-285-a-boolean-type" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se ha añadido un tipo booleano a Python 2.3.  Se añadieron dos nuevas constantes al módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">__builtin__</span></code>, <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> y <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a>.  (Las constantes <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> y <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> se añadieron a los módulos incorporados en Python 2.2.1, pero las versiones de 2.2.1 se ajustan simplemente a valores enteros de 1 y 0 y no son un tipo diferente)</p>
<p>El objeto de tipo para este nuevo tipo se denomina <a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>; su constructor toma cualquier valor de Python y lo convierte en <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> o <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">([])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span> <span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>La mayoría de los módulos de la biblioteca estándar y las funciones incorporadas se han modificado para retornar booleanos.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s1">&#39;append&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Los booleanos de Python se añadieron con el objetivo principal de hacer el código más claro.  Por ejemplo, si estás leyendo una función y te encuentras con la sentencia <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">1</span></code>, podrías preguntarte si el <code class="docutils literal notranslate"><span class="pre">1</span></code> representa un valor de verdad booleano, un índice o un coeficiente que multiplica alguna otra cantidad.  Sin embargo, si la sentencia es <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">True</span></code>, el significado del valor de retorno es bastante claro.</p>
<p>Los booleanos de Python <em>no</em> se añadieron en aras de una comprobación de tipos estricta.  Un lenguaje muy estricto como Pascal también le impediría realizar aritmética con booleanos, y requeriría que la expresión en una declaración <a class="reference internal" href="../reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> siempre se evaluara a un resultado booleano.  Python no es tan estricto y nunca lo será, como dice explícitamente <span class="target" id="index-71"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0285"><strong>PEP 285</strong></a>.  Esto significa que puede utilizar cualquier expresión en una sentencia <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code>, incluso las que se evalúan a una lista o tupla o algún objeto aleatorio.  El tipo Booleano es una subclase de la clase <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> por lo que la aritmética que utiliza un Booleano sigue funcionando.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kc">True</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kc">False</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kc">False</span> <span class="o">*</span> <span class="mi">75</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kc">True</span> <span class="o">*</span> <span class="mi">75</span>
<span class="go">75</span>
</pre></div>
</div>
<p>Para resumir <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> and <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a>  en una frase: son formas alternativas de deletrear los valores enteros 1 y 0, con la única diferencia de que <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> y <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a> retornan las cadenas <code class="docutils literal notranslate"><span class="pre">Verdadero</span></code> y <code class="docutils literal notranslate"><span class="pre">Falso</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">1</span></code> y <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-72"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0285"><strong>PEP 285</strong></a> - Añadir un tipo booleano</dt><dd><p>Escrito y ejecutado por GvR.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-293-codec-error-handling-callbacks">
<h2>PEP 293: Llamadas de retorno para el manejo de errores del códec<a class="headerlink" href="#pep-293-codec-error-handling-callbacks" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Al codificar una cadena Unicode en una cadena de bytes, pueden encontrarse caracteres no codificables.  Hasta ahora, Python ha permitido especificar el procesamiento del error como «estricto» (lanzando <a class="reference internal" href="../library/exceptions.html#UnicodeError" title="UnicodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeError</span></code></a>), «ignorar» (saltando el carácter), o «reemplazar» (usando un signo de interrogación en la cadena de salida), siendo «estricto» el comportamiento por defecto. Puede ser deseable especificar un procesamiento alternativo de tales errores, como insertar una referencia de carácter XML o una referencia de entidad HTML en la cadena convertida.</p>
<p>Python tiene ahora un marco flexible para añadir diferentes estrategias de procesamiento.  Se pueden añadir nuevos manejadores de errores con <a class="reference internal" href="../library/codecs.html#codecs.register_error" title="codecs.register_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.register_error()</span></code></a>, y los códecs pueden acceder al manejador de errores con <a class="reference internal" href="../library/codecs.html#codecs.lookup_error" title="codecs.lookup_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.lookup_error()</span></code></a>. Se ha añadido una API en C equivalente para los códecs escritos en C. El gestor de errores obtiene la información de estado necesaria, como la cadena que se está convirtiendo, la posición en la cadena donde se ha detectado el error y la codificación de destino.  El controlador puede entonces lanzar una excepción o retornar una cadena de reemplazo.</p>
<p>Se han implementado dos manejadores de error adicionales utilizando este marco: «backslashreplace» utiliza las comillas de barra invertida de Python para representar los caracteres no codificables y «xmlcharrefreplace» emite referencias de caracteres XML.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-73"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0293"><strong>PEP 293</strong></a> - Retrollamadas de manejo de errores del códec</dt><dd><p>Escrito y ejecutado por Walter Dörwald.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-301-package-index-and-metadata-for-distutils">
<span id="section-pep301"></span><h2>PEP 301: Índice de paquetes y metadatos para Distutils<a class="headerlink" href="#pep-301-package-index-and-metadata-for-distutils" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La compatibilidad con el catálogo de Python, largamente solicitada, hace su primera aparición en 2.3.</p>
<p>El corazón del catálogo es el nuevo comando <strong class="command">register</strong> de Distutils. Ejecutando <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">register</span></code> se recogen los metadatos que describen un paquete, como su nombre, versión, mantenedor, descripción, etc., y se envían a un servidor de catálogo central.  El catálogo resultante está disponible en <a class="reference external" href="https://pypi.org">https://pypi.org</a>.</p>
<p>Para hacer el catálogo un poco más útil, se ha añadido un nuevo argumento opcional de palabra clave <em>clasificadores</em> a la función Distutils <code class="xref py py-func docutils literal notranslate"><span class="pre">setup()</span></code>.  Se puede suministrar una lista de cadenas de estilo <a class="reference external" href="http://catb.org/~esr/trove/">Trove</a> para ayudar a clasificar el software.</p>
<p>Aquí hay un ejemplo <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> con clasificadores, escrito para que sea compatible con las versiones más antiguas de Distutils:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">distutils</span> <span class="kn">import</span> <span class="n">core</span>
<span class="n">kw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&quot;Quixote&quot;</span><span class="p">,</span>
      <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s2">&quot;0.5.1&quot;</span><span class="p">,</span>
      <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s2">&quot;A highly Pythonic Web application framework&quot;</span><span class="p">,</span>
      <span class="c1"># ...</span>
      <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="s1">&#39;setup_keywords&#39;</span><span class="p">)</span> <span class="ow">and</span>
    <span class="s1">&#39;classifiers&#39;</span> <span class="ow">in</span> <span class="n">core</span><span class="o">.</span><span class="n">setup_keywords</span><span class="p">):</span>
    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;classifiers&#39;</span><span class="p">]</span> <span class="o">=</span> \
        <span class="p">[</span><span class="s1">&#39;Topic :: Internet :: WWW/HTTP :: Dynamic Content&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Environment :: No Input/Output (Daemon)&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Intended Audience :: Developers&#39;</span><span class="p">],</span>

<span class="n">core</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</pre></div>
</div>
<p>La lista completa de clasificadores se puede obtener ejecutando <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">register</span> <span class="pre">--list-classifiers</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-74"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0301"><strong>PEP 301</strong></a> - Índice de paquetes y metadatos para Distutils</dt><dd><p>Escrito y ejecutado por Richard Jones.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-302-new-import-hooks">
<span id="section-pep302"></span><h2>PEP 302: Nuevos ganchos de importación<a class="headerlink" href="#pep-302-new-import-hooks" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Aunque ha sido posible escribir ganchos de importación personalizados desde que se introdujo el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">ihooks</span></code> en Python 1.3, nadie ha estado nunca realmente contento con él porque escribir nuevos ganchos de importación es difícil y complicado.  Se han propuesto varias alternativas, como los módulos <code class="xref py py-mod docutils literal notranslate"><span class="pre">imputil</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">iu</span></code>, pero ninguno de ellos ha tenido mucha aceptación, y ninguno era fácilmente utilizable desde el código C.</p>
<p><span class="target" id="index-75"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a> toma prestadas ideas de sus predecesores, especialmente del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">iu</span></code> de Gordon McMillan.  Se añaden tres nuevos elementos al módulo <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sys.path_hooks</span></code> es una lista de objetos invocables; la mayoría de las veces serán clases.  Cada llamada toma una cadena que contiene una ruta y retorna un objeto importador que manejará las importaciones desde esta ruta o lanza una excepción <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a> si no puede manejar esta ruta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sys.path_importer_cache</span></code> almacena en caché los objetos del importador para cada ruta, por lo que <code class="docutils literal notranslate"><span class="pre">sys.path_hooks</span></code> sólo tendrá que ser recorrido una vez para cada ruta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sys.meta_path</span></code> es una lista de objetos importadores que se recorrerán antes de comprobar <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>.  Esta lista está inicialmente vacía, pero el código de usuario puede añadir objetos a ella.  Los módulos adicionales incorporados y congelados pueden ser importados por un objeto añadido a esta lista.</p></li>
</ul>
<p>Los objetos importadores deben tener un único método, <code class="docutils literal notranslate"><span class="pre">find_module(fullname,</span> <span class="pre">path=None)</span></code>.  <em>fullname</em> será un nombre de módulo o paquete, por ejemplo <code class="docutils literal notranslate"><span class="pre">string</span></code> o <code class="docutils literal notranslate"><span class="pre">distutils.core</span></code>. <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_module()</span></code> debe retornar un objeto cargador que tenga un único método, <code class="docutils literal notranslate"><span class="pre">load_module(fullname)</span></code>, que cree y retorne el objeto módulo correspondiente.</p>
<p>Por lo tanto, el pseudocódigo de la nueva lógica de importación de Python es algo así (simplificado un poco; véase <span class="target" id="index-76"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a> para los detalles completos):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">mp</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">meta_path</span><span class="p">:</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">mp</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">loader</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load_module</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span>

<span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path_hooks</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">importer</span> <span class="o">=</span> <span class="n">hook</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="c1"># ImportError, so try the other path hooks</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">loader</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">find_module</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span>
            <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load_module</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span>

<span class="c1"># Not found!</span>
<span class="k">raise</span> <span class="ne">ImportError</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-77"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a> - Nuevos ganchos de importación</dt><dd><p>Escrito por Just van Rossum y Paul Moore. Implementado por Just van Rossum.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-305-comma-separated-files">
<span id="section-pep305"></span><h2>PEP 305: Archivos separados por comas<a class="headerlink" href="#pep-305-comma-separated-files" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los archivos separados por comas son un formato frecuentemente utilizado para exportar datos de bases de datos y hojas de cálculo.  Python 2.3 añade un analizador de archivos separados por comas.</p>
<p>El formato separado por comas es engañosamente sencillo a primera vista:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Costs</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mf">3.95</span>
</pre></div>
</div>
<p>Leer una línea y llamar a <code class="docutils literal notranslate"><span class="pre">line.split(',')</span></code>: ¿qué puede ser más sencillo? Pero si se añaden datos de cadena que pueden contener comas, las cosas se complican:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Costs&quot;</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mf">3.95</span><span class="p">,</span><span class="s2">&quot;Includes taxes, shipping, and sundry items&quot;</span>
</pre></div>
</div>
<p>Una expresión regular grande y fea puede analizar esto, pero usar el nuevo paquete <a class="reference internal" href="../library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">csv</span></code></a> es mucho más sencillo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="nb">input</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;datafile&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">line</span>
</pre></div>
</div>
<p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">reader()</span></code> admite varias opciones. El separador de campos no se limita a la coma y puede cambiarse por cualquier carácter, al igual que las comillas y el final de línea.</p>
<p>Se pueden definir y registrar diferentes dialectos de archivos separados por comas; actualmente hay dos dialectos, ambos utilizados por Microsoft Excel. Una clase <a class="reference internal" href="../library/csv.html#csv.writer" title="csv.writer"><code class="xref py py-class docutils literal notranslate"><span class="pre">csv.writer</span></code></a> independiente generará archivos separados por comas a partir de una sucesión de tuplas o listas, citando cadenas que contengan el delimitador.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-78"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0305"><strong>PEP 305</strong></a> - API de archivos CSV</dt><dd><p>Escrito y realizado por Kevin Altis, Dave Cole, Andrew McNamara, Skip Montanaro, Cliff Wells.</p>
</dd>
</dl>
</div>
</section>
<section id="pep-307-pickle-enhancements">
<span id="section-pep307"></span><h2>PEP 307: Mejoras en Pickle<a class="headerlink" href="#pep-307-pickle-enhancements" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los módulos <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">cPickle</span></code> recibieron cierta atención durante el ciclo de desarrollo de la 2.3.  En 2.2, las clases de estilo nuevo podían ser desempaquetadas sin dificultad, pero no se desempaquetaba de forma muy compacta; <span class="target" id="index-79"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0307"><strong>PEP 307</strong></a> cita un ejemplo trivial en el que una clase de estilo nuevo da lugar a una cadena desempaquetada tres veces más larga que la de una clase clásica.</p>
<p>La solución fue inventar un nuevo protocolo pickle.  La función <a class="reference internal" href="../library/pickle.html#pickle.dumps" title="pickle.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.dumps()</span></code></a> soporta desde hace tiempo una bandera de texto o binario.  En la versión 2.3, esta bandera se ha redefinido, pasando de ser un booleano a un entero: 0 es el antiguo formato pickle en modo texto, 1 es el antiguo formato binario, y ahora 2 es un nuevo formato específico de 2.3.  Una nueva constante, <a class="reference internal" href="../library/pickle.html#pickle.HIGHEST_PROTOCOL" title="pickle.HIGHEST_PROTOCOL"><code class="xref py py-const docutils literal notranslate"><span class="pre">pickle.HIGHEST_PROTOCOL</span></code></a>, puede utilizarse para seleccionar el protocolo más elegante disponible.</p>
<p>El unpickling ya no se considera una operación segura. El <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> de la versión 2.2 proporcionaba ganchos para tratar de evitar que las clases no seguras fueran deserializadas (específicamente, un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">__safe_for_unpickling__</span></code>), pero nada de este código fue nunca auditado y por lo tanto todo ha sido eliminado en la versión 2.3.  No se debe deserializar datos no confiables en ninguna versión de Python.</p>
<p>Para reducir la sobrecarga de pickling de las clases de estilo nuevo, se ha añadido una nueva interfaz para personalizar el pickling mediante tres métodos especiales: <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getstate__()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__setstate__()</span></code>, y <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getnewargs__()</span></code>.  Consulte <span class="target" id="index-80"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0307"><strong>PEP 307</strong></a> para conocer la semántica completa de estos métodos.</p>
<p>Como forma de comprimir aún más los pickles, ahora es posible utilizar códigos enteros en lugar de cadenas largas para identificar las clases serializadas. La Python Software Foundation mantendrá una lista de códigos estandarizados; también hay una gama de códigos para uso privado.  Actualmente no se ha especificado ningún código.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><span class="target" id="index-81"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0307"><strong>PEP 307</strong></a> - Extensiones del protocolo pickle</dt><dd><p>Escrito y ejecutado por Guido van Rossum y Tim Peters.</p>
</dd>
</dl>
</div>
</section>
<section id="extended-slices">
<span id="section-slices"></span><h2>Rebanadas ampliadas<a class="headerlink" href="#extended-slices" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Desde la versión 1.4 de Python, la sintaxis de corte admite un tercer argumento opcional «paso» o «zancada».  Por ejemplo, estas son todas las sintaxis legales de Python: <code class="docutils literal notranslate"><span class="pre">L[1:10:2]</span></code>, <code class="docutils literal notranslate"><span class="pre">L[:-1:1]</span></code>, <code class="docutils literal notranslate"><span class="pre">L[::-1]</span></code>.  Esto se añadió a Python a petición de los desarrolladores de Numerical Python, que utiliza ampliamente el tercer argumento.  Sin embargo, los tipos de secuencias de listas, tuplas y cadenas incorporados en Python nunca han soportado esta característica, y lanzan un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> si lo intentas. Michael Hudson ha contribuido con un parche para solucionar este problema.</p>
<p>Por ejemplo, ahora puede extraer fácilmente los elementos de una lista que tengan índices pares:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[0, 2, 4, 6, 8]</span>
</pre></div>
</div>
<p>Los valores negativos también sirven para hacer una copia de la misma lista en orden inverso:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span>
</pre></div>
</div>
<p>Esto también funciona para tuplas, arrays y cadenas:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">=</span><span class="s1">&#39;abcd&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">&#39;ac&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;dcba&#39;</span>
</pre></div>
</div>
<p>Si tienes una secuencia mutable, como una lista o un array, puedes asignar o eliminar una rebanada extendida, pero hay algunas diferencias entre la asignación a rebanadas extendidas y regulares.  La asignación a una rebanada regular se puede utilizar para cambiar la longitud de la secuencia:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0, 4, 5, 6]</span>
</pre></div>
</div>
<p>Las rebanadas extendidas no son tan flexibles.  Cuando se asigna a una rebanada extendida, la lista a la derecha de la declaración debe contener el mismo número de elementos que la rebanada que está reemplazando:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[0, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0, 1, -1, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
<span class="gr">ValueError</span>: <span class="n">attempt to assign sequence of size 3 to extended slice of size 2</span>
</pre></div>
</div>
<p>La eliminación es más sencilla:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[0, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
<p>Ahora también se pueden pasar objetos slice a los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code> de las secuencias incorporadas:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[0, 2, 4]</span>
</pre></div>
</div>
<p>O utilizar los objetos de corte directamente en los subíndices:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="go">[0, 2, 4]</span>
</pre></div>
</div>
<p>Para simplificar la implementación de secuencias que soportan el corte extendido, los objetos slice tienen ahora un método <code class="docutils literal notranslate"><span class="pre">indices(length)</span></code> que, dada la longitud de una secuencia, retorna una tupla <code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code> que puede pasarse directamente a <a class="reference internal" href="../library/stdtypes.html#range" title="range"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a>. <code class="xref py py-meth docutils literal notranslate"><span class="pre">indices()</span></code> maneja los índices omitidos y los que están fuera de los límites de una manera consistente con los slices regulares (¡y esta frase inocua esconde un montón de detalles confusos!).  El método está pensado para ser utilizado así:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FakeSeq</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="nf">calc_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">FakeSeq</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">calc_item</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">*</span><span class="n">indices</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc_item</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>En este ejemplo también se puede ver que el objeto incorporado <a class="reference internal" href="../library/functions.html#slice" title="slice"><code class="xref py py-class docutils literal notranslate"><span class="pre">slice</span></code></a> es ahora el objeto tipo para el tipo slice, y ya no es una función.  Esto es consistente con Python 2.2, donde <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, etc., sufrieron el mismo cambio.</p>
</section>
<section id="other-language-changes">
<h2>Otros cambios en el lenguaje<a class="headerlink" href="#other-language-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Estos son todos los cambios que Python 2.3 introduce en el núcleo del lenguaje Python.</p>
<ul>
<li><p>La expresión <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a> es ahora siempre una palabra clave, como se describe en la sección <a class="reference internal" href="#section-generators"><span class="std std-ref">PEP 255: Generadores simples</span></a> de este documento.</p></li>
<li><p>Se ha añadido una nueva función incorporada <a class="reference internal" href="../library/functions.html#enumerate" title="enumerate"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a>, como se describe en la sección <a class="reference internal" href="#section-enumerate"><span class="std std-ref">PEP 279: enumerate()</span></a> de este documento.</p></li>
<li><p>Se han añadido dos nuevas constantes, <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> y <a class="reference internal" href="../library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> junto con el tipo incorporado <a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, como se describe en la sección <a class="reference internal" href="#section-bool"><span class="std std-ref">PEP 285: Un tipo booleano</span></a> de este documento.</p></li>
<li><p>El constructor de tipo <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> ahora retornará un entero largo en lugar de lanzar un <a class="reference internal" href="../library/exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a> cuando una cadena o un número de punto flotante es demasiado grande para caber en un entero.  Esto puede llevar al resultado paradójico de que <code class="docutils literal notranslate"><span class="pre">isinstance(int(expresión),</span> <span class="pre">int)</span></code> sea falso, pero parece poco probable que cause problemas en la práctica.</p></li>
<li><p>Los tipos incorporados ahora soportan la sintaxis de rebanado extendida, como se describe en la sección <a class="reference internal" href="#section-slices"><span class="std std-ref">Rebanadas ampliadas</span></a> de este documento.</p></li>
<li><p>Una nueva función incorporada, <code class="docutils literal notranslate"><span class="pre">suma(iterable,</span> <span class="pre">start=0)</span></code>, suma los elementos numéricos en el objeto iterable y retorna su suma. <code class="xref py py-func docutils literal notranslate"><span class="pre">suma()</span></code> sólo acepta números, lo que significa que no se puede utilizar para concatenar un montón de cadenas. (Contribución de Alex Martelli)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list.insert(pos,</span> <span class="pre">valor)</span></code> solía insertar <em>valor</em> al principio de la lista cuando <em>pos</em> era negativo.  El comportamiento ha sido cambiado para ser consistente con la indexación de las rebanadas, así que cuando <em>pos</em> es -1 el valor será insertado antes del último elemento, y así sucesivamente.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list.index(value)</span></code>, que busca <em>valor</em> dentro de la lista y retorna su índice, ahora toma los argumentos opcionales <em>start</em> y <em>stop</em> para limitar la búsqueda sólo a una parte de la lista.</p></li>
<li><p>Los diccionarios tienen un nuevo método, <code class="docutils literal notranslate"><span class="pre">pop(key[,</span> <span class="pre">*default*])</span></code>, que retorna el valor correspondiente a <em>key</em> y elimina ese par clave/valor del diccionario.  Si la clave solicitada no está presente en el diccionario, se retorna <em>default</em> si está especificada y se lanza <a class="reference internal" href="../library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> si no lo está:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">{1: 2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;stdin&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
<span class="gr">KeyError</span>: <span class="n">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;stdin&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
<span class="gr">KeyError</span>: <span class="n">&#39;pop(): dictionary is empty&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">{}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>También hay un nuevo método de clase, <code class="docutils literal notranslate"><span class="pre">dict.fromkeys(iterable,</span> <span class="pre">value)</span></code>, que crea un diccionario con claves tomadas del iterador <em>iterable</em> suministrado y todos los valores establecidos a <em>value</em>, por defecto a <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>(Parches aportados por Raymond Hettinger)</p>
<p>Además, el constructor <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">dict()</span></code></a> ahora acepta argumentos de palabras clave para simplificar la creación de pequeños diccionarios:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="n">red</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">blue</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">green</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">black</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">{&#39;blue&#39;: 2, &#39;black&#39;: 4, &#39;green&#39;: 3, &#39;red&#39;: 1}</span>
</pre></div>
</div>
<p>(Contribución de Just van Rossum.)</p>
</li>
<li><p>La expresión <a class="reference internal" href="../reference/simple_stmts.html#assert"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a> ya no comprueba la bandera <code class="docutils literal notranslate"><span class="pre">debug__</span></code>, por lo que ya no se pueden desactivar las aserciones asignando a <code class="docutils literal notranslate"><span class="pre">__debug__</span></code>. Ejecutar Python con la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-O"><code class="xref std std-option docutils literal notranslate"><span class="pre">-O</span></code></a> seguirá generando código que no ejecute ninguna aserción.</p></li>
<li><p>La mayoría de los objetos de tipo son ahora invocables, por lo que puedes usarlos para crear nuevos objetos como funciones, clases y módulos.  (Esto significa que el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">new</span></code> puede quedar obsoleto en una futura versión de Python, porque ahora puedes utilizar los objetos de tipo disponibles en el módulo <a class="reference internal" href="../library/types.html#module-types" title="types: Names for built-in types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">types</span></code></a>) Por ejemplo, puede crear un nuevo objeto de módulo con el siguiente código:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">types</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="s1">&#39;docstring&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">&lt;module &#39;abc&#39; (built-in)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="go">&#39;docstring&#39;</span>
</pre></div>
</div>
</li>
<li><p>Se ha añadido una nueva advertencia, <a class="reference internal" href="../library/exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a> para indicar las características que están en proceso de ser obsoletas.  La advertencia no se imprimirá por defecto.  Para comprobar el uso de funciones que quedarán obsoletas en el futuro, proporcione <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code class="xref std std-option docutils literal notranslate"><span class="pre">-Walways::PendingDeprecationWarning::</span></code></a> en la línea de comandos o utilice <a class="reference internal" href="../library/warnings.html#warnings.filterwarnings" title="warnings.filterwarnings"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.filterwarnings()</span></code></a>.</p></li>
<li><p>Ha comenzado el proceso de desaprobación de las excepciones basadas en cadenas, como en <code class="docutils literal notranslate"><span class="pre">lanzamiento</span> <span class="pre">de</span> <span class="pre">&quot;Error</span> <span class="pre">ocurred”</span></code>.  Al lanzar una cadena, ahora se activará <a class="reference internal" href="../library/exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a>.</p></li>
<li><p>El uso de <code class="docutils literal notranslate"><span class="pre">None</span></code> como nombre de una variable ahora resultará en una advertencia <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>.  En una futura versión de Python, <code class="docutils literal notranslate"><span class="pre">None</span></code> podría convertirse en una palabra clave.</p></li>
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">xreadlines()</span></code> de los objetos archivo, introducido en Python 2.1, ya no es necesario porque los archivos se comportan ahora como su propio iterador. <code class="xref py py-meth docutils literal notranslate"><span class="pre">xreadlines()</span></code> se introdujo originalmente como una forma más rápida de recorrer todas las líneas de un archivo, pero ahora se puede escribir simplemente <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">line</span> <span class="pre">in</span> <span class="pre">file_obj</span></code>. Los objetos archivo también tienen un nuevo atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">encoding</span></code> de sólo lectura que proporciona la codificación utilizada por el archivo; las cadenas Unicode escritas en el archivo se convertirán automáticamente a bytes utilizando la codificación dada.</p></li>
<li><p>The method resolution order used by new-style classes has changed, though
you’ll only notice the difference if you have a really complicated inheritance
hierarchy.  Classic classes are unaffected by this change.  Python 2.2
originally used a topological sort of a class’s ancestors, but 2.3 now uses the
C3 algorithm as described in the paper <a class="reference external" href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.19.3910">«A Monotonic Superclass Linearization
for Dylan»</a>. To
understand the motivation for this change,  read Michele Simionato’s article
<a class="reference external" href="http://www.phyast.pitt.edu/~micheles/mro.html">«Python 2.3 Method Resolution Order»</a>, or
read the thread on python-dev starting with the message at
<a class="reference external" href="https://mail.python.org/pipermail/python-dev/2002-October/029035.html">https://mail.python.org/pipermail/python-dev/2002-October/029035.html</a>. Samuele
Pedroni first pointed out the problem and also implemented the fix by coding the
C3 algorithm.</p></li>
<li><p>Python ejecuta programas multihilo cambiando entre hilos después de ejecutar N bytecodes.  El valor por defecto de N se ha incrementado de 10 a 100 bytecodes, acelerando las aplicaciones de un solo hilo al reducir la sobrecarga de cambio.  Algunas aplicaciones multihilo pueden sufrir un tiempo de respuesta más lento, pero eso se arregla fácilmente estableciendo el límite a un número menor usando <code class="docutils literal notranslate"><span class="pre">sys.setcheckinterval(N)</span></code>. El límite puede recuperarse con la nueva función <code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getcheckinterval()</span></code>.</p></li>
<li><p>Un cambio menor pero de gran alcance es que los nombres de los tipos de extensión definidos por los módulos incluidos con Python ahora contienen el módulo y un <code class="docutils literal notranslate"><span class="pre">.'</span></code> delante del nombre del tipo.  Por ejemplo, en Python 2.2, si creabas un socket e imprimías su <code class="xref py py-attr docutils literal notranslate"><span class="pre">__class__</span></code>, obtendrías esta salida:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="vm">__class__</span>
<span class="go">&lt;type &#39;socket&#39;&gt;</span>
</pre></div>
</div>
<p>En 2.3, se obtiene esto:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="vm">__class__</span>
<span class="go">&lt;type &#39;_socket.socket&#39;&gt;</span>
</pre></div>
</div>
</li>
<li><p>Se ha eliminado una de las incompatibilidades señaladas entre las clases de estilo antiguo y las de estilo nuevo: ahora se pueden asignar a los atributos <code class="xref py py-attr docutils literal notranslate"><span class="pre">__name__</span></code> y <code class="xref py py-attr docutils literal notranslate"><span class="pre">__bases__</span></code> de las clases de estilo nuevo.  Hay algunas restricciones sobre lo que se puede asignar a <a class="reference internal" href="../library/stdtypes.html#class.__bases__" title="class.__bases__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__bases__</span></code></a> en la línea de las relacionadas con la asignación al atributo <a class="reference internal" href="../library/stdtypes.html#instance.__class__" title="instance.__class__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__class__</span></code></a> de una instancia.</p></li>
</ul>
<section id="string-changes">
<h3>Cambios en las cadenas de texto<a class="headerlink" href="#string-changes" title="Enlazar permanentemente con este título">¶</a></h3>
<ul>
<li><p>El operador <a class="reference internal" href="../reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a> ahora funciona de forma diferente para las cadenas. Antes, cuando se evaluaba <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">en</span> <span class="pre">Y</span></code> donde <em>X</em> y <em>Y</em> eran cadenas, <em>X</em> sólo podía ser un único carácter. Esto ha cambiado; <em>X</em> puede ser una cadena de cualquier longitud, y <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">en</span> <span class="pre">Y</span></code> retornará <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> si <em>X</em> es una subcadena de <em>Y</em>.  Si <em>X</em> es una cadena vacía, el resultado es siempre <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;ab&#39;</span> <span class="ow">in</span> <span class="s1">&#39;abcd&#39;</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;ad&#39;</span> <span class="ow">in</span> <span class="s1">&#39;abcd&#39;</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;</span> <span class="ow">in</span> <span class="s1">&#39;abcd&#39;</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Tenga en cuenta que esto no le dice dónde empieza la subcadena; si necesita esa información, utilice el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">find()</span></code> string.</p>
</li>
<li><p>Los métodos de cadena <code class="xref py py-meth docutils literal notranslate"><span class="pre">strip()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">lstrip()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">rstrip()</span></code> tienen ahora un argumento opcional para especificar los caracteres a eliminar.  El valor por defecto sigue siendo eliminar todos los caracteres de espacio en blanco:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;   abc &#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="go">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&gt;&lt;&gt;&lt;abc&lt;&gt;&lt;&gt;&lt;&gt;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">)</span>
<span class="go">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&gt;&lt;&gt;&lt;abc&lt;&gt;&lt;&gt;&lt;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">)</span>
<span class="go">&#39;abc&lt;&gt;&lt;&gt;&lt;&gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u4000\u4001</span><span class="s1">abc</span><span class="se">\u4000</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u4000</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u4001abc&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>(Sugerido por Simon Brunning y aplicado por Walter Dörwald)</p>
</li>
<li><p>Los métodos de cadena <code class="xref py py-meth docutils literal notranslate"><span class="pre">startswith()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">endswith()</span></code> ahora aceptan números negativos para los parámetros <em>start</em> y <em>end</em>.</p></li>
<li><p>Otro nuevo método de cadena es <code class="xref py py-meth docutils literal notranslate"><span class="pre">zfill()</span></code>, originalmente una función del módulo <a class="reference internal" href="../library/string.html#module-string" title="string: Common string operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">string</span></code></a>. <code class="xref py py-meth docutils literal notranslate"><span class="pre">zfill()</span></code> rellena una cadena numérica con ceros a la izquierda hasta que tenga el ancho especificado. Tenga en cuenta que el operador <code class="docutils literal notranslate"><span class="pre">%</span></code> sigue siendo más flexible y potente que <code class="xref py py-meth docutils literal notranslate"><span class="pre">zfill()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;45&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;0045&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;12345&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;12345&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;goofy&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;0goofy&#39;</span>
</pre></div>
</div>
<p>(Contribución de Walter Dörwald.)</p>
</li>
<li><p>Se ha añadido un nuevo tipo de objeto, <code class="xref py py-class docutils literal notranslate"><span class="pre">basestring</span></code>. Tanto las cadenas de 8 bits como las cadenas Unicode heredan de este tipo, por lo que <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">basestring)</span></code> retornará <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> para cualquier tipo de cadena.  Es un tipo completamente abstracto, por lo que no se pueden crear instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">basestring</span></code>.</p></li>
<li><p>Las cadenas internas ya no son inmortales y ahora serán recolectadas de la forma habitual cuando la única referencia a ellas sea desde el diccionario interno de cadenas internas.  (Implementado por Oren Tirosh)</p></li>
</ul>
</section>
<section id="optimizations">
<h3>Optimizaciones<a class="headerlink" href="#optimizations" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>La creación de instancias de clases de estilo nuevo se ha hecho mucho más rápida; ¡ahora son más rápidas que las clases clásicas!</p></li>
<li><p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">sort()</span></code> de los objetos de la lista ha sido ampliamente reescrito por Tim Peters, y la implementación es significativamente más rápida.</p></li>
<li><p>La multiplicación de enteros largos es ahora mucho más rápida gracias a una implementación de la multiplicación Karatsuba, un algoritmo que escala mejor que el O(n*n) requerido para el algoritmo de multiplicación de la escuela primaria.  (Parche original de Christopher A. Craig, y reelaborado significativamente por Tim Peters)</p></li>
<li><p>El opcode <code class="docutils literal notranslate"><span class="pre">SET_LINENO</span></code> ha desaparecido.  Esto puede proporcionar un pequeño aumento de velocidad, dependiendo de la idiosincrasia de su compilador. Vea la sección <a class="reference internal" href="#section-other"><span class="std std-ref">Otros cambios y correcciones</span></a> para una explicación más larga. (Eliminado por Michael Hudson)</p></li>
<li><p>Los objetos <code class="xref py py-func docutils literal notranslate"><span class="pre">xrange()</span></code> tienen ahora su propio iterador, haciendo que <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">xrange(n)</span></code> sea ligeramente más rápido que <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(n)</span></code>.  (Parche de Raymond Hettinger)</p></li>
<li><p>Se han realizado una serie de pequeños reajustes en varios puntos conflictivos para mejorar el rendimiento, como por ejemplo alinear una función o eliminar algo de código.  (Implementado principalmente por GvR, pero mucha gente ha contribuido con cambios individuales)</p></li>
</ul>
<p>El resultado neto de las optimizaciones de la versión 2.3 es que Python 2.3 ejecuta el benchmark pystone alrededor de un 25% f más rápido que Python 2.2.</p>
</section>
</section>
<section id="new-improved-and-deprecated-modules">
<h2>Módulos nuevos, mejorados y obsoletos<a class="headerlink" href="#new-improved-and-deprecated-modules" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Como es habitual, la biblioteca estándar de Python ha recibido una serie de mejoras y correcciones de errores.  Aquí hay una lista parcial de los cambios más notables, ordenados alfabéticamente por nombre de módulo. Consulte el archivo <code class="file docutils literal notranslate"><span class="pre">Misc/NEWS</span></code> en el árbol de fuentes para obtener una lista más completa de los cambios, o busque en los registros de CVS para obtener todos los detalles.</p>
<ul>
<li><p>El módulo <a class="reference internal" href="../library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values."><code class="xref py py-mod docutils literal notranslate"><span class="pre">array</span></code></a> soporta ahora matrices de caracteres Unicode que utilizan el carácter de formato <code class="docutils literal notranslate"><span class="pre">'u</span></code>.  Las matrices también soportan ahora el uso del operador de asignación <code class="docutils literal notranslate"><span class="pre">+=</span></code> para añadir el contenido de otra matriz, y el operador de asignación <code class="docutils literal notranslate"><span class="pre">*=</span></code> para repetir una matriz. (Contribución de Jason Orendorff)</p></li>
<li><p>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> module has been replaced by version 4.1.6 of the <a class="reference external" href="https://pybsddb.sourceforge.net">PyBSDDB</a> package, providing a more complete interface
to the transactional features of the BerkeleyDB library.</p>
<p>La antigua versión del módulo ha sido renombrada como <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb185</span></code> y ya no se construye automáticamente; tendrás que editar <code class="file docutils literal notranslate"><span class="pre">Modules/Setup</span></code> para activarlo.  Ten en cuenta que el nuevo paquete <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> está pensado para ser compatible con el módulo antiguo, así que asegúrate de enviar errores si descubres alguna incompatibilidad. Al actualizar a Python 2.3, si el nuevo intérprete se compila con una nueva versión de la biblioteca BerkeleyDB subyacente, es casi seguro que tendrá que convertir sus archivos de base de datos a la nueva versión.  Puede hacerlo fácilmente con los nuevos scripts <code class="file docutils literal notranslate"><span class="pre">db2pickle.py</span></code> y <code class="file docutils literal notranslate"><span class="pre">pickle2db.py</span></code> que encontrará en el directorio <code class="file docutils literal notranslate"><span class="pre">Tools/scripts</span></code> de la distribución.  Si ya ha estado utilizando el paquete PyBSDDB e importándolo como <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb3</span></code>, tendrá que cambiar sus sentencias <code class="docutils literal notranslate"><span class="pre">import</span></code> para importarlo como <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code>.</p>
</li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a> es una interfaz para la biblioteca de compresión de datos bz2. Los datos comprimidos con bz2 suelen ser más pequeños que los correspondientes datos comprimidos con <a class="reference internal" href="../library/zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code></a>. (Contribución de Gustavo Niemeyer)</p></li>
<li><p>Se ha añadido un conjunto de tipos de fecha/hora estándar en el nuevo módulo <a class="reference internal" href="../library/datetime.html#module-datetime" title="datetime: Basic date and time types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a>.  Consulte la siguiente sección para obtener más detalles.</p></li>
<li><p>La clase Distutils <code class="xref py py-class docutils literal notranslate"><span class="pre">Extension</span></code> soporta ahora un argumento constructor extra llamado <em>depends</em> para listar archivos fuente adicionales de los que depende una extensión.  Esto permite a Distutils recompilar el módulo si se modifica alguno de los archivos de dependencia.  Por ejemplo, si <code class="file docutils literal notranslate"><span class="pre">sampmodule.c</span></code> incluye el fichero de cabecera <code class="file docutils literal notranslate"><span class="pre">sample.h</span></code>, se crearía el objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">Extension</span></code> así:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ext</span> <span class="o">=</span> <span class="n">Extension</span><span class="p">(</span><span class="s2">&quot;samp&quot;</span><span class="p">,</span>
                <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;sampmodule.c&quot;</span><span class="p">],</span>
                <span class="n">depends</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;sample.h&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>La modificación de <code class="file docutils literal notranslate"><span class="pre">sample.h</span></code> haría que el módulo se recompilara. (Contribución de Jeremy Hylton)</p>
</li>
<li><p>Otros cambios menores en Distutils: ahora comprueba las variables de entorno <span class="target" id="index-82"></span><a class="reference internal" href="../using/configure.html#envvar-CC"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CC</span></code></a>, <span class="target" id="index-83"></span><a class="reference internal" href="../using/configure.html#envvar-CFLAGS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CFLAGS</span></code></a>, <span class="target" id="index-84"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CPP</span></code>, <span class="target" id="index-85"></span><a class="reference internal" href="../using/configure.html#envvar-LDFLAGS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">LDFLAGS</span></code></a> y <span class="target" id="index-86"></span><a class="reference internal" href="../using/configure.html#envvar-CPPFLAGS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CPPFLAGS</span></code></a>, utilizándolas para anular los ajustes de la configuración de Python (contribución de Robert Weber).</p></li>
<li><p>Anteriormente el módulo <a class="reference internal" href="../library/doctest.html#module-doctest" title="doctest: Test pieces of code within docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a> sólo buscaba casos de prueba en los docstrings de los métodos y funciones públicos, pero ahora también examina los privados.  La función <code class="xref py py-func docutils literal notranslate"><span class="pre">DocTestSuite()</span></code> crea un objeto <a class="reference internal" href="../library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestSuite</span></code></a> a partir de un conjunto de pruebas <a class="reference internal" href="../library/doctest.html#module-doctest" title="doctest: Test pieces of code within docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a>.</p></li>
<li><p>La nueva función <code class="docutils literal notranslate"><span class="pre">gc.get_referents(object)</span></code> retorna una lista de todos los objetos referenciados por <em>object</em>.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/getopt.html#module-getopt" title="getopt: Portable parser for command line options; support both short and long option names."><code class="xref py py-mod docutils literal notranslate"><span class="pre">getopt</span></code></a> ha ganado una nueva función, <code class="xref py py-func docutils literal notranslate"><span class="pre">gnu_getopt()</span></code>, que admite los mismos argumentos que la función <a class="reference internal" href="../library/getopt.html#module-getopt" title="getopt: Portable parser for command line options; support both short and long option names."><code class="xref py py-func docutils literal notranslate"><span class="pre">getopt()</span></code></a> existente, pero utiliza el modo de exploración al estilo GNU. La función <a class="reference internal" href="../library/getopt.html#module-getopt" title="getopt: Portable parser for command line options; support both short and long option names."><code class="xref py py-func docutils literal notranslate"><span class="pre">getopt()</span></code></a> existente deja de procesar las opciones tan pronto como se encuentra un argumento que no es una opción, pero en el modo GNU el procesamiento continúa, lo que significa que las opciones y los argumentos pueden mezclarse.  Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getopt</span><span class="o">.</span><span class="n">getopt</span><span class="p">([</span><span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="s1">&#39;-v&#39;</span><span class="p">],</span> <span class="s1">&#39;f:v&#39;</span><span class="p">)</span>
<span class="go">([(&#39;-f&#39;, &#39;filename&#39;)], [&#39;output&#39;, &#39;-v&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getopt</span><span class="o">.</span><span class="n">gnu_getopt</span><span class="p">([</span><span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="s1">&#39;-v&#39;</span><span class="p">],</span> <span class="s1">&#39;f:v&#39;</span><span class="p">)</span>
<span class="go">([(&#39;-f&#39;, &#39;filename&#39;), (&#39;-v&#39;, &#39;&#39;)], [&#39;output&#39;])</span>
</pre></div>
</div>
<p>(Contribución de Peter Åstrand.)</p>
</li>
<li><p>Los módulos <a class="reference internal" href="../library/grp.html#module-grp" title="grp: The group database (getgrnam() and friends). (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">grp</span></code></a>, <a class="reference internal" href="../library/pwd.html#module-pwd" title="pwd: The password database (getpwnam() and friends). (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pwd</span></code></a> y <a class="reference internal" href="../library/resource.html#module-resource" title="resource: An interface to provide resource usage information on the current process. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">resource</span></code></a> retornan ahora tuplas mejoradas:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">grp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">grp</span><span class="o">.</span><span class="n">getgrnam</span><span class="p">(</span><span class="s1">&#39;amk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">gr_name</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">gr_gid</span>
<span class="go">(&#39;amk&#39;, 500)</span>
</pre></div>
</div>
</li>
<li><p>El módulo <a class="reference internal" href="../library/gzip.html#module-gzip" title="gzip: Interfaces for gzip compression and decompression using file objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gzip</span></code></a> ahora puede manejar archivos de más de 2 GiB.</p></li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/heapq.html#module-heapq" title="heapq: Heap queue algorithm (a.k.a. priority queue)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code></a> contiene una implementación de un algoritmo de colas de montón.  Un montón es una estructura de datos similar a un array que mantiene los elementos en un orden parcialmente ordenado de forma que, para cada índice <em>k</em>, <code class="docutils literal notranslate"><span class="pre">heap[k]</span> <span class="pre">&lt;=</span> <span class="pre">heap[2*k+1]</span></code> y <code class="docutils literal notranslate"><span class="pre">heap[k]</span> <span class="pre">&lt;=</span> <span class="pre">heap[2*k+2]</span></code>.  Esto hace que sea rápido eliminar el elemento más pequeño, y la inserción de un nuevo elemento manteniendo la propiedad del montón es <em>O(lg n)</em>.  (Véase <a class="reference external" href="https://xlinux.nist.gov/dads//HTML/priorityque.html">https://xlinux.nist.gov/dads//HTML/priorityque.html</a> para más información sobre la estructura de datos de la cola de prioridad)</p>
<p>El módulo <a class="reference internal" href="../library/heapq.html#module-heapq" title="heapq: Heap queue algorithm (a.k.a. priority queue)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code></a> proporciona las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">heappush()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">heappop()</span></code> para añadir y eliminar elementos manteniendo la propiedad del montón sobre algún otro tipo de secuencia mutable de Python.  Aquí hay un ejemplo que utiliza una lista de Python:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">heapq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
<span class="gp">... </span>   <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span>
<span class="go">[1, 3, 5, 11, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span>
<span class="go">[5, 7, 11]</span>
</pre></div>
</div>
<p>(Contribución de Kevin O’Connor.)</p>
</li>
<li><p>El entorno de desarrollo integrado IDLE ha sido actualizado utilizando el código del proyecto IDLEfork (<a class="reference external" href="http://idlefork.sourceforge.net">http://idlefork.sourceforge.net</a>).  La característica más notable es que el código que se está desarrollando se ejecuta ahora en un subproceso, lo que significa que ya no es necesario realizar operaciones manuales de <code class="docutils literal notranslate"><span class="pre">reload()</span></code>. El código central de IDLE ha sido incorporado a la biblioteca estándar como el paquete <a class="reference internal" href="../library/idle.html#module-idlelib" title="idlelib: Implementation package for the IDLE shell/editor."><code class="xref py py-mod docutils literal notranslate"><span class="pre">idlelib</span></code></a>.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/imaplib.html#module-imaplib" title="imaplib: IMAP4 protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">imaplib</span></code></a> ahora admite IMAP sobre SSL. (Contribuido por Piers Lauder y Tino Lange.)</p></li>
<li><p>El <a class="reference internal" href="../library/itertools.html#module-itertools" title="itertools: Functions creating iterators for efficient looping."><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a> contiene una serie de funciones útiles para usar con iteradores, inspiradas en varias funciones proporcionadas por los lenguajes ML y Haskell. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">itertools.ifilter(predicate,</span> <span class="pre">iterator)</span></code> devuelve todos los elementos del iterador para los que la función <code class="xref py py-func docutils literal notranslate"><span class="pre">predicate()</span></code> devuelve <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> y <code class="docutils literal notranslate"><span class="pre">itertools.repeat(obj,</span> <span class="pre">N)</span></code> devuelve <code class="docutils literal notranslate"><span class="pre">obj</span></code> <em>N</em> veces. Hay una serie de otras funciones en el módulo; consulte la documentación de referencia del paquete para obtener más detalles. (Contribuido por Raymond Hettinger.)</p></li>
<li><p>Dos nuevas funciones en el módulo <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>, <code class="docutils literal notranslate"><span class="pre">degrees(rads)</span></code> y <code class="docutils literal notranslate"><span class="pre">radians(degs)</span></code>, convierten entre radianes y grados. Otras funciones del módulo <a class="reference internal" href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>, como <a class="reference internal" href="../library/math.html#math.sin" title="math.sin"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.sin()</span></code></a> y <a class="reference internal" href="../library/math.html#math.cos" title="math.cos"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.cos()</span></code></a>, siempre han requerido valores de entrada medidos en radianes. Además, se agregó un argumento opcional <em>base</em> a <a class="reference internal" href="../library/math.html#math.log" title="math.log"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.log()</span></code></a> para facilitar el cálculo de logaritmos para bases distintas de <code class="docutils literal notranslate"><span class="pre">e</span></code> y <code class="docutils literal notranslate"><span class="pre">10</span></code>. (Contribuido por Raymond Hettinger.)</p></li>
<li><p>Se agregaron varias funciones POSIX nuevas (<code class="xref py py-func docutils literal notranslate"><span class="pre">getpgid()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">killpg()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">lchown()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">loadavg()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">major()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">makedev()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">minor()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">mknod()</span></code>) al módulo <a class="reference internal" href="../library/posix.html#module-posix" title="posix: The most common POSIX system calls (normally used via module os). (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">posix</span></code></a> que subyace al módulo <a class="reference internal" href="../library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a>. (Contribuido por Gustavo Niemeyer, Geert Jansen y Denis S. Otkidach.)</p></li>
<li><p>En el módulo <a class="reference internal" href="../library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a>, la familia de funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">*stat()</span></code> ahora puede informar fracciones de segundo en una marca de tiempo. Estas marcas de tiempo se representan como flotantes, similar al valor devuelto por <a class="reference internal" href="../library/time.html#time.time" title="time.time"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.time()</span></code></a>.</p>
<p>Durante las pruebas, se descubrió que algunas aplicaciones se romperán si las marcas de tiempo son flotantes. Por compatibilidad, cuando se utiliza la interfaz de tupla de las marcas de tiempo <code class="xref py py-class docutils literal notranslate"><span class="pre">stat_result</span></code> se representarán como números enteros. Cuando se utilizan campos con nombre (una característica introducida por primera vez en Python 2.2), las marcas de tiempo todavía se representan como números enteros, a menos que se invoque <code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat_float_times()</span></code> para habilitar los valores de retorno flotantes:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s2">&quot;/tmp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">st_mtime</span>
<span class="go">1034791200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">stat_float_times</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s2">&quot;/tmp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">st_mtime</span>
<span class="go">1034791200.6335014</span>
</pre></div>
</div>
<p>En Python 2.4, el valor predeterminado cambiará para devolver siempre flotantes.</p>
<p>Los desarrolladores de aplicaciones deben habilitar esta función solo si todas sus bibliotecas funcionan correctamente cuando se enfrentan a marcas de tiempo de punto flotante o si utilizan la API de tuplas. Si se usa, la función debe activarse a nivel de aplicación en lugar de intentar habilitarla por uso.</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/optparse.html#module-optparse" title="optparse: Command-line option parsing library. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> contiene un nuevo analizador para argumentos de línea de comandos que puede convertir valores de opción a un tipo de Python en particular y generará automáticamente un mensaje de uso. Consulte la siguiente sección para obtener más detalles.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">linuxaudiodev</span></code> antiguo y nunca documentado ha quedado obsoleto y se ha agregado una nueva versión denominada <a class="reference internal" href="../library/ossaudiodev.html#module-ossaudiodev" title="ossaudiodev: Access to OSS-compatible audio devices. (obsoleto) (Linux, FreeBSD)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ossaudiodev</span></code></a>. Se cambió el nombre del módulo porque los controladores de sonido OSS se pueden usar en plataformas distintas de Linux, y la interfaz también se ha arreglado y actualizado de varias maneras. (Contribuido por Greg Ward y Nicholas FitzRoy-Dale.)</p></li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a> contiene una serie de funciones que intentan determinar varias propiedades de la plataforma en la que se está ejecutando. Hay funciones para obtener la arquitectura, el tipo de CPU, la versión del sistema operativo Windows e incluso la versión de distribución de Linux. (Contribución de Marc-André Lemburg.)</p></li>
<li><p>Los objetos del analizador proporcionados por el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyexpat</span></code> ahora pueden almacenar opcionalmente datos de caracteres, lo que resulta en menos llamadas al controlador de datos de caracteres y, por lo tanto, un rendimiento más rápido. La configuración del atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">buffer_text</span></code> del objeto del analizador en <a class="reference internal" href="../library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> habilitará el almacenamiento en búfer.</p></li>
<li><p>La función <code class="docutils literal notranslate"><span class="pre">sample(population,</span> <span class="pre">k)</span></code> se agregó al módulo <a class="reference internal" href="../library/random.html#module-random" title="random: Generate pseudo-random numbers with various common distributions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code></a>. <em>population</em> es una secuencia o un objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">xrange</span></code> que contiene los elementos de la población, and <code class="xref py py-func docutils literal notranslate"><span class="pre">sample()</span></code> elije <em>k</em> elementos de la población sin reemplazar los elementos escogidos. <em>k</em> puede tener cualquier valor hasta <code class="docutils literal notranslate"><span class="pre">len(population)</span></code>. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mo&#39;</span><span class="p">,</span> <span class="s1">&#39;Tu&#39;</span><span class="p">,</span> <span class="s1">&#39;We&#39;</span><span class="p">,</span> <span class="s1">&#39;Th&#39;</span><span class="p">,</span> <span class="s1">&#39;Fr&#39;</span><span class="p">,</span> <span class="s1">&#39;St&#39;</span><span class="p">,</span> <span class="s1">&#39;Sn&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>      <span class="c1"># Choose 3 elements</span>
<span class="go">[&#39;St&#39;, &#39;Sn&#39;, &#39;Th&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>      <span class="c1"># Choose 7 elements</span>
<span class="go">[&#39;Tu&#39;, &#39;Th&#39;, &#39;Mo&#39;, &#39;We&#39;, &#39;St&#39;, &#39;Fr&#39;, &#39;Sn&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>      <span class="c1"># Choose 7 again</span>
<span class="go">[&#39;We&#39;, &#39;Mo&#39;, &#39;Sn&#39;, &#39;Fr&#39;, &#39;Tu&#39;, &#39;St&#39;, &#39;Th&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>      <span class="c1"># Can&#39;t choose eight</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
  File <span class="nb">&quot;random.py&quot;</span>, line <span class="m">414</span>, in <span class="n">sample</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="s2">&quot;sample larger than population&quot;</span>
<span class="gr">ValueError</span>: <span class="n">sample larger than population</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>   <span class="c1"># Choose ten odd nos. under 10000</span>
<span class="go">[3407, 3805, 1505, 7023, 2401, 2267, 9733, 3151, 8083, 9195]</span>
</pre></div>
</div>
<p>El módulo <a class="reference internal" href="../library/random.html#module-random" title="random: Generate pseudo-random numbers with various common distributions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code></a> ahora usa un nuevo algoritmo, el Mersenne Twister, implementado en C. Es más rápido y más estudiado que el algoritmo anterior.</p>
<p>(Parches aportados por Raymond Hettinger)</p>
</li>
<li><p>El módulo <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">readline</span></code></a> también obtuvo varias funciones nuevas: <code class="xref py py-func docutils literal notranslate"><span class="pre">get_history_item()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">get_current_history_length()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">redisplay()</span></code>.</p></li>
<li><p>Los módulos <code class="xref py py-mod docutils literal notranslate"><span class="pre">rexec</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">Bastion</span></code> se han declarado muertos y los intentos de importarlos fallarán con un <a class="reference internal" href="../library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>. Las clases de nuevo estilo brindan nuevas formas de salir del entorno de ejecución restringido proporcionado por <code class="xref py py-mod docutils literal notranslate"><span class="pre">rexec</span></code>, y nadie tiene interés en arreglarlas o el tiempo para hacerlo. Si tiene aplicaciones que usan <code class="xref py py-mod docutils literal notranslate"><span class="pre">rexec</span></code>, vuelva a escribirlas para usar otra cosa.</p>
<p>(Seguir con Python 2.2 o 2.1 no hará que sus aplicaciones sean más seguras porque hay errores conocidos en el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">rexec</span></code> en esas versiones. Para repetir: si está usando <code class="xref py py-mod docutils literal notranslate"><span class="pre">rexec</span></code>, deje de usarlo inmediatamente).</p>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">rotor</span></code> ha quedado obsoleto porque no se cree que el algoritmo que utiliza para el cifrado sea seguro. Si necesita cifrado, use uno de los varios módulos AES Python que están disponibles por separado.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a> obtuvo una función <code class="docutils literal notranslate"><span class="pre">move(src,</span> <span class="pre">dest)</span></code> que mueve recursivamente un archivo o directorio a una nueva ubicación.</p></li>
<li><p>Se agregó soporte para un manejo de señal POSIX más avanzado al <a class="reference internal" href="../library/signal.html#module-signal" title="signal: Set handlers for asynchronous events."><code class="xref py py-mod docutils literal notranslate"><span class="pre">signal</span></code></a>, pero luego se eliminó nuevamente, ya que resultó imposible hacerlo funcionar de manera confiable en todas las plataformas.</p></li>
<li><p>El módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> ahora admite tiempos de espera. Puede llamar al método <code class="docutils literal notranslate"><span class="pre">settimeout(t)</span></code> en un objeto de socket para establecer un tiempo de espera de <em>t</em> seconds. Subsequent socket operations that take longer than <em>t</em> segundos para completar, abortará y lanzará una excepción <a class="reference internal" href="../library/socket.html#socket.timeout" title="socket.timeout"><code class="xref py py-exc docutils literal notranslate"><span class="pre">socket.timeout</span></code></a>.</p>
<p>La implementación del tiempo de espera original fue realizada por Tim O’Malley. Michael Gilfix lo integró en el módulo Python <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> y lo guió a través de una extensa revisión. Después de que se registró el código, Guido van Rossum reescribió partes del mismo. (Este es un buen ejemplo de un proceso de desarrollo colaborativo en acción).</p>
</li>
<li><p>En Windows, el módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> ahora se envía con compatibilidad con Secure Sockets Layer (SSL).</p></li>
<li><p>El valor de la macro C <code class="xref py py-const docutils literal notranslate"><span class="pre">PYTHON_API_VERSION</span></code> ahora se expone en el nivel de Python como <code class="docutils literal notranslate"><span class="pre">sys.api_version</span></code>. La excepción actual se puede borrar llamando a la nueva función <code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_clear()</span></code>.</p></li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a> permite leer y escribir en: programa: <cite>tar</cite> -format archivos de almacenamiento. (Contribución de Lars Gustäbel.)</p></li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/textwrap.html#module-textwrap" title="textwrap: Text wrapping and filling"><code class="xref py py-mod docutils literal notranslate"><span class="pre">textwrap</span></code></a> contiene funciones para envolver cadenas que contienen párrafos de texto. La función <code class="docutils literal notranslate"><span class="pre">wrap(text,</span> <span class="pre">width)</span></code> toma una cadena y devuelve una lista que contiene el texto dividido en líneas de no más del ancho elegido. La función <code class="docutils literal notranslate"><span class="pre">fill(text,</span> <span class="pre">width)</span></code> devuelve una sola cadena, reformateada para que quepa en líneas que no superen el ancho elegido. (Como puede adivinar, <code class="xref py py-func docutils literal notranslate"><span class="pre">fill()</span></code> está construido sobre <code class="xref py py-func docutils literal notranslate"><span class="pre">wrap()</span></code>. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">textwrap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paragraph</span> <span class="o">=</span> <span class="s2">&quot;Not a whit, we defy augury: ... more text ...&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">paragraph</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
<span class="go">[&quot;Not a whit, we defy augury: there&#39;s a special providence in&quot;,</span>
<span class="go"> &quot;the fall of a sparrow. If it be now, &#39;tis not to come; if it&quot;,</span>
<span class="go"> ...]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">paragraph</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>
<span class="go">Not a whit, we defy augury: there&#39;s</span>
<span class="go">a special providence in the fall of</span>
<span class="go">a sparrow. If it be now, &#39;tis not</span>
<span class="go">to come; if it be not to come, it</span>
<span class="go">will be now; if it be not now, yet</span>
<span class="go">it will come: the readiness is all.</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>El módulo también contiene una clase <code class="xref py py-class docutils literal notranslate"><span class="pre">TextWrapper</span></code> que realmente implementa la estrategia de envoltura de texto. Tanto la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">TextWrapper</span></code> como las funciones <code class="xref py py-func docutils literal notranslate"><span class="pre">wrap()</span></code> y <code class="xref py py-func docutils literal notranslate"><span class="pre">fill()</span></code> admiten varios argumentos de palabras clave adicionales para ajustar el formato; consulte la documentación del módulo para obtener más detalles. (Contribuido por Greg Ward.)</p>
</li>
<li><p>Los módulos <code class="xref py py-mod docutils literal notranslate"><span class="pre">thread</span></code> y <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> ahora tienen módulos complementarios, <code class="xref py py-mod docutils literal notranslate"><span class="pre">dummy_thread</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">dummy_threading</span></code>, que proporcionan una implementación sin acción de la interfaz del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">thread</span></code> para plataformas donde no se admiten subprocesos. La intención es simplificar los módulos compatibles con subprocesos (aquellos en los que <em>don’t</em> depende de los subprocesos para ejecutarse) colocando el siguiente código en la parte superior:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">threading</span> <span class="k">as</span> <span class="nn">_threading</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">dummy_threading</span> <span class="k">as</span> <span class="nn">_threading</span>
</pre></div>
</div>
<p>En este ejemplo, <code class="xref py py-mod docutils literal notranslate"><span class="pre">_threading</span></code> se usa como el nombre del módulo para dejar en claro que el módulo que se está usando no es necesariamente el módulo <a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a>. El código puede llamar funciones y usar clases en <code class="xref py py-mod docutils literal notranslate"><span class="pre">_threading</span></code>, ya sea que se admitan subprocesos o no, evitando una declaración <a class="reference internal" href="../reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> y haciendo que el código sea un poco más claro. Este módulo no hará mágicamente que el código multiproceso se ejecute sin subprocesos; el código que espera a que vuelva otro hilo o que haga algo simplemente se colgará para siempre.</p>
</li>
<li><p>La función <code class="xref py py-func docutils literal notranslate"><span class="pre">strptime()</span></code> del módulo <a class="reference internal" href="../library/time.html#module-time" title="time: Time access and conversions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code></a> ha sido durante mucho tiempo una molestia porque utiliza la implementación <code class="xref py py-func docutils literal notranslate"><span class="pre">strptime()</span></code> de la biblioteca de la plataforma C, y las diferentes plataformas a veces tienen errores extraños. Brett Cannon contribuyó con una implementación portátil que está escrita en Python puro y debería comportarse de manera idéntica en todas las plataformas.</p></li>
<li><p>El nuevo módulo <a class="reference internal" href="../library/timeit.html#module-timeit" title="timeit: Measure the execution time of small code snippets."><code class="xref py py-mod docutils literal notranslate"><span class="pre">timeit</span></code></a> ayuda a medir cuánto tardan en ejecutarse los fragmentos de código Python. El archivo <code class="file docutils literal notranslate"><span class="pre">timeit.py</span></code> se puede ejecutar directamente desde la línea de comando, o la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Timer</span></code> del módulo se puede importar y usar directamente. Aquí hay un breve ejemplo que determina si es más rápido convertir una cadena de 8 bits a Unicode agregando una cadena Unicode vacía o usando la función <code class="xref py py-func docutils literal notranslate"><span class="pre">unicode()</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">timeit</span>

<span class="n">timer1</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;unicode(&quot;abc&quot;)&#39;</span><span class="p">)</span>
<span class="n">timer2</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;&quot;abc&quot; + u&quot;&quot;&#39;</span><span class="p">)</span>

<span class="c1"># Run three trials</span>
<span class="nb">print</span> <span class="n">timer1</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">timer2</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>

<span class="c1"># On my laptop this outputs:</span>
<span class="c1"># [0.36831796169281006, 0.37441694736480713, 0.35304892063140869]</span>
<span class="c1"># [0.17574405670166016, 0.18193507194519043, 0.17565798759460449]</span>
</pre></div>
</div>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tix</span></code> ha recibido varias correcciones de errores y actualizaciones para la versión actual del paquete Tix.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> ahora funciona con una versión de Tcl habilitada para subprocesos. El modelo de subprocesos de Tcl requiere que solo se acceda a los widgets desde el subproceso en el que se crearon; los accesos desde otro hilo pueden hacer que Tcl entre en pánico. Para ciertas interfaces Tcl, <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> ahora evitará esto automáticamente cuando se acceda a un widget desde un subproceso diferente al ordenar un comando, pasarlo al subproceso correcto y esperar los resultados. Otras interfaces no se pueden manejar automáticamente, pero <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> ahora lanzará una excepción en dicho acceso para que al menos pueda averiguar sobre el problema. Consulte <a class="reference external" href="https://mail.python.org/pipermail/python-dev/2002-December/031107.html">https://mail.python.org/pipermail/python-dev/2002-December/031107.html</a> para obtener una explicación más detallada de este cambio. (Implementado por Martin von Löwis.)</p></li>
<li><p>Llamar a métodos Tcl a través del objeto <code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code> ya no retorna solo cadena de caracteres.En vez, si Tcl retorna otros objetos esos objetos son convertidos a su equivalente en Python,si uno existe, o envueltos en una clase <code class="xref py py-class docutils literal notranslate"><span class="pre">_tkinter.</span> <span class="pre">Tcl_Obj</span></code> si no existe un equivalente de Python. Este comportamiento se puede controlar mediante el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">wantobjects()</span></code> de objetos <code class="xref py py-class docutils literal notranslate"><span class="pre">tkapp</span></code>.</p>
<p>Cuando se usa <code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code> a través del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> (como lo harán la mayoría de las aplicaciones de Tkinter), esta función siempre está activada. No debería causar problemas de compatibilidad, ya que Tkinter siempre convertiría los resultados de cadenas a tipos de Python cuando fuera posible.</p>
<p>Si se encuentran incompatibilidades, se puede restaurar el comportamiento anterior estableciendo la variable <code class="xref py py-attr docutils literal notranslate"><span class="pre">wantobjects</span></code> en el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">Tkinter</span></code> en falso antes de crear el primer objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">tkapp</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">Tkinter</span>
<span class="n">Tkinter</span><span class="o">.</span><span class="n">wantobjects</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Cualquier rotura causada por este cambio debe notificarse como un error.</p>
</li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">UserDict</span></code> tiene una nueva clase <code class="xref py py-class docutils literal notranslate"><span class="pre">DictMixin</span></code> que define todos los métodos de diccionario para las clases que ya tienen una interfaz de mapeo mínima. Esto simplifica enormemente las clases de escritura que deben ser sustituibles por diccionarios, como las clases del módulo <a class="reference internal" href="../library/shelve.html#module-shelve" title="shelve: Python object persistence."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shelve</span></code></a>.</p>
<p>Agregar la combinación como una superclase proporciona la interfaz de diccionario completa siempre que la clase define <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__setitem__()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__delitem__()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code>. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">UserDict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SeqDict</span><span class="p">(</span><span class="n">UserDict</span><span class="o">.</span><span class="n">DictMixin</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;Dictionary lookalike implemented with lists.&quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">valuelist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">raise</span> <span class="ne">KeyError</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">valuelist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">valuelist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<span class="gp">... </span>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">valuelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">raise</span> <span class="ne">KeyError</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">valuelist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keylist</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SeqDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>      <span class="c1"># See that other dictionary methods are implemented</span>
<span class="go">[&#39;__cmp__&#39;, &#39;__contains__&#39;, &#39;__delitem__&#39;, &#39;__doc__&#39;, &#39;__getitem__&#39;,</span>
<span class="go"> &#39;__init__&#39;, &#39;__iter__&#39;, &#39;__len__&#39;, &#39;__module__&#39;, &#39;__repr__&#39;,</span>
<span class="go"> &#39;__setitem__&#39;, &#39;clear&#39;, &#39;get&#39;, &#39;has_key&#39;, &#39;items&#39;, &#39;iteritems&#39;,</span>
<span class="go"> &#39;iterkeys&#39;, &#39;itervalues&#39;, &#39;keylist&#39;, &#39;keys&#39;, &#39;pop&#39;, &#39;popitem&#39;,</span>
<span class="go"> &#39;setdefault&#39;, &#39;update&#39;, &#39;valuelist&#39;, &#39;values&#39;]</span>
</pre></div>
</div>
<p>(Parches aportados por Raymond Hettinger)</p>
</li>
<li><p>La implementación DOM en <a class="reference internal" href="../library/xml.dom.minidom.html#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.dom.minidom</span></code></a> ahora puede generar salida XML en una codificación particular proporcionando un argumento de codificación opcional a los métodos <code class="xref py py-meth docutils literal notranslate"><span class="pre">toxml()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">toprettyxml()</span></code> de los nodos DOM.</p></li>
<li><p>El módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">xmlrpclib</span></code> ahora admite una extensión XML-RPC para manejar valores de datos nulos como <code class="docutils literal notranslate"><span class="pre">None</span></code> de Python. Los valores nulos siempre se admiten al desagrupar una respuesta XML-RPC. Para generar solicitudes que contengan <code class="docutils literal notranslate"><span class="pre">None</span></code>, debe proporcionar un valor verdadero para el parámetro <em>allow_none</em> al crear una instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">Marshaller</span></code>.</p></li>
<li><p>El nuevo módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">DocXMLRPCServer</span></code> permite escribir servidores XML-RPC autodocumentados. Ejecútelo en modo de demostración (como un programa) para verlo en acción. Al apuntar el navegador web al servidor RPC se produce una documentación de estilo pydoc; apuntar xmlrpclib al servidor permite invocar los métodos reales. (Contribuido por Brian Quinlan.)</p></li>
<li><p>Se ha agregado soporte para nombres de dominio internacionalizados (RFCs 3454, 3490, 3491 y 3492). La codificación «idna» se puede utilizar para convertir entre un nombre de dominio Unicode y la codificación compatible con ASCII (ACE) de ese nombre.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">{}</span><span class="o">&gt;</span> <span class="sa">u</span><span class="s2">&quot;www.Alliancefrançaise.nu&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;idna&quot;</span><span class="p">)</span>
<span class="s1">&#39;www.xn--alliancefranaise-npb.nu&#39;</span>
</pre></div>
</div>
<p>El módulo <a class="reference internal" href="../library/socket.html#module-socket" title="socket: Low-level networking interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code></a> también se ha ampliado para convertir de forma transparente los nombres de host Unicode a la versión ACE antes de pasarlos a la biblioteca C. Los módulos que tratan con nombres de host como <code class="xref py py-mod docutils literal notranslate"><span class="pre">httplib</span></code> y <a class="reference internal" href="../library/ftplib.html#module-ftplib" title="ftplib: FTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ftplib</span></code></a>) también admiten nombres de host Unicode; <code class="xref py py-mod docutils literal notranslate"><span class="pre">httplib</span></code> también envía encabezados HTTP <code class="docutils literal notranslate"><span class="pre">Host</span></code> utilizando la versión ACE del nombre de dominio. <a class="reference internal" href="../library/urllib.html#module-urllib" title="urllib"><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib</span></code></a> admite URL Unicode con nombres de host que no sean ASCII siempre que la parte <code class="docutils literal notranslate"><span class="pre">path</span></code> de la URL sea solo ASCII.</p>
<p>Para implementar este cambio, se han agregado el módulo <a class="reference internal" href="../library/stringprep.html#module-stringprep" title="stringprep: String preparation, as per RFC 3453"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stringprep</span></code></a>, la herramienta <code class="docutils literal notranslate"><span class="pre">mkstringprep</span></code> y la codificación <code class="docutils literal notranslate"><span class="pre">punycode</span></code>.</p>
</li>
</ul>
<section id="date-time-type">
<h3>Tipo de fecha / hora<a class="headerlink" href="#date-time-type" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se agregaron tipos de fecha y hora adecuados para expresar marcas de tiempo como módulo <a class="reference internal" href="../library/datetime.html#module-datetime" title="datetime: Basic date and time types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a>. Los tipos no admiten diferentes calendarios ni muchas funciones sofisticadas, y solo se ciñen a los conceptos básicos de la representación del tiempo.</p>
<p>Los tres tipos principales son: <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code>, que representa un día, mes y año; <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>, que consta de hora, minuto y segundo; y <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>, que contiene todos los atributos de <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>. También hay una clase <code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code> que representa las diferencias entre dos puntos en el tiempo, y la lógica de la zona horaria se implementa mediante clases que heredan de la clase <code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code> abstracta.</p>
<p>Puede crear instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> y <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a> proporcionando argumentos de palabras clave al constructor apropiado, p. Ej. <code class="docutils literal notranslate"><span class="pre">datetime.date(year=1972,</span> <span class="pre">month=10,</span> <span class="pre">day=15)</span></code>, o utilizando uno de varios métodos de clase. Por ejemplo, el método de clase <code class="xref py py-meth docutils literal notranslate"><span class="pre">date.today()</span></code> devuelve la fecha local actual.</p>
<p>Una vez creadas, las instancias de las clases de fecha / hora son inmutables. Hay varios métodos para producir cadenas formateadas a partir de objetos:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2002-12-30T21:27:03.994956&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span>  <span class="c1"># Only available on date, datetime</span>
<span class="go">&#39;Mon Dec 30 21:27:03 2002&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y </span><span class="si">%d</span><span class="s1"> %b&#39;</span><span class="p">)</span>
<span class="go">&#39;2002 30 Dec&#39;</span>
</pre></div>
</div>
<p>El método <code class="xref py py-meth docutils literal notranslate"><span class="pre">replace()</span></code> permite modificar uno o más campos de una instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> o <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>, devolviendo una nueva instancia:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">datetime.datetime(2002, 12, 30, 22, 15, 38, 827738)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2001</span><span class="p">,</span> <span class="n">hour</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">datetime.datetime(2001, 12, 30, 12, 15, 38, 827738)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Las instancias se pueden comparar, aplicar hash y convertir en cadenas (el resultado es el mismo que el de <code class="xref py py-meth docutils literal notranslate"><span class="pre">isoformat()</span></code>). Las instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> y <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> se pueden restar entre sí y agregarse a las instancias de <code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code>. La mayor característica que falta es que no hay soporte de biblioteca estándar para analizar cadenas y recuperar un <code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code> o <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>.</p>
<p>Para obtener más información, consulte la documentación de referencia del módulo. (Contribuido por Tim Peters.)</p>
</section>
<section id="the-optparse-module">
<h3>El módulo optparse<a class="headerlink" href="#the-optparse-module" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="../library/getopt.html#module-getopt" title="getopt: Portable parser for command line options; support both short and long option names."><code class="xref py py-mod docutils literal notranslate"><span class="pre">getopt</span></code></a> proporciona un análisis sencillo de los argumentos de la línea de comandos. El nuevo módulo <a class="reference internal" href="../library/optparse.html#module-optparse" title="optparse: Command-line option parsing library. (obsoleto)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a> (originalmente llamado Optik) proporciona un análisis de línea de comandos más elaborado que sigue las convenciones de Unix, crea automáticamente la salida para <code class="xref std std-option docutils literal notranslate"><span class="pre">--help</span></code> y puede realizar diferentes acciones para diferentes opciones.</p>
<p>Empiece creando una instancia de <code class="xref py py-class docutils literal notranslate"><span class="pre">OptionParser</span></code> y diciéndole cuáles son las opciones de su programa.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">optparse</span> <span class="kn">import</span> <span class="n">OptionParser</span>

<span class="n">op</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">()</span>
<span class="n">op</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="s1">&#39;--input&#39;</span><span class="p">,</span>
              <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span>
              <span class="n">help</span><span class="o">=</span><span class="s1">&#39;set input filename&#39;</span><span class="p">)</span>
<span class="n">op</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s1">&#39;-l&#39;</span><span class="p">,</span> <span class="s1">&#39;--length&#39;</span><span class="p">,</span>
              <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;int&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;length&#39;</span><span class="p">,</span>
              <span class="n">help</span><span class="o">=</span><span class="s1">&#39;set maximum length of output&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Luego, el análisis de una línea de comando se realiza llamando al método <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_args()</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="nb">print</span> <span class="n">options</span>
<span class="nb">print</span> <span class="n">args</span>
</pre></div>
</div>
<p>Esto devuelve un objeto que contiene todos los valores de las opciones y una lista de cadenas que contienen los argumentos restantes.</p>
<p>Invocar el script con los distintos argumentos ahora funciona como era de esperar. Tenga en cuenta que el argumento de longitud se convierte automáticamente en un número entero.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./python opt.py -i data arg1
<span class="go">&lt;Values at 0x400cad4c: {&#39;input&#39;: &#39;data&#39;, &#39;length&#39;: None}&gt;</span>
<span class="go">[&#39;arg1&#39;]</span>
<span class="gp">$ </span>./python opt.py --input<span class="o">=</span>data --length<span class="o">=</span><span class="m">4</span>
<span class="go">&lt;Values at 0x400cad2c: {&#39;input&#39;: &#39;data&#39;, &#39;length&#39;: 4}&gt;</span>
<span class="go">[]</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>El mensaje de ayuda se genera automáticamente para usted:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./python opt.py --help
<span class="go">usage: opt.py [options]</span>

<span class="go">options:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  -iINPUT, --input=INPUT</span>
<span class="go">                        set input filename</span>
<span class="go">  -lLENGTH, --length=LENGTH</span>
<span class="go">                        set maximum length of output</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>Consulte la documentación del módulo para obtener más detalles.</p>
<p>Optik fue escrito por Greg Ward, con sugerencias de los lectores de Getopt SIG.</p>
</section>
</section>
<section id="pymalloc-a-specialized-object-allocator">
<span id="section-pymalloc"></span><h2>Pymalloc: un asignador de objetos especializado<a class="headerlink" href="#pymalloc-a-specialized-object-allocator" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Pymalloc, un asignador de objetos especializado escrito por Vladimir Marangozov, fue una característica agregada a Python 2.1. Pymalloc está diseñado para ser más rápido que el sistema <code class="xref c c-func docutils literal notranslate"><span class="pre">malloc()</span></code> y tener menos sobrecarga de memoria para los patrones de asignación típicos de los programas Python. El asignador utiliza la función <code class="xref c c-func docutils literal notranslate"><span class="pre">malloc()</span></code> de C para obtener grandes grupos de memoria y luego satisface las solicitudes de memoria más pequeñas de estos grupos.</p>
<p>En 2.1 y 2.2, pymalloc era una función experimental y no estaba habilitada de forma predeterminada; tenía que habilitarlo explícitamente al compilar Python proporcionando la opción <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-pymalloc</span></code> al script: program: <cite>configure</cite>. En 2.3, pymalloc ha tenido más mejoras y ahora está habilitado de forma predeterminada; tendrá que suministrar <code class="xref std std-option docutils literal notranslate"><span class="pre">--without-pymalloc</span></code> para deshabilitarlo.</p>
<p>Este cambio es transparente para el código escrito en Python; sin embargo, pymalloc puede exponer errores en las extensiones C. Los autores de los módulos de extensión C deben probar su código con pymalloc habilitado, ya que algunos códigos incorrectos pueden causar volcados de núcleo en tiempo de ejecución.</p>
<p>Hay un error particularmente común que causa problemas. Hay una serie de funciones de asignación de memoria en la API C de Python que anteriormente solo eran alias para <code class="xref c c-func docutils literal notranslate"><span class="pre">malloc()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">free()</span></code> de la biblioteca C, lo que significa que si llama accidentalmente a funciones que no coinciden, el error no se notará. Cuando el asignador de objetos está habilitado, estas funciones ya no son alias de <code class="xref c c-func docutils literal notranslate"><span class="pre">malloc()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">free()</span></code>, y llamar a la función incorrecta para liberar memoria puede generar un volcado de memoria. Por ejemplo, si la memoria se asignó utilizando <a class="reference internal" href="../c-api/memory.html#c.PyObject_Malloc" title="PyObject_Malloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Malloc()</span></code></a>, debe liberarse utilizando <a class="reference internal" href="../c-api/memory.html#c.PyObject_Free" title="PyObject_Free"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Free()</span></code></a>, no <code class="xref c c-func docutils literal notranslate"><span class="pre">free()</span></code>. Algunos módulos incluidos con Python entraron en conflicto con esto y tuvieron que ser reparados; sin duda hay más módulos de terceros que tendrán el mismo problema.</p>
<p>Como parte de este cambio, las confusas interfaces múltiples para asignar memoria se han consolidado en dos familias de API. La memoria asignada a una familia no debe manipularse con funciones de la otra familia. Hay una familia para asignar fragmentos de memoria y otra familia de funciones específicamente para asignar objetos Python.</p>
<ul class="simple">
<li><p>Para asignar y liberar una porción de memoria no distinguida, use la familia de «memoria sin procesar»: <a class="reference internal" href="../c-api/memory.html#c.PyMem_Malloc" title="PyMem_Malloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_Malloc()</span></code></a>, <a class="reference internal" href="../c-api/memory.html#c.PyMem_Realloc" title="PyMem_Realloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_Realloc()</span></code></a> y <a class="reference internal" href="../c-api/memory.html#c.PyMem_Free" title="PyMem_Free"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_Free()</span></code></a>.</p></li>
<li><p>La familia de «memoria de objetos» es la interfaz para la instalación de pymalloc descrita anteriormente y está sesgada hacia un gran número de asignaciones «pequeñas»: <a class="reference internal" href="../c-api/memory.html#c.PyObject_Malloc" title="PyObject_Malloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Malloc()</span></code></a>, <a class="reference internal" href="../c-api/memory.html#c.PyObject_Realloc" title="PyObject_Realloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Realloc()</span></code></a> y <a class="reference internal" href="../c-api/memory.html#c.PyObject_Free" title="PyObject_Free"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Free()</span></code></a>.</p></li>
<li><p>Para asignar y liberar objetos de Python, utilice la familia de «objetos» <a class="reference internal" href="../c-api/allocation.html#c.PyObject_New" title="PyObject_New"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_New()</span></code></a>, <a class="reference internal" href="../c-api/allocation.html#c.PyObject_NewVar" title="PyObject_NewVar"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_NewVar()</span></code></a> y <a class="reference internal" href="../c-api/allocation.html#c.PyObject_Del" title="PyObject_Del"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Del()</span></code></a>.</p></li>
</ul>
<p>Gracias al gran trabajo de Tim Peters, pymalloc en 2.3 también proporciona funciones de depuración para detectar sobrescrituras de memoria y liberaciones duplicadas en ambos módulos de extensión y en el propio intérprete. Para habilitar este soporte, compile una versión de depuración del intérprete de Python ejecutando: programa: <cite>configure</cite> con <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-pydebug</span></code>.</p>
<p>Para ayudar a los escritores de extensiones, se distribuye un archivo de encabezado <code class="file docutils literal notranslate"><span class="pre">Misc/pymemcompat.h</span></code> con la fuente a Python 2.3 que permite que las extensiones de Python usen las interfaces 2.3 para la asignación de memoria mientras se compila con cualquier versión de Python desde la 1.5.2. Debería copiar el archivo de la distribución fuente de Python y empaquetarlo con la fuente de su extensión.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><a class="reference external" href="https://hg.python.org/cpython/file/default/Objects/obmalloc.c">https://hg.python.org/cpython/file/default/Objects/obmalloc.c</a></dt><dd><p>Para obtener todos los detalles de la implementación de pymalloc, consulte los comentarios en la parte superior del archivo <code class="file docutils literal notranslate"><span class="pre">Objects/obmalloc.c</span></code> en el código fuente de Python. El enlace anterior apunta al archivo dentro del navegador SVN de python.org.</p>
</dd>
</dl>
</div>
</section>
<section id="build-and-c-api-changes">
<h2>Cambios en la API de Build y C<a class="headerlink" href="#build-and-c-api-changes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los cambios en el proceso de compilación de Python y en la API de C incluyen:</p>
<ul class="simple">
<li><p>La implementación de detección de ciclos utilizada por la recolección de basura ha demostrado ser estable, por lo que ahora se ha hecho obligatoria. Ya no puede compilar Python sin él, y el cambio <code class="xref std std-option docutils literal notranslate"><span class="pre">--with-cycle-gc</span></code> a: program: <cite>configure</cite> ha sido eliminado.</p></li>
<li><p>Python ahora se puede construir opcionalmente como una biblioteca compartida (<code class="file docutils literal notranslate"><span class="pre">libpython2.3.so</span></code>) proporcionando <code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-shared</span></code> cuando se ejecuta el script Python: program: <cite>configure</cite>. (Contribuido por Ondrej Palkovsky.)</p></li>
<li><p>Las macros <code class="xref c c-macro docutils literal notranslate"><span class="pre">DL_EXPORT</span></code> y <code class="xref c c-macro docutils literal notranslate"><span class="pre">DL_IMPORT</span></code> ahora están en desuso. Las funciones de inicialización para los módulos de extensión de Python ahora deben declararse usando la nueva macro <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyMODINIT_FUNC</span></code>, mientras que el núcleo de Python generalmente usará las macros <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyAPI_FUNC</span></code> y <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyAPI_DATA</span></code>.</p></li>
<li><p>El intérprete se puede compilar sin ninguna cadena de documentación para las funciones y módulos incorporados proporcionando <code class="xref std std-option docutils literal notranslate"><span class="pre">--without-doc-strings</span></code> al script: program: <cite>configure</cite>. Esto hace que el ejecutable de Python sea un 10% más pequeño, pero también significa que no puede obtener ayuda para las funciones integradas de Python. (Contribución de Gustavo Niemeyer.)</p></li>
<li><p>La macro <code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_NoArgs()</span></code> ahora está en desuso y el código que la usa debe cambiarse. Para Python 2.2 y versiones posteriores, la tabla de definición de métodos puede especificar la marca <a class="reference internal" href="../c-api/structures.html#METH_NOARGS" title="METH_NOARGS"><code class="xref py py-const docutils literal notranslate"><span class="pre">METH_NOARGS</span></code></a>, lo que indica que no hay argumentos, y luego se puede eliminar la verificación de argumentos. Si la compatibilidad con las versiones anteriores a la 2.2 de Python es importante, el código podría usar <code class="docutils literal notranslate"><span class="pre">PyArg_ParseTuple(args,</span> <span class="pre">&quot;&quot;)</span></code> en su lugar, pero esto será más lento que usar <a class="reference internal" href="../c-api/structures.html#METH_NOARGS" title="METH_NOARGS"><code class="xref py py-const docutils literal notranslate"><span class="pre">METH_NOARGS</span></code></a>.</p></li>
<li><p><a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a> accepts new format characters for various sizes of
unsigned integers: <code class="docutils literal notranslate"><span class="pre">B</span></code> for <code class="xref c c-expr docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">H</span></code> for <code class="xref c c-expr docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">short</span> <span class="pre">int</span></code>,  <code class="docutils literal notranslate"><span class="pre">I</span></code> for <code class="xref c c-expr docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code>,  and <code class="docutils literal notranslate"><span class="pre">K</span></code> for <code class="xref c c-expr docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">long</span></code>.</p></li>
<li><p>Se agregó una nueva función, <code class="docutils literal notranslate"><span class="pre">PyObject_DelItemString(mapping,</span> <span class="pre">char</span> <span class="pre">*key)</span></code>, como abreviatura de <code class="docutils literal notranslate"><span class="pre">PyObject_DelItem(mapping,</span> <span class="pre">PyString_New(key))</span></code>.</p></li>
<li><p>Los objetos de archivo ahora administran su búfer de cadena interno de manera diferente, incrementándolo exponencialmente cuando es necesario. Esto da como resultado que las pruebas de referencia en <code class="file docutils literal notranslate"><span class="pre">Lib/test/test_bufio.py</span></code> se aceleren considerablemente (de 57 segundos a 1,7 segundos, según una medición).</p></li>
<li><p>Ahora es posible definir métodos estáticos y de clase para un tipo de extensión C configurando los indicadores <a class="reference internal" href="../c-api/structures.html#METH_CLASS" title="METH_CLASS"><code class="xref py py-const docutils literal notranslate"><span class="pre">METH_CLASS</span></code></a> o <a class="reference internal" href="../c-api/structures.html#METH_STATIC" title="METH_STATIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">METH_STATIC</span></code></a> en la estructura <a class="reference internal" href="../c-api/structures.html#c.PyMethodDef" title="PyMethodDef"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyMethodDef</span></code></a> de un método.</p></li>
<li><p>Python ahora incluye una copia del código fuente del analizador XML de Expat, eliminando cualquier dependencia de una versión del sistema o instalación local de Expat.</p></li>
<li><p>Si asigna dinámicamente objetos de tipo en su extensión, debe tener en cuenta un cambio en las reglas relacionadas con los atributos <code class="xref py py-attr docutils literal notranslate"><span class="pre">__module__</span></code> y <a class="reference internal" href="../library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__name__</span></code></a>. En resumen, querrá asegurarse de que el diccionario del tipo contenga una clave <code class="docutils literal notranslate"><span class="pre">'__module__'</span></code>; hacer que el nombre del módulo sea la parte del nombre del tipo que conduce al período final ya no tendrá el efecto deseado. Para obtener más detalles, lea la documentación de referencia de la API o la fuente.</p></li>
</ul>
<section id="port-specific-changes">
<h3>Cambios específicos del puerto<a class="headerlink" href="#port-specific-changes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El soporte para un puerto para OS / 2 de IBM utilizando el entorno de ejecución EMX se fusionó en el árbol de fuentes principal de Python. EMX es una capa de emulación POSIX sobre las API del sistema OS / 2. El puerto de Python para EMX intenta admitir toda la capacidad similar a POSIX expuesta por el tiempo de ejecución de EMX y, en su mayoría, tiene éxito; <code class="xref py py-func docutils literal notranslate"><span class="pre">fork()</span></code> y <a class="reference internal" href="../library/fcntl.html#module-fcntl" title="fcntl: The fcntl() and ioctl() system calls. (Unix)"><code class="xref py py-func docutils literal notranslate"><span class="pre">fcntl()</span></code></a> están restringidos por las limitaciones de la capa de emulación subyacente. El puerto estándar OS / 2, que utiliza el compilador Visual Age de IBM, también obtuvo soporte para la semántica de importación que distingue entre mayúsculas y minúsculas como parte de la integración del puerto EMX en CVS. (Contribuido por Andrew MacIntyre.)</p>
<p>En MacOS, la mayoría de los módulos de la caja de herramientas tienen vínculos débiles para mejorar la compatibilidad con versiones anteriores. Esto significa que los módulos ya no dejarán de cargarse si falta una rutina en la versión actual del sistema operativo. En su lugar, llamar a la rutina que falta lanzará una excepción. (Contribuido por Jack Jansen.)</p>
<p>Los archivos de especificaciones de RPM, que se encuentran en el directorio <code class="file docutils literal notranslate"><span class="pre">Misc/RPM/</span></code> en la distribución fuente de Python, se actualizaron para la versión 2.3. (Contribución de Sean Reifschneider.)</p>
<p>Otras plataformas nuevas ahora compatibles con Python incluyen AtheOS (<a class="reference external" href="http://www.atheos.cx/">http://www.atheos.cx/</a>), GNU / Hurd y OpenVMS.</p>
</section>
</section>
<section id="other-changes-and-fixes">
<span id="section-other"></span><h2>Otros cambios y correcciones<a class="headerlink" href="#other-changes-and-fixes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Como de costumbre, hubo un montón de otras mejoras y correcciones de errores esparcidas por todo el árbol de fuentes. Una búsqueda en los registros de cambios de CVS encuentra que se aplicaron 523 parches y se corrigieron 514 errores entre Python 2.2 y 2.3. Es probable que ambas cifras estén subestimadas.</p>
<p>Algunos de los cambios más notables son:</p>
<ul>
<li><p>Si se establece la variable de entorno <span class="target" id="index-87"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONINSPECT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONINSPECT</span></code></a>, el intérprete de Python ingresará al indicador interactivo después de ejecutar un programa de Python, como si Python hubiera sido invocado con la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-i"><code class="xref std std-option docutils literal notranslate"><span class="pre">-i</span></code></a>. La variable de entorno se puede configurar antes de ejecutar el intérprete de Python, o el programa Python puede configurarla como parte de su ejecución.</p></li>
<li><p>El script <code class="file docutils literal notranslate"><span class="pre">regrtest.py</span></code> ahora proporciona una forma de permitir «todos los recursos excepto <em>foo</em>». Un nombre de recurso pasado a la opción <code class="xref std std-option docutils literal notranslate"><span class="pre">-u</span></code> ahora se puede prefijar con un guión (<code class="docutils literal notranslate"><span class="pre">'-'</span></code>) para significar «eliminar este recurso». Por ejemplo, la opción “<code class="docutils literal notranslate"><span class="pre">-uall,-bsddb</span></code>” podría usarse para habilitar el uso de todos los recursos excepto <code class="docutils literal notranslate"><span class="pre">bsddb</span></code>.</p></li>
<li><p>Las herramientas utilizadas para crear la documentación ahora funcionan tanto en Cygwin como en Unix.</p></li>
<li><p>Se ha eliminado el código de operación <code class="docutils literal notranslate"><span class="pre">SET_LINENO</span></code>. En la noche de los tiempos, este código de operación era necesario para producir números de línea en rastreos y admitir funciones de rastreo (para, por ejemplo, <a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a>). Desde Python 1.5, los números de línea en los rastreos se han calculado utilizando un mecanismo diferente que funciona con «python -O». Para Python 2.3, Michael Hudson implementó un esquema similar para determinar cuándo llamar a la función de seguimiento, eliminando por completo la necesidad de <code class="docutils literal notranslate"><span class="pre">SET_LINENO</span></code>.</p>
<p>Sería difícil detectar cualquier diferencia resultante del código Python, aparte de una ligera aceleración cuando Python se ejecuta sin <a class="reference internal" href="../using/cmdline.html#cmdoption-O"><code class="xref std std-option docutils literal notranslate"><span class="pre">-O</span></code></a>.</p>
<p>Las extensiones C que acceden al campo <code class="xref py py-attr docutils literal notranslate"><span class="pre">f_lineno</span></code> de objetos de marco deben llamar a <code class="docutils literal notranslate"><span class="pre">PyCode_Addr2Line(f-&gt;f_code,</span> <span class="pre">f-&gt;f_lasti)</span></code>. Esto tendrá el efecto adicional de hacer que el código funcione como se desea en «python -O» en versiones anteriores de Python.</p>
<p>Una característica nueva e ingeniosa es que las funciones de seguimiento ahora se pueden asignar al atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">f_lineno</span></code> de los objetos de marco, cambiando la línea que se ejecutará a continuación. Se ha agregado un comando <code class="docutils literal notranslate"><span class="pre">jump</span></code> al depurador <a class="reference internal" href="../library/pdb.html#module-pdb" title="pdb: The Python debugger for interactive interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a> aprovechando esta nueva característica. (Implementado por Richie Hindle.)</p>
</li>
</ul>
</section>
<section id="porting-to-python-2-3">
<h2>Portar a Python 2.3<a class="headerlink" href="#porting-to-python-2-3" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta sección enumera los cambios descritos anteriormente que pueden requerir cambios en su código:</p>
<ul>
<li><p><a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a> ahora es siempre una palabra clave; si se usa como nombre de variable en su código, se debe elegir un nombre diferente.</p></li>
<li><p>Para cadenas, <em>X</em> and <em>Y</em>, ASDF00 now works if <em>X</em> tiene más de un carácter.</p></li>
<li><p>El constructor de tipo <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a> ahora retornará un entero largo en lugar de lanzar un <a class="reference internal" href="../library/exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a> cuando una cadena o un número de punto flotante es demasiado grande para caber en un entero.  Esto puede llevar al resultado paradójico de que <code class="docutils literal notranslate"><span class="pre">isinstance(int(expresión),</span> <span class="pre">int)</span></code> sea falso, pero parece poco probable que cause problemas en la práctica.</p></li>
<li><p>Si tiene cadenas Unicode que contienen caracteres de 8 bits, debe declarar la codificación del archivo (UTF-8, Latin-1 o lo que sea) agregando un comentario en la parte superior del archivo. Consulte la sección <a class="reference internal" href="#section-encodings"><span class="std std-ref">PEP 263: Codificación del código fuente</span></a> para obtener más información.</p></li>
<li><p>Llamar a métodos Tcl a través del objeto <code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code> ya no retornan solo cadenas de caracteres.En vez, si Tcl retorna otros objetos esos objetos son convertidos a su equivalente en Python, si uno existe, o está envuelto con un <code class="xref py py-class docutils literal notranslate"><span class="pre">_tkinter.Tcl_Obj</span></code> si no existe un equivalente de Python.</p></li>
<li><p>Grandes literales octales y hexadecimales como <code class="docutils literal notranslate"><span class="pre">0xffffffff</span></code> ahora activan un <a class="reference internal" href="../library/exceptions.html#FutureWarning" title="FutureWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FutureWarning</span></code></a>. Actualmente se almacenan como números de 32 bits y dan como resultado un valor negativo, pero en Python 2.4 se convertirán en enteros largos positivos.</p>
<p>Hay varias formas de corregir esta advertencia. Si realmente necesita un número positivo, simplemente agregue un <code class="docutils literal notranslate"><span class="pre">L</span></code> al final del literal. Si está tratando de obtener un entero de 32 bits con bits bajos establecidos y ha usado previamente una expresión como <code class="docutils literal notranslate"><span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">31)</span></code>, probablemente sea más claro comenzar con todos los bits establecidos y borrar los bits superiores deseados. Por ejemplo, para borrar solo el bit superior (bit 31), puede escribir <code class="docutils literal notranslate"><span class="pre">0xffffffffL</span> <span class="pre">&amp;~(1L&lt;&lt;31)</span></code>.</p>
</li>
<li><p>Ya no puede deshabilitar las aserciones asignando a <code class="docutils literal notranslate"><span class="pre">__debug__</span></code>.</p></li>
<li><p>La función Distutils <code class="xref py py-func docutils literal notranslate"><span class="pre">setup()</span></code> ha ganado varios argumentos de palabras clave nuevas, como <em>depends</em>. Las versiones antiguas de Distutils se abortarán si se pasan palabras clave desconocidas. Una solución es verificar la presencia de la nueva función <code class="xref py py-func docutils literal notranslate"><span class="pre">get_distutil_options()</span></code> en su <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> y solo usa las nuevas palabras clave con una versión de Distutils que las admita:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">distutils</span> <span class="kn">import</span> <span class="n">core</span>

<span class="n">kw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="s1">&#39;foo.c&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="s1">&#39;get_distutil_options&#39;</span><span class="p">):</span>
    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;depends&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo.h&#39;</span><span class="p">]</span>
<span class="n">ext</span> <span class="o">=</span> <span class="n">Extension</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>El uso de <code class="docutils literal notranslate"><span class="pre">None</span></code> como nombre de una variable ahora resultará en una advertencia <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>.  En una futura versión de Python, <code class="docutils literal notranslate"><span class="pre">None</span></code> podría convertirse en una palabra clave.</p></li>
<li><p>Los nombres de los tipos de extensión definidos por los módulos incluidos con Python ahora contienen el módulo y un <code class="docutils literal notranslate"><span class="pre">'.'</span></code> delante del nombre del tipo.</p></li>
</ul>
</section>
<section id="acknowledgements">
<span id="acks"></span><h2>Agradecimientos<a class="headerlink" href="#acknowledgements" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El autor desea agradecer a las siguientes personas por ofrecer sugerencias, correcciones y ayuda con varios borradores de este artículo: Jeff Bauer, Simon Brunning, Brett Cannon, Michael Chermside, Andrew Dalke, Scott David Daniels, Fred L. Drake, Jr., David Fraser, Kelly Gerber, Raymond Hettinger, Michael Hudson, Chris Lambert, Detlef Lannert, Martin von Löwis, Andrew MacIntyre, Lalo Martins, Chad Netzer, Gustavo Niemeyer, Neal Norwitz, Hans Nowak, Chris Reedy, Francesco Ricciardi, Vinay Sajip, Neil Schemenauer, Roman Suzi, Jason Tishler, Just van Rossum.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 2.3</a><ul>
<li><a class="reference internal" href="#pep-218-a-standard-set-datatype">PEP 218: Un tipo de datos de conjunto estándar</a></li>
<li><a class="reference internal" href="#pep-255-simple-generators">PEP 255: Generadores simples</a></li>
<li><a class="reference internal" href="#pep-263-source-code-encodings">PEP 263: Codificación del código fuente</a></li>
<li><a class="reference internal" href="#pep-273-importing-modules-from-zip-archives">PEP 273: Importar módulos desde archivos ZIP</a></li>
<li><a class="reference internal" href="#pep-277-unicode-file-name-support-for-windows-nt">PEP 277: Soporte de nombres de archivo Unicode para Windows NT</a></li>
<li><a class="reference internal" href="#pep-278-universal-newline-support">PEP 278: Soporte universal de nuevas líneas</a></li>
<li><a class="reference internal" href="#pep-279-enumerate">PEP 279: enumerate()</a></li>
<li><a class="reference internal" href="#pep-282-the-logging-package">PEP 282: El paquete de registro</a></li>
<li><a class="reference internal" href="#pep-285-a-boolean-type">PEP 285: Un tipo booleano</a></li>
<li><a class="reference internal" href="#pep-293-codec-error-handling-callbacks">PEP 293: Llamadas de retorno para el manejo de errores del códec</a></li>
<li><a class="reference internal" href="#pep-301-package-index-and-metadata-for-distutils">PEP 301: Índice de paquetes y metadatos para Distutils</a></li>
<li><a class="reference internal" href="#pep-302-new-import-hooks">PEP 302: Nuevos ganchos de importación</a></li>
<li><a class="reference internal" href="#pep-305-comma-separated-files">PEP 305: Archivos separados por comas</a></li>
<li><a class="reference internal" href="#pep-307-pickle-enhancements">PEP 307: Mejoras en Pickle</a></li>
<li><a class="reference internal" href="#extended-slices">Rebanadas ampliadas</a></li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios en el lenguaje</a><ul>
<li><a class="reference internal" href="#string-changes">Cambios en las cadenas de texto</a></li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-improved-and-deprecated-modules">Módulos nuevos, mejorados y obsoletos</a><ul>
<li><a class="reference internal" href="#date-time-type">Tipo de fecha / hora</a></li>
<li><a class="reference internal" href="#the-optparse-module">El módulo optparse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pymalloc-a-specialized-object-allocator">Pymalloc: un asignador de objetos especializado</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la API de Build y C</a><ul>
<li><a class="reference internal" href="#port-specific-changes">Cambios específicos del puerto</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-changes-and-fixes">Otros cambios y correcciones</a></li>
<li><a class="reference internal" href="#porting-to-python-2-3">Portar a Python 2.3</a></li>
<li><a class="reference internal" href="#acknowledgements">Agradecimientos</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="2.4.html"
                        title="capítulo anterior">Novedades en Python 2.4</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="2.2.html"
                        title="próximo capítulo">Qué hay de nuevo en Python 2.2</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/whatsnew/2.3.rst"
            rel="nofollow">Ver Fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="2.2.html" title="Qué hay de nuevo en Python 2.2"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="2.4.html" title="Novedades en Python 2.4"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.10 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 2.3</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 27, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>

  </body>
</html>