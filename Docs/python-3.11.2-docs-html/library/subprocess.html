
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="subprocess — Gestión de subprocesos" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/subprocess.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Código fuente: Lib/subprocess.py El módulo subprocess permite lanzar nuevos procesos, conectarse a sus pipes de entrada/salida/error y obtener sus códigos de resultado. Este módulo está destinado a..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Código fuente: Lib/subprocess.py El módulo subprocess permite lanzar nuevos procesos, conectarse a sus pipes de entrada/salida/error y obtener sus códigos de resultado. Este módulo está destinado a..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>subprocess — Gestión de subprocesos &#8212; documentación de Python - 3.11.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?digest=2d3badd06fe70b34b68db01f99471ce1624ffe4a" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.11.2"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="sched — Eventos del planificador" href="sched.html" />
    <link rel="prev" title="concurrent.futures — Lanzamiento de tareas paralelas" href="concurrent.futures.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/subprocess.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Búsqueda rápida"/>
            <input type="submit" value="Ir"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code> — Gestión de subprocesos</a><ul>
<li><a class="reference internal" href="#using-the-subprocess-module">Uso del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="#frequently-used-arguments">Argumentos frecuentemente empleados</a></li>
<li><a class="reference internal" href="#popen-constructor">El constructor de Popen</a></li>
<li><a class="reference internal" href="#exceptions">Excepciones</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-considerations">Consideraciones sobre seguridad</a></li>
<li><a class="reference internal" href="#popen-objects">Objetos Popen</a></li>
<li><a class="reference internal" href="#windows-popen-helpers">Elementos auxiliares de Popen en Windows</a><ul>
<li><a class="reference internal" href="#windows-constants">Constantes de Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#older-high-level-api">Antigua API de alto nivel</a></li>
<li><a class="reference internal" href="#replacing-older-functions-with-the-subprocess-module">Cómo reemplazar anteriores funciones con el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="#replacing-bin-sh-shell-command-substitution">Cómo reemplazar la sustitución de órdenes de <strong class="program">/bin/sh</strong></a></li>
<li><a class="reference internal" href="#replacing-shell-pipeline">Cómo remplazar los flujos de la shell</a></li>
<li><a class="reference internal" href="#replacing-os-system">Cómo reemplazar <code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a></li>
<li><a class="reference internal" href="#replacing-the-os-spawn-family">Cómo reemplazar la familia <code class="xref py py-func docutils literal notranslate"><span class="pre">os.spawn</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-popen-os-popen2-os-popen3">Cómo reemplazar <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen2()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen3()</span></code></a></li>
<li><a class="reference internal" href="#replacing-functions-from-the-popen2-module">Cómo reemplazar las funciones del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">popen2</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#legacy-shell-invocation-functions">Funciones de llamada a la shell de retrocompatibilidad</a></li>
<li><a class="reference internal" href="#notes">Notas</a><ul>
<li><a class="reference internal" href="#converting-an-argument-sequence-to-a-string-on-windows">Cómo convertir una secuencia de argumentos a una cadena en Windows</a></li>
<li><a class="reference internal" href="#disabling-use-of-vfork-or-posix-spawn">Deshabilitar el uso de <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> o <code class="docutils literal notranslate"><span class="pre">posix_spawn()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="concurrent.futures.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">concurrent.futures</span></code> — Lanzamiento de tareas paralelas</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="sched.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sched</span></code> — Eventos del planificador</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/subprocess.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="sched.html" title="sched — Eventos del planificador"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="concurrent.futures.html" title="concurrent.futures — Lanzamiento de tareas paralelas"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="concurrency.html" accesskey="U">Ejecución concurrente</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code> — Gestión de subprocesos</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-subprocess">
<span id="subprocess-subprocess-management"></span><h1><a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> — Gestión de subprocesos<a class="headerlink" href="#module-subprocess" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Código fuente:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/subprocess.py">Lib/subprocess.py</a></p>
<hr class="docutils" />
<p>El módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> permite lanzar nuevos procesos, conectarse a sus pipes de entrada/salida/error y obtener sus códigos de resultado. Este módulo está destinado a reemplazar múltiples módulos y funciones previamente existentes:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">system</span>
<span class="n">os</span><span class="o">.</span><span class="n">spawn</span><span class="o">*</span>
</pre></div>
</div>
<p>Se puede obtener información sobre cómo utilizar el módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> para reemplazar estos módulos y funciones en las siguientes secciones.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<p><span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0324/"><strong>PEP 324</strong></a> – PEP de proposición del módulo <cite>subprocess</cite></p>
</div>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: not Emscripten, not WASI.</p>
<p>Este módulo no funciona o no está disponible en las plataformas WebAssembly <code class="docutils literal notranslate"><span class="pre">wasm32-emscripten</span></code> y <code class="docutils literal notranslate"><span class="pre">wasm32-wasi</span></code>. Consulte <a class="reference internal" href="intro.html#wasm-availability"><span class="std std-ref">Plataformas WebAssembly</span></a> para obtener más información.</p>
</div>
<section id="using-the-subprocess-module">
<h2>Uso del módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><a class="headerlink" href="#using-the-subprocess-module" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La opción recomendada para invocar subprocesos es utilizar la función <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> para todos los casos al alcance de ésta. Para usos más avanzados, se puede utilizar la interfaz de más bajo nivel <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="subprocess.run">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universal_newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_popen_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.run" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecuta la orden descrita por <em>args</em>. Espera a que termine y retorna una instancia de <a class="reference internal" href="#subprocess.CompletedProcess" title="subprocess.CompletedProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompletedProcess</span></code></a>.</p>
<p>Los argumentos mostrados en la definición superior son sólo los más comunes; que se describen posteriormente en <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Argumentos frecuentemente empleados</span></a> (de ahí el uso de la notación por clave en la signatura abreviada). La signatura completa de la función es a grandes rasgos la misma que la del constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>; la mayoría de los argumentos de esta función se pasan a esa interfaz (no es el caso de  <em>timeout</em>,  <em>input</em>, <em>check</em> ni <em>capture_output</em>).</p>
<p>Si <em>capture_output</em> es verdadero, se capturarán stdout y stderr. En tal caso, el objeto <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> interno se crea automáticamente con <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> y <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code>. No se pueden proporcionar los argumentos <em>stdout</em> y <em>stderr</em> a la vez que  <em>capture_output</em>. Si se desea capturar y combinar los dos flujos, se ha de usar <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> y <code class="docutils literal notranslate"><span class="pre">stderr=STDOUT</span></code> en lugar de  <em>capture_output</em>.</p>
<p>El argumento <em>timeout</em> se pasa a <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>. Si vence el plazo de ejecución, se matará el proceso hijo y se le esperará. Se relanzará la excepción <a class="reference internal" href="#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a> cuando finalice el proceso hijo.</p>
<p>Se pasará el argumento <em>input</em> a <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> y de ahí, a la entrada estándar del subproceso. Si se usa, debe ser una secuencia de bytes o una cadena de texto si se especifican <em>encoding</em> o <em>errors</em> o <em>text</em> en verdadero. Cuando se usa, el objeto <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> interno se crea automáticamente con <code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code> y no se puede usar el argumento <em>stdin</em> a la vez.</p>
<p>Si <em>check</em> es verdadero y el proceso retorna un resultado distinto de cero, se lanzará una excepción <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>. Los atributos de dicha excepción contendrán los argumentos, el código retornado y tanto stdout como stderr si se capturaron.</p>
<p>Si se especifican <em>encoding</em> o <em>errors</em> o <em>text</em> es verdadero, se abrirán los objetos fichero para stdin, stdout y stderr en modo texto, con los <em>encoding</em> y <em>errors</em> especificados o los valores predeterminados de <a class="reference internal" href="io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a>. El argumento <em>universal_newlines</em> equivale a <em>text</em> y se admite por compatibilidad hacia atrás. Los objetos fichero se abren en modo binario por defecto.</p>
<p>If <em>env</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it must be a mapping that defines the environment
variables for the new process; these are used instead of the default
behavior of inheriting the current process” environment. It is passed
directly to <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>. This mapping can be str to str on any platform
or bytes to bytes on POSIX platforms much like <a class="reference internal" href="os.html#os.environ" title="os.environ"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.environ</span></code></a> or
<a class="reference internal" href="os.html#os.environb" title="os.environb"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.environb</span></code></a>.</p>
<p>Ejemplos:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;-l&quot;</span><span class="p">])</span>  <span class="c1"># doesn&#39;t capture output</span>
<span class="go">CompletedProcess(args=[&#39;ls&#39;, &#39;-l&#39;], returncode=0)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;exit 1&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">subprocess.CalledProcessError</span>: <span class="n">Command &#39;exit 1&#39; returned non-zero exit status 1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;-l&quot;</span><span class="p">,</span> <span class="s2">&quot;/dev/null&quot;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">CompletedProcess(args=[&#39;ls&#39;, &#39;-l&#39;, &#39;/dev/null&#39;], returncode=0,</span>
<span class="go">stdout=b&#39;crw-rw-rw- 1 root root 1, 3 Jan 23 16:23 /dev/null\n&#39;, stderr=b&#39;&#39;)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>Se añadieron los parámetros <em>encoding</em> y <em>errors</em></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.7: </span>Se añadió el parámetro <em>text</em> como alias más comprensible de <em>universal_newlines</em>. Se añadió el parámetro <em>capture_output</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11.3: </span>Changed Windows shell search order for <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>. The current
directory and <code class="docutils literal notranslate"><span class="pre">%PATH%</span></code> are replaced with <code class="docutils literal notranslate"><span class="pre">%COMSPEC%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%SystemRoot%\System32\cmd.exe</span></code>. As a result, dropping a
malicious program named <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> into a current directory no
longer works.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="subprocess.CompletedProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CompletedProcess</span></span><a class="headerlink" href="#subprocess.CompletedProcess" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El valor retornado por <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>, que representa un proceso ya terminado.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CompletedProcess.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#subprocess.CompletedProcess.args" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Los argumentos utilizados para lanzar el proceso. Pueden ser una lista o una cadena.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CompletedProcess.returncode">
<span class="sig-name descname"><span class="pre">returncode</span></span><a class="headerlink" href="#subprocess.CompletedProcess.returncode" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Estado de salida del proceso hijo. Típicamente, un estado de salida 0 indica que la ejecución tuvo éxito.</p>
<p>Un valor negativo <code class="docutils literal notranslate"><span class="pre">-N</span></code> indica que el hijo fue forzado a terminar con la señal <code class="docutils literal notranslate"><span class="pre">N</span></code> (solamente POSIX).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CompletedProcess.stdout">
<span class="sig-name descname"><span class="pre">stdout</span></span><a class="headerlink" href="#subprocess.CompletedProcess.stdout" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>La salida estándar capturada del proceso hijo. Una secuencia de bytes, o una cadena si se llamó a <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> con <em>encoding</em>, <em>errors</em>, o <em>text</em> establecidos a <code class="docutils literal notranslate"><span class="pre">True</span></code>. <code class="docutils literal notranslate"><span class="pre">None</span></code> si no se capturó el error estándar.</p>
<p>Si se ejecutó el proceso con <code class="docutils literal notranslate"><span class="pre">stderr=subprocess.STDOUT</span></code>, stdout y stderr se combinarán en este atributo, y <a class="reference internal" href="#subprocess.CompletedProcess.stderr" title="subprocess.CompletedProcess.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a> será <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CompletedProcess.stderr">
<span class="sig-name descname"><span class="pre">stderr</span></span><a class="headerlink" href="#subprocess.CompletedProcess.stderr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El error estándar capturado del proceso hijo. Una secuencia de bytes, o una cadena si se llamó a <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> con <em>encoding</em>, <em>errors</em>, o <em>text</em> establecidos a <code class="docutils literal notranslate"><span class="pre">True</span></code>. <code class="docutils literal notranslate"><span class="pre">None</span></code> si no se capturó el error estándar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.CompletedProcess.check_returncode">
<span class="sig-name descname"><span class="pre">check_returncode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.CompletedProcess.check_returncode" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si <a class="reference internal" href="#subprocess.CompletedProcess.returncode" title="subprocess.CompletedProcess.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a> no es cero, lanza un <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.5.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.DEVNULL">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">DEVNULL</span></span><a class="headerlink" href="#subprocess.DEVNULL" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Valor especial que se puede usar como argumento <em>stdin</em>, <em>stdout</em> o <em>stderr</em> de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> y que indica que se usará el fichero especial <a class="reference internal" href="os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.3.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.PIPE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">PIPE</span></span><a class="headerlink" href="#subprocess.PIPE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Valor especial que se puede usar como argumento <em>stdin</em>, <em>stdout</em> o <em>stderr</em> de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> y que indica que se abrirá un pipe al flujo indicado. Es útil para usarlo con <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STDOUT">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STDOUT</span></span><a class="headerlink" href="#subprocess.STDOUT" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Valor especial que se puede usar de argumento <em>stderr</em> a <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> y que indica que el error estándar debería ir al mismo gestor que la salida estándar.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="subprocess.SubprocessError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">SubprocessError</span></span><a class="headerlink" href="#subprocess.SubprocessError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Clase base para el resto de excepciones de este módulo.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.3.</span></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">TimeoutExpired</span></span><a class="headerlink" href="#subprocess.TimeoutExpired" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Subclase de <a class="reference internal" href="#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>, se lanza cuando expira un plazo de ejecución esperando a un proceso hijo.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><a class="headerlink" href="#subprocess.TimeoutExpired.cmd" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Orden que se utilizó para lanzar el proceso hijo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired.timeout">
<span class="sig-name descname"><span class="pre">timeout</span></span><a class="headerlink" href="#subprocess.TimeoutExpired.timeout" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Plazo de ejecución en segundos.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired.output">
<span class="sig-name descname"><span class="pre">output</span></span><a class="headerlink" href="#subprocess.TimeoutExpired.output" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Salida del proceso hijo si fue capturado por <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> o <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a>. De lo contrario, <code class="docutils literal notranslate"><span class="pre">None</span></code>. Siempre es <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> cuando se capturó cualquier salida, independientemente de la configuración de <code class="docutils literal notranslate"><span class="pre">text=True</span></code>. Puede permanecer <code class="docutils literal notranslate"><span class="pre">None</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">b''</span></code> cuando no se observó ningún resultado.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired.stdout">
<span class="sig-name descname"><span class="pre">stdout</span></span><a class="headerlink" href="#subprocess.TimeoutExpired.stdout" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Alias de <em>output</em>, por simetría con <a class="reference internal" href="#subprocess.TimeoutExpired.stderr" title="subprocess.TimeoutExpired.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.TimeoutExpired.stderr">
<span class="sig-name descname"><span class="pre">stderr</span></span><a class="headerlink" href="#subprocess.TimeoutExpired.stderr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Salida Stderr del proceso hijo si fue capturado por <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>. De lo contrario, <code class="docutils literal notranslate"><span class="pre">None</span></code>. Siempre es <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> cuando se capturó la salida de stderr independientemente de la configuración de <code class="docutils literal notranslate"><span class="pre">text=True</span></code>. Puede permanecer como <code class="docutils literal notranslate"><span class="pre">None</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">b''</span></code> cuando no se observó ninguna salida de stderr.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se añadieron los atributos <em>stdout</em> y <em>stderr</em></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="subprocess.CalledProcessError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CalledProcessError</span></span><a class="headerlink" href="#subprocess.CalledProcessError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Subclase de <a class="reference internal" href="#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>, lanzada cuando un proceso ejecutado por <a class="reference internal" href="#subprocess.check_call" title="subprocess.check_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_call()</span></code></a>, <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> o <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> (con <code class="docutils literal notranslate"><span class="pre">check=True</span></code>) devuelve un estado de salida distinto de cero.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CalledProcessError.returncode">
<span class="sig-name descname"><span class="pre">returncode</span></span><a class="headerlink" href="#subprocess.CalledProcessError.returncode" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Estado de salida del proceso hijo. Si el proceso terminó por causa de una señal, el estado será el número de la señal en negativo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CalledProcessError.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><a class="headerlink" href="#subprocess.CalledProcessError.cmd" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Orden que se utilizó para lanzar el proceso hijo.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CalledProcessError.output">
<span class="sig-name descname"><span class="pre">output</span></span><a class="headerlink" href="#subprocess.CalledProcessError.output" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Salida del proceso hijo si fue capturada por <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> o <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a>.  De otro modo, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CalledProcessError.stdout">
<span class="sig-name descname"><span class="pre">stdout</span></span><a class="headerlink" href="#subprocess.CalledProcessError.stdout" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Alias de <em>output</em>, por simetría con <a class="reference internal" href="#subprocess.CalledProcessError.stderr" title="subprocess.CalledProcessError.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.CalledProcessError.stderr">
<span class="sig-name descname"><span class="pre">stderr</span></span><a class="headerlink" href="#subprocess.CalledProcessError.stderr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Salida de <em>stderr</em> del proceso hijo si fue capturada por <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>. De otro modo, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se añadieron los atributos <em>stdout</em> y <em>stderr</em></p>
</div>
</dd></dl>

<section id="frequently-used-arguments">
<span id="id1"></span><h3>Argumentos frecuentemente empleados<a class="headerlink" href="#frequently-used-arguments" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para permitir una gran variedad de usos, el constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> (y las funciones asociadas) aceptan un gran número de argumentos opcionales. Para los usos más habituales, se pueden dejar de forma segura los valores por defecto. Los argumentos más frecuentemente necesarios son:</p>
<blockquote>
<div><p><em>args</em> se requiere en todas las llamadas; debe ser una cadena o una secuencia de argumentos al programa. En general, es mejor proporcionar una secuencia de argumentos porque permite que el módulo se ocupe de las secuencias de escape y los entrecomillados de los argumentos (por ejemplo, para permitir espacios en los nombres de fichero). Si se pasa una cadena simple, se ha de especificar <em>shell</em> como <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> (ver más adelante) o la cadena debe ser el nombre del programa a ejecutar sin especificar ningún argumento.</p>
<p><em>stdin</em>, <em>stdout</em> y <em>stderr</em> especifican la entrada estándar, la salida estándar y los identificadores de archivo de error estándar del programa ejecutado, respectivamente. Los valores válidos son <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>, un descriptor de archivo existente (un entero positivo), un objeto de archivo existente con un descriptor de archivo válido y <code class="docutils literal notranslate"><span class="pre">None</span></code>. <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a> indica que se debe crear una nueva tubería para el hijo. <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a> indica que se utilizará el archivo especial <a class="reference internal" href="os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a>. Con la configuración predeterminada de <code class="docutils literal notranslate"><span class="pre">None</span></code>, no se producirá ninguna redirección; los identificadores de archivo del hijo se heredarán del padre. Además, <em>stderr</em> puede ser <a class="reference internal" href="#subprocess.STDOUT" title="subprocess.STDOUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">STDOUT</span></code></a>, lo que indica que los datos estándar del proceso secundario deben capturarse en el mismo identificador de archivo que para <em>stdout</em>.</p>
<p id="index-1">Si se especifican <em>encoding</em> o <em>errors</em>, o <em>text</em> (o su alias <em>universal_newlines</em>) es verdadero, se abrirán en modo texto los objetos fichero <em>stdin</em>, <em>stdout</em> y <em>stderr</em> usando los <em>encoding</em> y <em>errors</em> especificados en la llamada o los valores predeterminados de <a class="reference internal" href="io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a>.</p>
<p>Para <em>stdin</em>, los saltos del línea <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> de la entrada serán convertidos al separador de línea predeterminado <a class="reference internal" href="os.html#os.linesep" title="os.linesep"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.linesep</span></code></a>. Para <em>stdout</em> y <em>stderr</em>, todos los saltos de línea de la salida serán convertidos a <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>. Hay más información en la documentación de la clase <a class="reference internal" href="io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> para el caso en que el argumento  <em>newline</em> de su constructor es <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Si no se usa el modo texto, <em>stdin</em>, <em>stdout</em> y <em>stderr</em> se abrirán como flujos binarios. No se realizará ninguna codificación ni conversión de salto de línea.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.6: </span>Se añadieron los parámetros <em>encoding</em> y <em>errors</em>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7: </span>Se añadió el parámetro <em>text</em> como alias de <em>universal_newlines</em>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El atributo <cite>newlines</cite> de los objetos fichero <a class="reference internal" href="#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stdin</span></code></a>, <a class="reference internal" href="#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stdout</span></code></a> y <a class="reference internal" href="#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stderr</span></code></a> no es actualizado por el método  <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>.</p>
</div>
<p>Si <em>shell</em> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, la orden especificada se ejecutará pasando por la shell. Esto tiene utilidad si se usa Python principalmente por el flujo de control mejorado sobre la mayoría de las shell de sistema, pero se desea también un acceso práctico a otras características de la shell, como pipes, nombres de fichero con comodines, expansión de variables de entorno o expansión de <code class="docutils literal notranslate"><span class="pre">~</span></code> al directorio <em>home</em> del usuario. Sin embargo, no se debe olvidar que el propio Python tiene implementaciones de muchas características tipo shell (en particular, <a class="reference internal" href="glob.html#module-glob" title="glob: Unix shell style pathname pattern expansion."><code class="xref py py-mod docutils literal notranslate"><span class="pre">glob</span></code></a>, <a class="reference internal" href="fnmatch.html#module-fnmatch" title="fnmatch: Unix shell style filename pattern matching."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fnmatch</span></code></a>, <a class="reference internal" href="os.html#os.walk" title="os.walk"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.walk()</span></code></a>, <a class="reference internal" href="os.path.html#os.path.expandvars" title="os.path.expandvars"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expandvars()</span></code></a>, <a class="reference internal" href="os.path.html#os.path.expanduser" title="os.path.expanduser"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expanduser()</span></code></a>, y <a class="reference internal" href="shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a>).</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Cuando <em>universal_newlines</em> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, la clase usa la codificación <a class="reference internal" href="locale.html#locale.getpreferredencoding" title="locale.getpreferredencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getpreferredencoding(False)</span></code></a> en lugar de <code class="docutils literal notranslate"><span class="pre">locale.getpreferredencoding()</span></code>.  Ver la clase <a class="reference internal" href="io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> para obtener más información sobre este cambio.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Leer la sección <a class="reference internal" href="#security-considerations">Consideraciones sobre la seguridad</a> antes de usar <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</div>
</div></blockquote>
<p>Estas opciones y el resto se describen con más detalle en la documentación del constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>.</p>
</section>
<section id="popen-constructor">
<h3>El constructor de Popen<a class="headerlink" href="#popen-constructor" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El proceso interno de creación y gestión de este módulo lo gestiona la clase <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>. Proporciona una gran flexibilidad para que los desarrolladores sean capaces de gestionar los casos menos comunes que quedan sin cubrir por las funciones auxiliares.</p>
<dl class="py class">
<dt class="sig sig-object py" id="subprocess.Popen">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">Popen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bufsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preexec_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_fds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universal_newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startupinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creationflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restore_signals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_new_session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_fds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">umask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipesize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecuta un programa hijo en un proceso nuevo. En POSIX, la clase usa  <a class="reference internal" href="os.html#os.execvp" title="os.execvp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">os.execvp()</span></code></a> como comportamiento para lanzar el proceso hijo. En Windows, la clase usa la función <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code> de Windows. Los argumentos de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> son los siguientes.</p>
<p><em>args</em> debe ser o una secuencia de argumentos de programa o una cadena simple o un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a>. Por omisión, el programa a ejecutar es el primer elemento de <em>args</em> si <em>args</em> es una secuencia.  Si <em>args</em> es una cadena, la interpretación es dependiente de la plataforma, según se describe más abajo. Véase los argumentos <em>shell</em> y <em>executable</em> para más información sobre el comportamiento por defecto. Salvo que se indique, se recomienda pasar los <em>args</em> como una secuencia.</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Para obtener la máxima confiabilidad, use una ruta completa para el ejecutable. Para buscar un nombre no calificado en <span class="target" id="index-10"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>, use <a class="reference internal" href="shutil.html#shutil.which" title="shutil.which"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shutil.which()</span></code></a>. En todas las plataformas, pasar <a class="reference internal" href="sys.html#sys.executable" title="sys.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.executable</span></code></a> es la forma recomendada de iniciar de nuevo el intérprete de Python actual y usar el formato de línea de comandos <code class="docutils literal notranslate"><span class="pre">-m</span></code> para iniciar un módulo instalado.</p>
<p>La resolución de la ruta de <em>executable</em> (o el primer elemento de <em>args</em>) depende de la plataforma. Para POSIX, consulte <a class="reference internal" href="os.html#os.execvpe" title="os.execvpe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">os.execvpe()</span></code></a>, y tenga en cuenta que al resolver o buscar la ruta ejecutable, <em>cwd</em> anula el directorio de trabajo actual y <em>env</em> puede anular la variable de entorno <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. Para Windows, consulte la documentación de los parámetros <code class="docutils literal notranslate"><span class="pre">lpApplicationName</span></code> e <code class="docutils literal notranslate"><span class="pre">lpCommandLine</span></code> de WinAPI <code class="docutils literal notranslate"><span class="pre">CreateProcess</span></code>, y tenga en cuenta que al resolver o buscar la ruta ejecutable con <code class="docutils literal notranslate"><span class="pre">shell</span> <span class="pre">=</span> <span class="pre">False</span></code>, <em>cwd</em> no anula el directorio de trabajo actual y <em>env</em> no puede anular la variable de entorno <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. El uso de una ruta completa evita todas estas variaciones.</p>
</div>
<p>Un ejemplo del paso de argumentos a un programa externo mediante una secuencia:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;/usr/bin/git&quot;</span><span class="p">,</span> <span class="s2">&quot;commit&quot;</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;Fixes a bug.&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>En POSIX, si <em>args</em> es una cadena se interpreta como el nombre o la ruta del programa que ejecutar. Sin embargo, esto solamente funciona si no hay que pasar argumentos al programa.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Puede que no resulte evidente cómo descomponer una orden de la shell en una secuencia de argumentos, especialmente en casos complejos. <a class="reference internal" href="shlex.html#shlex.split" title="shlex.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shlex.split()</span></code></a> puede aclarar cómo determinar la descomposición en tokens de <em>args</em>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shlex</span><span class="o">,</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command_line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="go">/bin/vikings -input eggs.txt -output &quot;spam spam.txt&quot; -cmd &quot;echo &#39;$MONEY&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">command_line</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="go">[&#39;/bin/vikings&#39;, &#39;-input&#39;, &#39;eggs.txt&#39;, &#39;-output&#39;, &#39;spam spam.txt&#39;, &#39;-cmd&#39;, &quot;echo &#39;$MONEY&#39;&quot;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="c1"># Success!</span>
</pre></div>
</div>
<p>Hay que destacar en particular que las opciones (como <em>-input</em>) y los argumentos (como <em>eggs.txt</em>) que van separados por espacio en blanco en la shell van en elementos de lista separados, mientras los argumentos que necesitan entrecomillado o escapado de espacios cuando se usan en la shell (como los nombres de ficheros con espacios o la orden <em>echo</em> anteriormente mostrada) son elementos simples de la lista.</p>
</div>
<p>En Windows, si <em>args</em> es una secuencia, se convertirá a cadena del modo descrito en <a class="reference internal" href="#converting-argument-sequence"><span class="std std-ref">Cómo convertir una secuencia de argumentos a una cadena en Windows</span></a>. Esto es así porque la función de bajo nivel <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code> funciona sobre cadenas.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El parámetro <em>args</em> toma un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> si <em>shell</em> es <code class="docutils literal notranslate"><span class="pre">False</span></code> y una secuencia de objetos tipo fichero en POSIX.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>El parámetro <em>args</em> toma un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> si <em>shell</em> es <code class="docutils literal notranslate"><span class="pre">False</span></code> y una secuencia de bytes y objetos tipo fichero en Windows.</p>
</div>
<p>El argumento <em>shell</em> (<code class="docutils literal notranslate"><span class="pre">False</span></code> por defecto) especifica si usar la shell como programa a ejecutar. Si <em>shell</em> es <code class="docutils literal notranslate"><span class="pre">True</span></code>, se recomienda pasar <em>args</em> como cadena mejor que como secuencia.</p>
<p>En POSIX con <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, la shell predeterminada es <code class="file docutils literal notranslate"><span class="pre">/bin/sh</span></code>.  Si <em>args</em> es una cadena, ésta especifica la orden a ejecutar por la shell. Esto significa que la cadena tiene que tener el formato que tendría si se tecleara en la línea de órdenes. Esto incluye, por ejemplo, el entrecomillado y las secuencias de escape necesarias para los nombres de fichero que contengan espacios. Si <em>args</em> es una secuencia, el primer elemento especifica la cadena de la orden y cualquier otro elemento será tratado como argumentos adicionales a la propia shell. De este modo, <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> hace el equivalente de:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Popen</span><span class="p">([</span><span class="s1">&#39;/bin/sh&#39;</span><span class="p">,</span> <span class="s1">&#39;-c&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
<p>En Windows con <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, la variable de entorno <span class="target" id="index-11"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">COMSPEC</span></code> especifica la shell predeterminada. Solamente hace falta especificar <code class="docutils literal notranslate"><span class="pre">shell=True</span></code> en Windows cuando la orden que se desea ejecutar es interna a la shell (como. <strong class="command">dir</strong> o <strong class="command">copy</strong>).  No hace falta especificar <code class="docutils literal notranslate"><span class="pre">shell=True</span></code> para ejecutar un fichero por lotes o un ejecutable de consola.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Leer la sección <a class="reference internal" href="#security-considerations">Consideraciones sobre la seguridad</a> antes de usar <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</div>
<p>Se proporcionará <em>bufsize</em> como el argumento correspondiente a la función <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> cuando se creen los objetos fichero de los flujos stdin/stdout/stderr:</p>
<ul class="simple">
<li><p><code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code> significa sin búfer (<em>read</em> y <em>write</em> son una llamada al sistema y pueden retornar datos parciales)</p></li>
<li><p><code class="xref py py-const docutils literal notranslate"><span class="pre">1</span></code> means line buffered
(only usable if <code class="docutils literal notranslate"><span class="pre">text=True</span></code> or <code class="docutils literal notranslate"><span class="pre">universal_newlines=True</span></code>)</p></li>
<li><p>cualquier otro valor positivo indica que hay que usar un búfer de aproximadamente dicho tamaño</p></li>
<li><p><em>bufsize</em> negativo (el valor por defecto) indica que se use el valor predeterminado del sistema, <cite>io.DEFAULT_BUFFER_SIZE</cite>.</p></li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3.1: </span><em>bufsize</em> es ahora -1 por defecto para permitir que el buffering por defecto se comporte  como o que la mayoría del código espera. En versiones anteriores a Python 3.2.4 o 3.3.1 tomaba un valor por defecto de <code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code>, sin búfer, lo que permitía lecturas demasiado cortas. Esto no era intencionado y no se correspondía con el comportamiento de Python 2 como la mayoría de códigos esperan.</p>
</div>
<p>El argumento <em>executable</em> especifica un programa de reemplazo que ejecutar. Esto es muy poco frecuente. Cuando <code class="docutils literal notranslate"><span class="pre">shell=False</span></code>, <em>executable</em> reemplaza al programa especificado por <em>args</em>. Sin embargo, se pasan los <em>args</em> originales al programa. La mayoría de los programas tratan el programa especificado en los <em>args</em> como el nombre del programa, que puede ser diferente del programa realmente ejecutado. En POSIX, el nombre en <em>args</em> funciona como nombre visible en utilidades como  <strong class="program">ps</strong>.  Si <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, en POSIX el argumento <em>executable</em> especifica una shell de reemplazo de la predeterminada <code class="file docutils literal notranslate"><span class="pre">/bin/sh</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El parámetro <em>executable</em> acepta un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> en POSIX.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>El parámetro <em>executable</em> acepta bytes y un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> en POSIX.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11.3: </span>Changed Windows shell search order for <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>. The current
directory and <code class="docutils literal notranslate"><span class="pre">%PATH%</span></code> are replaced with <code class="docutils literal notranslate"><span class="pre">%COMSPEC%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%SystemRoot%\System32\cmd.exe</span></code>. As a result, dropping a
malicious program named <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> into a current directory no
longer works.</p>
</div>
<p><em>stdin</em>, <em>stdout</em> y <em>stderr</em> especifican la entrada estándar, la salida estándar y los identificadores de archivo de error estándar del programa ejecutado, respectivamente. Los valores válidos son <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>, un descriptor de archivo existente (un entero positivo), un <a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">file object</span></a> existente con un descriptor de archivo válido y <code class="docutils literal notranslate"><span class="pre">None</span></code>. <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a> indica que se debe crear una nueva tubería para el hijo. <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a> indica que se utilizará el archivo especial <a class="reference internal" href="os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a>. Con la configuración predeterminada de <code class="docutils literal notranslate"><span class="pre">None</span></code>, no se producirá ninguna redirección; los identificadores de archivo del hijo se heredarán del padre. Además, <em>stderr</em> puede ser <a class="reference internal" href="#subprocess.STDOUT" title="subprocess.STDOUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">STDOUT</span></code></a>, lo que indica que los datos stderr de las aplicaciones deben capturarse en el mismo identificador de archivo que para stdout.</p>
<p>Si se establece <em>preexec_fn</em> a un objeto invocable, se llamará a dicho objeto en el proceso hijo justo antes de que se ejecute el hijo. (solamente POSIX)</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>El parámetro <em>preexec_fn</em> NO ES SEGURO para usar en presencia de hilos en su aplicación. El subproceso podría bloquearse antes de que se llame a exec.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si necesita modificar el entorno para el subproceso, use el parámetro <em>env</em> en lugar de hacerlo en un <em>preexec_fn</em>. Los parámetros <em>start_new_session</em> y <em>process_group</em> deben ocupar el lugar del código que usa <em>preexec_fn</em> para llamar a <a class="reference internal" href="os.html#os.setsid" title="os.setsid"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.setsid()</span></code></a> o <a class="reference internal" href="os.html#os.setpgid" title="os.setpgid"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.setpgid()</span></code></a> en el subproceso</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>Se ha abandonado el soporte de <em>preexec_fn</em> en subintérpretes. El uso de dicho parámetro en un subintérprete lanza <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>. La nueva restricción puede afectar a aplicaciones desplegadas en <em>mod_wsgi</em>, <em>uWSGI</em> y otros entornos incrustados.</p>
</div>
<p>Si <em>close_fds</em> es verdadero, todos los descriptores de fichero salvo <code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code>, <code class="xref py py-const docutils literal notranslate"><span class="pre">1</span></code> y <code class="xref py py-const docutils literal notranslate"><span class="pre">2</span></code> serán cerrados antes de ejecutar el proceso hijo. Por el contrario, cuando <em>close_fds</em> es falso, los descriptores de fichero obedecen su indicador de heredable según <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">Herencia de los descriptores de archivos</span></a>.</p>
<p>En Windows, si <em>close_fds</em> es verdadero el proceso hijo no heredará ningún gestor de fichero salvo que se le pasen explícitamente en el elemento <code class="docutils literal notranslate"><span class="pre">handle_list</span></code> de <a class="reference internal" href="#subprocess.STARTUPINFO.lpAttributeList" title="subprocess.STARTUPINFO.lpAttributeList"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.lpAttributeList</span></code></a>, o mediante redirección estándar.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>El valor predeterminado de <em>close_fds</em> se cambió de <a class="reference internal" href="constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> a lo antes descrito.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.7: </span>En Windows, el valor predeterminado de <em>close_fds</em> se cambió de <a class="reference internal" href="constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> a <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> al redirigir los gestores estándar. Ahora es posible establecer <em>close_fds</em> a <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> cuando se redirigen los gestores estándar.</p>
</div>
<p><em>pass_fds</em> es una secuencia de descriptor de ficheros opcional que han de mantenerse abiertos entre el proceso padre e hijo. Si se proporciona un valor a <em>pass_fds</em> se fuerza <em>close_fds</em> a <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a>.  (solamente POSIX)</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>Se añadió el parámetro <em>pass_fds</em>.</p>
</div>
<p>Si <em>cwd</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, la función cambia el directorio de trabajo a <em>cwd</em> antes de ejecutar el proceso hijo.  <em>cwd</em> puede ser una cadena, o un objeto bytes o <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">tipo ruta</span></a>. En POSIX, la función busca <em>executable</em> (o el primer elemento de <em>args</em>) relativo a <em>cwd</em> si la ruta del ejecutable es relativa.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El parámetro <em>cwd</em> acepta un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> en POSIX.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.7: </span>El parámetro <em>cwd</em> acepta un <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">objeto tipo ruta</span></a> en Windows.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>El parámetro <em>cwd</em> acepta un objeto bytes en Windows.</p>
</div>
<p>Si <em>restore_signals</em> es verdadero (el valor por defecto) todas las señales que Python ha establecido a  SIG_IGN se restauran a SIG_DFL en el proceso hijo antes del <em>exec</em>. En la actualidad, esto incluye las señales SIGPIPE, SIGXFZ y SIGXFSZ (solamente POSIX).</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>Se añadió <em>restore_signals</em>.</p>
</div>
<p>Si <em>start_new_session</em> es verdadero, la llamada al sistema <code class="docutils literal notranslate"><span class="pre">setsid()</span></code> se realizará en el proceso secundario antes de la ejecución del subproceso.</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>Se añadió <em>start_new_session</em>.</p>
</div>
<p>Si <em>process_group</em> es un entero no negativo, la llamada al sistema <code class="docutils literal notranslate"><span class="pre">setpgid(0,</span> <span class="pre">value)</span></code> se realizará en el proceso secundario antes de la ejecución del subproceso.</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11: </span>Se agregó <em>process_group</em>.</p>
</div>
<p>Si <em>group</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, la llamada a sistema setregid() se hará en el proceso hijo antes de la ejecución del subproceso. Si el valor proveído es una cadena de caracteres, será buscado usando <a class="reference internal" href="grp.html#grp.getgrnam" title="grp.getgrnam"><code class="xref py py-func docutils literal notranslate"><span class="pre">grp.getgrnam()</span></code></a> y el valor en <code class="docutils literal notranslate"><span class="pre">gr_gid</span></code> será usado. Si el valor es un entero, será pasado literalmente. (solamente POSIX)</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.9.</span></p>
</div>
<p>Si <em>extra_groups</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, la llamada a sistema setgroups() se hará en el proceso hijo antes de la ejecución del subproceso. Cadenas de caracteres proveídas en <em>extra_groups</em> serán buscadas usando <a class="reference internal" href="grp.html#grp.getgrnam" title="grp.getgrnam"><code class="xref py py-func docutils literal notranslate"><span class="pre">grp.getgrnam()</span></code></a> y los valores en <code class="docutils literal notranslate"><span class="pre">gr_gid</span></code> serán usados. Valor enteros serán pasados literalmente. (solamente POSIX)</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.9.</span></p>
</div>
<p>Si <em>user</em> no es <code class="docutils literal notranslate"><span class="pre">None</span></code>, la llamada a sistema setreuid() se hará en el proceso hijo antes de la ejecución del subproceso. Si el valor proveído es una cadena de caracteres, será buscado usando <a class="reference internal" href="pwd.html#pwd.getpwnam" title="pwd.getpwnam"><code class="xref py py-func docutils literal notranslate"><span class="pre">pwd.getpwnam()</span></code></a> y el valor en <code class="docutils literal notranslate"><span class="pre">pw_uid</span></code> será usado. Si el valor es un entero, será pasado literalmente. (solamente POSIX)</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.9.</span></p>
</div>
<p>Si <em>umask</em> no es negativo, la llamada a sistema umask() se hará en el proceso hijo antes de la ejecución del subproceso.</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Disponibilidad</span></a>: POSIX</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.9.</span></p>
</div>
<p>If <em>env</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it must be a mapping that defines the environment
variables for the new process; these are used instead of the default
behavior of inheriting the current process” environment. This mapping can be
str to str on any platform or bytes to bytes on POSIX platforms much like
<a class="reference internal" href="os.html#os.environ" title="os.environ"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.environ</span></code></a> or <a class="reference internal" href="os.html#os.environb" title="os.environb"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.environb</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si se especifica, <em>env</em> debe proporcionar las variables necesarias para que el programa se ejecute. En Windows, para ejecutar una <a class="reference external" href="https://en.wikipedia.org/wiki/Side-by-Side_Assembly">side-by-side assembly</a> el <em>env</em> especificado <strong>debe</strong> incluir un <span class="target" id="index-12"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SystemRoot</span></code> válido.</p>
</div>
<p>Si se especifican <em>encoding</em> o <em>errors</em>, o <em>text</em> es verdadero, los objetos de archivo <em>stdin</em>, <em>stdout</em> y <em>stderr</em> se abren en modo de texto con los <em>encoding</em> y <em>errors</em> especificados, como se describe anteriormente en <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Argumentos frecuentemente empleados</span></a>. El argumento <em>universal_newlines</em> es equivalente a <em>text</em> y se proporciona para compatibilidad con versiones anteriores. De forma predeterminada, los objetos de archivo se abren en modo binario.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.6: </span>Se añadieron <em>encoding</em> y <em>errors</em>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7: </span>Se añadió <em>text</em> como alias más legible de <em>universal_newlines</em>.</p>
</div>
<p>Si se proporciona, <em>startupinfo</em> será un objeto <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a>, que se pasa a la función de más bajo nivel <code class="docutils literal notranslate"><span class="pre">CreateProcess</span></code>. <em>creationflags</em>, si está presente, puede ser uno o más de los siguientes indicadores:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_CONSOLE</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.CREATE_NEW_PROCESS_GROUP" title="subprocess.CREATE_NEW_PROCESS_GROUP"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_PROCESS_GROUP</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.ABOVE_NORMAL_PRIORITY_CLASS" title="subprocess.ABOVE_NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ABOVE_NORMAL_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.BELOW_NORMAL_PRIORITY_CLASS" title="subprocess.BELOW_NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">BELOW_NORMAL_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.HIGH_PRIORITY_CLASS" title="subprocess.HIGH_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">HIGH_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.IDLE_PRIORITY_CLASS" title="subprocess.IDLE_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">IDLE_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.NORMAL_PRIORITY_CLASS" title="subprocess.NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">NORMAL_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.REALTIME_PRIORITY_CLASS" title="subprocess.REALTIME_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">REALTIME_PRIORITY_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.CREATE_NO_WINDOW" title="subprocess.CREATE_NO_WINDOW"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NO_WINDOW</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.DETACHED_PROCESS" title="subprocess.DETACHED_PROCESS"><code class="xref py py-data docutils literal notranslate"><span class="pre">DETACHED_PROCESS</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.CREATE_DEFAULT_ERROR_MODE" title="subprocess.CREATE_DEFAULT_ERROR_MODE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_DEFAULT_ERROR_MODE</span></code></a></p></li>
<li><p><a class="reference internal" href="#subprocess.CREATE_BREAKAWAY_FROM_JOB" title="subprocess.CREATE_BREAKAWAY_FROM_JOB"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_BREAKAWAY_FROM_JOB</span></code></a></p></li>
</ul>
</div></blockquote>
<p><em>pipeize</em> se puede usar para cambiar el tamaño de la tubería cuando <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a> se usa para <em>stdin</em>, <em>stdout</em> o <em>stderr</em>. El tamaño de la tubería solo se cambia en plataformas que lo admiten (solo Linux en este momento de redacción). Otras plataformas ignorarán este parámetro.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.10: </span>Se añadió el parámetro <code class="docutils literal notranslate"><span class="pre">pipesize</span></code>.</p>
</div>
<p>Se puede usar los objetos Popen como gestores de contexto mediante sentencia <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>: a la salida, los descriptores de flujo se cierran y se espera a que acabe el proceso.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;ifconfig&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span> <span class="k">as</span> <span class="n">proc</span><span class="p">:</span>
    <span class="n">log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">proc</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p class="audit-hook">Lanza un  <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">evento de auditoría</span></a> <code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code> con argumentos <code class="docutils literal notranslate"><span class="pre">executable</span></code>, <code class="docutils literal notranslate"><span class="pre">args</span></code>, <code class="docutils literal notranslate"><span class="pre">cwd</span></code>, <code class="docutils literal notranslate"><span class="pre">env</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span>Se añadió la funcionalidad de gestor de contexto.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>El destructor de Popen ahora emite una advertencia <a class="reference internal" href="exceptions.html#ResourceWarning" title="ResourceWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ResourceWarning</span></code></a> si el proceso hijo todavía se está ejecutando.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>Popen puede usar <a class="reference internal" href="os.html#os.posix_spawn" title="os.posix_spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.posix_spawn()</span></code></a> en algunos casos para obtener mejor rendimiento. En el Subsistema de Windows para Linux (WSL) y en la emulación del modo usuario de QEMU, el constructor de Popen que use <a class="reference internal" href="os.html#os.posix_spawn" title="os.posix_spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.posix_spawn()</span></code></a> ya no lanzará una excepción cuando se den errores tales como que un programa no esté, sino que el proceso hijo fracasará con un <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a> distinto de cero.</p>
</div>
</dd></dl>

</section>
<section id="exceptions">
<h3>Excepciones<a class="headerlink" href="#exceptions" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las excepciones lanzadas en el proceso hijo, antes de que el nuevo programa haya empezado a ejecutarse, se relanzarán en el padre.</p>
<p>La excepción más común que se lanza es <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>. Esto ocurre, por ejemplo, al intentar ejecutar un archivo inexistente. Las aplicaciones deben prepararse para excepciones <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>. Tenga en cuenta que, cuando <code class="docutils literal notranslate"><span class="pre">shell</span> <span class="pre">=</span> <span class="pre">True</span></code>, <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> será lanzado por el hijo solo si no se encontró el shell seleccionado. Para determinar si el shell no pudo encontrar la aplicación solicitada, es necesario verificar el código de retorno o la salida del subproceso.</p>
<p>Se lanzará un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> si se llama a <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> con argumentos no válidos.</p>
<p><a class="reference internal" href="#subprocess.check_call" title="subprocess.check_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_call()</span></code></a> y <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> lanzarán un <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> si el proceso invocado retorna un código de retorno distinto de cero.</p>
<p>Todas las funciones y métodos que admiten un parámetro <em>timeout</em>, tales como <a class="reference internal" href="#subprocess.call" title="subprocess.call"><code class="xref py py-func docutils literal notranslate"><span class="pre">call()</span></code></a> y <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> lanzarán <a class="reference internal" href="#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a> si se vence el plazo de ejecución antes de que finalice el proceso hijo.</p>
<p>Todas las excepciones definidas en este módulo heredan de <a class="reference internal" href="#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.3: </span>Se añadió la clase base <a class="reference internal" href="#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>.</p>
</div>
</div></blockquote>
</section>
</section>
<section id="security-considerations">
<span id="subprocess-security"></span><h2>Consideraciones sobre seguridad<a class="headerlink" href="#security-considerations" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Al contrario que otras funciones popen, esta implementación nunca llamará implícitamente a la shell del sistema. Esto significa que todos los caracteres, incluidos los metacaracteres de la shell, se pueden pasar de manera segura a los procesos hijos. Si se invoca la shell explícitamente, mediante <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, es responsabilidad de la aplicación asegurar que todo el espaciado y metacaracteres se entrecomillan adecuadamente para evitar vulnerabilidades de <a class="reference external" href="https://es.wikipedia.org/wiki/Inyecci%C3%B3n_de_c%C3%B3digo">inyección de código</a>. En <a class="reference internal" href="shlex.html#shlex-quote-warning"><span class="std std-ref">algunas plataformas</span></a>, es posible usar <a class="reference internal" href="shlex.html#shlex.quote" title="shlex.quote"><code class="xref py py-func docutils literal notranslate"><span class="pre">shlex.quote()</span></code></a> para este escape.</p>
</section>
<section id="popen-objects">
<h2>Objetos Popen<a class="headerlink" href="#popen-objects" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las instancias de la clase <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> cuentan con los siguientes métodos:</p>
<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.poll">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">poll</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.poll" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Comprueba si el proceso hijo ha finalizado. Establece y retorna el atributo <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>. De lo contrario, retorna <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.wait">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.wait" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Espera a que termine el proceso hijo. Establece y retorna el atributo <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.</p>
<p>Si el proceso no finaliza tras <em>timeout</em> segundos, lanza una excepción <a class="reference internal" href="#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a>. Se puede capturar esta excepción para reintentar la espera.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Esto causará un bloqueo cuando se use <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> o <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> y el proceso hijo genere suficiente salida hacia un pipe como para bloquear esperando que el búfer del pipe del SO acepte más datos. Se debe usar <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> cuando se usen pipes para evitar esto.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Esta función se implementa mediante una espera activa (llamada no bloqueante y breves llamadas a <cite>sleep</cite>). Se debe usar el módulo  <a class="reference internal" href="asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> para hacer una espera asíncrona: ver <a class="reference internal" href="asyncio-subprocess.html#asyncio.create_subprocess_exec" title="asyncio.create_subprocess_exec"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.create_subprocess_exec</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se añadió <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.communicate">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">communicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.communicate" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Interactúa con el proceso: Envía datos a stdin. Lee datos de stdout y stderr hasta encontrar un fin-de-fichero. Espera a que termine el proceso y escribe el atributo <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>. El argumento opcional <em>input</em> debe contener los datos que hay que enviar al proceso hijo o <code class="docutils literal notranslate"><span class="pre">None</span></code> si no hay que enviar datos al proceso hijo. Si se abrieron los flujos en modo texto, <em>input</em> ha de ser una cadena de caracteres. En caso contrario, debe contener bytes.</p>
<p><a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a> retorna una tupla <code class="docutils literal notranslate"><span class="pre">(stdout_data,</span> <span class="pre">stderr_data)</span></code>. Los datos serán cadenas si se abrieron los flujos en modo texto, en caso contrario serán bytes.</p>
<p>Adviértase que si se desea enviar datos al stdin del proceso, se ha de crear el objeto Popen con <code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code>. Análogamente, para obtener algo diferente de <code class="docutils literal notranslate"><span class="pre">None</span></code> en la tupla del resultado, hay que suministrar <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> o <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> también.</p>
<p>Si el proceso no termina tras <em>timeout</em> segundos, se lanza una excepción <a class="reference internal" href="#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a>. Si se captura dicha excepción y se reintenta la comunicación, no se perderán datos de salida.</p>
<p>No se matará el proceso si vence el plazo de ejecución, así que para hacer limpieza, una aplicación correcta debería matar el proceso y terminar la comunicación:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">outs</span><span class="p">,</span> <span class="n">errs</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="k">except</span> <span class="n">TimeoutExpired</span><span class="p">:</span>
    <span class="n">proc</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">outs</span><span class="p">,</span> <span class="n">errs</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Los datos leídos pasan por un búfer en memoria, así que no se ha de usar este método para un tamaño de datos grande o ilimitado.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se añadió <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.send_signal">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">send_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.send_signal" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Envía la señal <em>signal</em> al proceso hijo.</p>
<p>No hace nada si el proceso ya ha terminado.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En Windows, SIGTERM es un alias de <a class="reference internal" href="#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">terminate()</span></code></a>. CTRL_C_EVENT y CTRL_BREAK_EVENT se pueden enviar a procesos iniciados con un parámetro <em>creationflags</em> que incluye <code class="docutils literal notranslate"><span class="pre">CREATE_NEW_PROCESS_GROUP</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.terminate">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.terminate" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Detiene el proceso hijo. En sistemas operativos POSIX este método envía SIGTERM al proceso hijo. En Windows se llama a la función <code class="xref c c-func docutils literal notranslate"><span class="pre">TerminateProcess()</span></code> de la API de Win32 para detener el proceso hijo.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="subprocess.Popen.kill">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">kill</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.Popen.kill" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Mata el proceso hijo. En sistemas operativos POSIX la función envía SIGKILL al proceso hijo. En Windows <a class="reference internal" href="#subprocess.Popen.kill" title="subprocess.Popen.kill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">kill()</span></code></a> es un alias de <a class="reference internal" href="#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">terminate()</span></code></a>.</p>
</dd></dl>

<p>The following attributes are also set by the class for you to access.
Reassigning them to new values is unsupported:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.args">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#subprocess.Popen.args" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El argumento <em>args</em> según se pasó a <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>: o una secuencia de argumentos del programa o una cadena sencilla.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.3.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.stdin">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">stdin</span></span><a class="headerlink" href="#subprocess.Popen.stdin" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>If the <em>stdin</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is a writeable
stream object as returned by <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. If the <em>encoding</em> or <em>errors</em>
arguments were specified or the <em>text</em> or <em>universal_newlines</em> argument
was <code class="docutils literal notranslate"><span class="pre">True</span></code>, the stream is a text stream, otherwise it is a byte stream.
If the <em>stdin</em> argument was not <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.stdout">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">stdout</span></span><a class="headerlink" href="#subprocess.Popen.stdout" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>If the <em>stdout</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is a readable
stream object as returned by <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Reading from the stream provides
output from the child process. If the <em>encoding</em> or <em>errors</em> arguments were
specified or the <em>text</em> or <em>universal_newlines</em> argument was <code class="docutils literal notranslate"><span class="pre">True</span></code>, the
stream is a text stream, otherwise it is a byte stream. If the <em>stdout</em>
argument was not <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.stderr">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">stderr</span></span><a class="headerlink" href="#subprocess.Popen.stderr" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>If the <em>stderr</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is a readable
stream object as returned by <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Reading from the stream provides
error output from the child process. If the <em>encoding</em> or <em>errors</em> arguments
were specified or the <em>text</em> or <em>universal_newlines</em> argument was <code class="docutils literal notranslate"><span class="pre">True</span></code>, the
stream is a text stream, otherwise it is a byte stream. If the <em>stderr</em> argument
was not <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, this attribute is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Se ha de usar <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a> en lugar de <a class="reference internal" href="#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stdin.write</span></code></a>, <a class="reference internal" href="#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stdout.read</span></code></a> o <a class="reference internal" href="#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stderr.read</span></code></a> para evitar bloqueos por búfer de pipes del SO llenos que puedan bloquear el proceso hijo.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.pid">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">pid</span></span><a class="headerlink" href="#subprocess.Popen.pid" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El ID de proceso del hijo.</p>
<p>Adviértase que si se establece el argumento <em>shell</em> a <code class="docutils literal notranslate"><span class="pre">True</span></code>, éste es el ID de proceso del la shell generada.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.Popen.returncode">
<span class="sig-prename descclassname"><span class="pre">Popen.</span></span><span class="sig-name descname"><span class="pre">returncode</span></span><a class="headerlink" href="#subprocess.Popen.returncode" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El código de retorno del hijo, establecido por <a class="reference internal" href="#subprocess.Popen.poll" title="subprocess.Popen.poll"><code class="xref py py-meth docutils literal notranslate"><span class="pre">poll()</span></code></a> y <a class="reference internal" href="#subprocess.Popen.wait" title="subprocess.Popen.wait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wait()</span></code></a> (e indirectamente por <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a>). Un valor <code class="docutils literal notranslate"><span class="pre">None</span></code> indica que el proceso no ha terminado aún.</p>
<p>Un valor negativo <code class="docutils literal notranslate"><span class="pre">-N</span></code> indica que el hijo fue forzado a terminar con la señal <code class="docutils literal notranslate"><span class="pre">N</span></code> (solamente POSIX).</p>
</dd></dl>

</section>
<section id="windows-popen-helpers">
<h2>Elementos auxiliares de Popen en Windows<a class="headerlink" href="#windows-popen-helpers" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La clase <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a> y las siguientes constantes sólo están disponibles en Windows.</p>
<dl class="py class">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STARTUPINFO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwFlags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hStdInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hStdOutput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hStdError</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wShowWindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpAttributeList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.STARTUPINFO" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Se utiliza un soporte parcial de la estructura <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms686331(v=vs.85).aspx">STARTUPINFO</a> de Windows para la creación de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>. Se pueden establecer los siguientes atributos pasándolos como argumentos sólo por clave.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.7: </span>Se añadió el soporte de argumentos sólo por clave.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.dwFlags">
<span class="sig-name descname"><span class="pre">dwFlags</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.dwFlags" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Un campo bit que determina si se usan ciertos atributos de <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a> cuando el proceso crea una ventana.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">si</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTUPINFO</span><span class="p">()</span>
<span class="n">si</span><span class="o">.</span><span class="n">dwFlags</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTF_USESTDHANDLES</span> <span class="o">|</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTF_USESHOWWINDOW</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.hStdInput">
<span class="sig-name descname"><span class="pre">hStdInput</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.hStdInput" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> especifica <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, este atributo es el gestor de entrada estándar del proceso. Si no se especifica <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, el valor predeterminado de entrada estándar es el búfer de teclado.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.hStdOutput">
<span class="sig-name descname"><span class="pre">hStdOutput</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.hStdOutput" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> especifica <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, este atributo es el gestor de salida estándar del proceso. En caso contrario, se hace caso omiso del atributo y el valor predeterminado de salida estándar es el búfer de ventana.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.hStdError">
<span class="sig-name descname"><span class="pre">hStdError</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.hStdError" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> especifica <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, este atributo es el gestor de error estándar del proceso. En caso contrario, se hace caso omiso del atributo y el valor predeterminado de error estándar es el búfer de ventana.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.wShowWindow">
<span class="sig-name descname"><span class="pre">wShowWindow</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.wShowWindow" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Si <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> especifica <a class="reference internal" href="#subprocess.STARTF_USESHOWWINDOW" title="subprocess.STARTF_USESHOWWINDOW"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESHOWWINDOW</span></code></a>, este atributo puede ser cualquiera de los valores que pueden especificarse en el parámetro <code class="docutils literal notranslate"><span class="pre">nCmdShow</span></code> para la función <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms633548(v=vs.85).aspx">ShowWindow</a>, salvo <code class="docutils literal notranslate"><span class="pre">SW_SHOWDEFAULT</span></code>. De otro modo, se hace caso omiso del atributo.</p>
<p>Se proporciona <a class="reference internal" href="#subprocess.SW_HIDE" title="subprocess.SW_HIDE"><code class="xref py py-data docutils literal notranslate"><span class="pre">SW_HIDE</span></code></a> para este atributo. Se usa cuando se llama a <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> con <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="subprocess.STARTUPINFO.lpAttributeList">
<span class="sig-name descname"><span class="pre">lpAttributeList</span></span><a class="headerlink" href="#subprocess.STARTUPINFO.lpAttributeList" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Un diccionario de atributos adicionales para la creación del proceso, según <code class="docutils literal notranslate"><span class="pre">STARTUPINFOEX</span></code>, véase <a class="reference external" href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms686880(v=vs.85).aspx">UpdateProcThreadAttribute</a>.</p>
<p>Atributos admitidos:</p>
<dl>
<dt><strong>handle_list</strong></dt><dd><p>Una secuencia de gestores que se heredará. <em>close_fds</em> debe ser verdadero si no viene vacío.</p>
<p>Los gestores deben hacerse temporalmente heredables por <a class="reference internal" href="os.html#os.set_handle_inheritable" title="os.set_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_handle_inheritable()</span></code></a> cuando se pasan al constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> o de lo contrario, se lanzará <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-class docutils literal notranslate"><span class="pre">OSError</span></code></a> con el error de Windows <code class="docutils literal notranslate"><span class="pre">ERROR_INVALID_PARAMETER</span></code> (87).</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>En un proceso multihilo, hay que evitar filtrar gestores no heredables cuando se combina esta característica con llamadas concurrentes a otras funciones de creación de procesos que heredan todos los gestores, como <a class="reference internal" href="os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a>. Esto también rige para la redirección de gestores estándar, que crea temporalmente gestores heredables.</p>
</div>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

</dd></dl>

<section id="windows-constants">
<h3>Constantes de Windows<a class="headerlink" href="#windows-constants" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> expone las siguientes constantes.</p>
<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STD_INPUT_HANDLE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STD_INPUT_HANDLE</span></span><a class="headerlink" href="#subprocess.STD_INPUT_HANDLE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El dispositivo de entrada estándar. Inicialmente, es el búfer de entrada de la consola, <code class="docutils literal notranslate"><span class="pre">CONIN$</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STD_OUTPUT_HANDLE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STD_OUTPUT_HANDLE</span></span><a class="headerlink" href="#subprocess.STD_OUTPUT_HANDLE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El dispositivo de salida estándar. Inicialmente, es el búfer de pantalla de la consola activa, <code class="docutils literal notranslate"><span class="pre">CONOUT$</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STD_ERROR_HANDLE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STD_ERROR_HANDLE</span></span><a class="headerlink" href="#subprocess.STD_ERROR_HANDLE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El dispositivo de error estándar. Inicialmente, es el búfer de pantalla de la consola activa, <code class="docutils literal notranslate"><span class="pre">CONOUT$</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.SW_HIDE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">SW_HIDE</span></span><a class="headerlink" href="#subprocess.SW_HIDE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Oculta la ventana. Se activará otra ventana.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STARTF_USESTDHANDLES">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STARTF_USESTDHANDLES</span></span><a class="headerlink" href="#subprocess.STARTF_USESTDHANDLES" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Especifica que los atributos <a class="reference internal" href="#subprocess.STARTUPINFO.hStdInput" title="subprocess.STARTUPINFO.hStdInput"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdInput</span></code></a>, <a class="reference internal" href="#subprocess.STARTUPINFO.hStdOutput" title="subprocess.STARTUPINFO.hStdOutput"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdOutput</span></code></a>, y <a class="reference internal" href="#subprocess.STARTUPINFO.hStdError" title="subprocess.STARTUPINFO.hStdError"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdError</span></code></a> contienen información adicional.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.STARTF_USESHOWWINDOW">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">STARTF_USESHOWWINDOW</span></span><a class="headerlink" href="#subprocess.STARTF_USESHOWWINDOW" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Especifica que el atributo <a class="reference internal" href="#subprocess.STARTUPINFO.wShowWindow" title="subprocess.STARTUPINFO.wShowWindow"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.wShowWindow</span></code></a> contiene información adicional.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.CREATE_NEW_CONSOLE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CREATE_NEW_CONSOLE</span></span><a class="headerlink" href="#subprocess.CREATE_NEW_CONSOLE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>El nuevo proceso obtiene una nueva consola, en lugar de heredar la consola del padre (que es el comportamiento predeterminado).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.CREATE_NEW_PROCESS_GROUP">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CREATE_NEW_PROCESS_GROUP</span></span><a class="headerlink" href="#subprocess.CREATE_NEW_PROCESS_GROUP" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Un parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que se cree un nuevo grupo de procesos. Este indicador es necesario para usar <a class="reference internal" href="os.html#os.kill" title="os.kill"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.kill()</span></code></a> sobre el subproceso.</p>
<p>Este indicador no se tiene en cuenta si se especifica <a class="reference internal" href="#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_CONSOLE</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.ABOVE_NORMAL_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">ABOVE_NORMAL_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.ABOVE_NORMAL_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una prioridad superior a la media.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.BELOW_NORMAL_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">BELOW_NORMAL_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.BELOW_NORMAL_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una prioridad inferior a la media.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.HIGH_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">HIGH_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.HIGH_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una prioridad elevada.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.IDLE_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">IDLE_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.IDLE_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una la mínima prioridad.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.NORMAL_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">NORMAL_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.NORMAL_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una prioridad normal (éste es el valor predeterminado).</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.REALTIME_PRIORITY_CLASS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">REALTIME_PRIORITY_CLASS</span></span><a class="headerlink" href="#subprocess.REALTIME_PRIORITY_CLASS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso tendrá una prioridad de tiempo real. Raramente se debería usar REALTIME_PRIORITY_CLASS, porque esto interrumpe los hilos que gestionan la entrada del ratón y del teclado, así como la gestión del volcado de búfer del disco. Esta clase es apropiada para aplicaciones que se comunican directamente con el hardware o que llevan a cabo tareas breves que no admitan interrupciones.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.CREATE_NO_WINDOW">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CREATE_NO_WINDOW</span></span><a class="headerlink" href="#subprocess.CREATE_NO_WINDOW" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso no creará una ventana.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.DETACHED_PROCESS">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">DETACHED_PROCESS</span></span><a class="headerlink" href="#subprocess.DETACHED_PROCESS" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso no heredará la consola del padre. Este valor es incompatible con CREATE_NEW_CONSOLE.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.CREATE_DEFAULT_ERROR_MODE">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CREATE_DEFAULT_ERROR_MODE</span></span><a class="headerlink" href="#subprocess.CREATE_DEFAULT_ERROR_MODE" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso no hereda el modo de error del proceso padre. En su lugar, el proceso parte del modo de error predeterminado. Esta característica es particularmente útil para aplicaciones de shell multihilo que se ejecutan con los errores “duros” desactivados.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subprocess.CREATE_BREAKAWAY_FROM_JOB">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">CREATE_BREAKAWAY_FROM_JOB</span></span><a class="headerlink" href="#subprocess.CREATE_BREAKAWAY_FROM_JOB" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Parámetro <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> para especificar que el nuevo proceso no está asociado a la tarea.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7.</span></p>
</div>
</dd></dl>

</section>
</section>
<section id="older-high-level-api">
<span id="call-function-trio"></span><h2>Antigua API de alto nivel<a class="headerlink" href="#older-high-level-api" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Antes de Python 3.5, estas tres funciones conformaban la API de alto nivel para subprocesos. Ahora se puede usar <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> en muchos casos, pero hay mucho código escrito con estas funciones.</p>
<dl class="py function">
<dt class="sig sig-object py" id="subprocess.call">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_popen_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.call" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecutar la orden descrita por <em>args</em>. Esperar que la orden se complete y retornar al atributo <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.</p>
<p>El código que requiera capturar stdout o stderr debería usar <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> en su lugar:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">returncode</span>
</pre></div>
</div>
<p>Para suprimir stdout o stderr se ha de proporcionar un valor de <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>.</p>
<p>Se muestran algunos argumentos comunes. La signatura completa de la función es la misma que la del constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>; esta función pasa todos los argumentos proporcionados (salvo <em>timeout</em>) directamente a esa interfaz.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>No usar <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> ni <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> con esta función. El proceso hijo se bloqueará si genera suficiente salida a un pipe como para saturar el búfer del pipe del sistema operativo mientras no se lee de los pipes.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se añadió <em>timeout</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11.3: </span>Changed Windows shell search order for <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>. The current
directory and <code class="docutils literal notranslate"><span class="pre">%PATH%</span></code> are replaced with <code class="docutils literal notranslate"><span class="pre">%COMSPEC%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%SystemRoot%\System32\cmd.exe</span></code>. As a result, dropping a
malicious program named <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> into a current directory no
longer works.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subprocess.check_call">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">check_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_popen_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.check_call" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecuta la instrucción con argumentos. Espera a que la instrucción se complete. Si el código de retorno es cero retorna; en caso contrario, lanza <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>. El objeto <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> tendrá el código de retorno en el atributo <a class="reference internal" href="#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.Si <a class="reference internal" href="#subprocess.check_call" title="subprocess.check_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_call()</span></code></a> no pudo iniciar el proceso, propagará la excepción que fue lanzada.</p>
<p>El código que requiera capturar stdout o stderr debería usar <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> en su lugar:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Para suprimir stdout o stderr se ha de proporcionar un valor de <a class="reference internal" href="#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>.</p>
<p>Se muestran algunos argumentos comunes. La signatura completa de la función es la misma que la del constructor de <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>; esta función pasa todos los argumentos proporcionados (salvo <em>timeout</em>) directamente a esa interfaz.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>No usar <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> ni <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> con esta función. El proceso hijo se bloqueará si genera suficiente salida a un pipe como para saturar el búfer del pipe del sistema operativo mientras no se lee de los pipes.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se añadió <em>timeout</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11.3: </span>Changed Windows shell search order for <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>. The current
directory and <code class="docutils literal notranslate"><span class="pre">%PATH%</span></code> are replaced with <code class="docutils literal notranslate"><span class="pre">%COMSPEC%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%SystemRoot%\System32\cmd.exe</span></code>. As a result, dropping a
malicious program named <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> into a current directory no
longer works.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subprocess.check_output">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">check_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universal_newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_popen_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.check_output" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecuta orden con argumentos y retorna su salida.</p>
<p>Si el código de retorno fue diferente de cero lanza un <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>. El objeto <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> tendrá el código de retorno en el atributo <a class="reference internal" href="#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a> y los datos de salida en el atributo <a class="reference internal" href="#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code></a>.</p>
<p>Esto equivale a:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span><span class="o">.</span><span class="n">stdout</span>
</pre></div>
</div>
<p>Los argumentos mostrados arriba son meramente algunos de los comunes. La signatura completa de la función es casi la misma que la de <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> - la mayoría de los argumentos se pasa directamente a esa interfaz. Existe una diferencia con la interfaz de <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> respecto al comportamiento: pasar <code class="docutils literal notranslate"><span class="pre">input=None</span></code> genera el mismo comportamiento que <code class="docutils literal notranslate"><span class="pre">input=b''</span></code> (o <code class="docutils literal notranslate"><span class="pre">input=''</span></code>, dependiendo de otros argumentos) en vez de usar el flujo entrada estándar del padre.</p>
<p>Por omisión, esta función retornará los datos como bytes codificados. La codificación real de los datos podría depender de la orden invocada, por lo que la decodificación a texto se deberá hacer al nivel de la aplicación.</p>
<p>Este comportamiento se puede modificar estableciendo <em>text</em>, <em>encoding</em>, <em>errors</em>, o <em>universal_newlines</em> a <code class="docutils literal notranslate"><span class="pre">True</span></code>, como se describe en <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Argumentos frecuentemente empleados</span></a> y <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>.</p>
<p>Para capturar también el error estándar del resultado se debe usar <code class="docutils literal notranslate"><span class="pre">stderr=subprocess.STDOUT</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;ls non_existent_file; exit 0&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;ls: non_existent_file: No such file or directory\n&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se añadió <em>timeout</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>Se añadió soporte para el argumento por clave <em>input</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.6: </span>Se añadieron <em>encoding</em> y <em>errors</em>.  Ver <a class="reference internal" href="#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> para más detalles.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.7: </span>Se añadió <em>text</em> como alias más legible de <em>universal_newlines</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.11.3: </span>Changed Windows shell search order for <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>. The current
directory and <code class="docutils literal notranslate"><span class="pre">%PATH%</span></code> are replaced with <code class="docutils literal notranslate"><span class="pre">%COMSPEC%</span></code> and
<code class="docutils literal notranslate"><span class="pre">%SystemRoot%\System32\cmd.exe</span></code>. As a result, dropping a
malicious program named <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> into a current directory no
longer works.</p>
</div>
</dd></dl>

</section>
<section id="replacing-older-functions-with-the-subprocess-module">
<span id="subprocess-replacements"></span><h2>Cómo reemplazar anteriores funciones con el módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><a class="headerlink" href="#replacing-older-functions-with-the-subprocess-module" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta sección, «a se convierte en b» significa que b se puede usar en lugar de.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Todas las funciones «a» de esta sección fracasan silenciosamente (o casi) si no se halla el programa ejecutado; las funciones de reemplazo «b» lanzan <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> en lugar de esto.</p>
<p>Además, las funciones de reemplazo que usan <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> fracasarán con un error <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> si la operación solicitada produce un código de retorno diferente de cero. La salida queda disponible en el atributo <a class="reference internal" href="#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code></a> de la excepción lanzada.</p>
</div>
<p>En los siguientes ejemplos, se asume que las funciones relevantes ya han sido importadas del módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a>.</p>
<section id="replacing-bin-sh-shell-command-substitution">
<h3>Cómo reemplazar la sustitución de órdenes de <strong class="program">/bin/sh</strong><a class="headerlink" href="#replacing-bin-sh-shell-command-substitution" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="k">$(</span>mycmd myarg<span class="k">)</span>
</pre></div>
</div>
<p>se convierte en:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">check_output</span><span class="p">([</span><span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="replacing-shell-pipeline">
<h3>Cómo remplazar los flujos de la shell<a class="headerlink" href="#replacing-shell-pipeline" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="k">$(</span>dmesg <span class="p">|</span> grep hda<span class="k">)</span>
</pre></div>
</div>
<p>se convierte en:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;dmesg&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;grep&quot;</span><span class="p">,</span> <span class="s2">&quot;hda&quot;</span><span class="p">],</span> <span class="n">stdin</span><span class="o">=</span><span class="n">p1</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="n">p1</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Allow p1 to receive a SIGPIPE if p2 exits.</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>La llamada a <code class="docutils literal notranslate"><span class="pre">p1.stdout.close()</span></code> tras lanzar <em>p2</em> es importante para que <em>p1</em> reciba un SIGPIPE si <em>p2</em> retorna antes que <em>p1</em>.</p>
<p>Alternativamente, para entrada de confianza, se puede usar el propio soporte de pipeline de la shell directamente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="k">$(</span>dmesg <span class="p">|</span> grep hda<span class="k">)</span>
</pre></div>
</div>
<p>se convierte en:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">check_output</span><span class="p">(</span><span class="s2">&quot;dmesg | grep hda&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="replacing-os-system">
<h3>Cómo reemplazar <a class="reference internal" href="os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a><a class="headerlink" href="#replacing-os-system" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">)</span>
<span class="c1"># becomes</span>
<span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Notas:</p>
<ul class="simple">
<li><p>No suele hacer falta llamar al programa a través de la shell.</p></li>
<li><p>El valor de retorno de <a class="reference internal" href="#subprocess.call" title="subprocess.call"><code class="xref py py-func docutils literal notranslate"><span class="pre">call()</span></code></a> se codifica de forma diferente al de <a class="reference internal" href="os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a>.</p></li>
<li><p>La función <a class="reference internal" href="os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a> ignora las señales SIGINT y SIGQUIT mientras se ejecuta el comando, pero el llamador debe hacerlo por separado cuando usa el módulo <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a>.</p></li>
</ul>
<p>Un ejemplo más creíble:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">retcode</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Child was terminated by signal&quot;</span><span class="p">,</span> <span class="o">-</span><span class="n">retcode</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Child returned&quot;</span><span class="p">,</span> <span class="n">retcode</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Execution failed:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="replacing-the-os-spawn-family">
<h3>Cómo reemplazar la familia <a class="reference internal" href="os.html#os.spawnl" title="os.spawnl"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.spawn</span></code></a><a class="headerlink" href="#replacing-the-os-spawn-family" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Ejemplo de P_NOWAIT:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">pid</span>
</pre></div>
</div>
<p>Ejemplo de P_WAIT:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">retcode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_WAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Ejemplo de vector:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnvp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="n">path</span><span class="p">]</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Ejemplo de entorno:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnlpe</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;PATH&quot;</span><span class="p">:</span> <span class="s2">&quot;/usr/bin&quot;</span><span class="p">})</span>
</pre></div>
</div>
</section>
<section id="replacing-os-popen-os-popen2-os-popen3">
<h3>Cómo reemplazar <a class="reference internal" href="os.html#os.popen" title="os.popen"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen2()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen3()</span></code><a class="headerlink" href="#replacing-os-popen-os-popen2-os-popen3" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen3</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen4</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<p>La gestión del código de retorno se traduce así:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">rc</span> <span class="o">=</span> <span class="n">pipe</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">if</span> <span class="n">rc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rc</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There were some errors&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">process</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There were some errors&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="replacing-functions-from-the-popen2-module">
<h3>Cómo reemplazar las funciones del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">popen2</span></code><a class="headerlink" href="#replacing-functions-from-the-popen2-module" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si el argumento <em>cmd</em> de las funciones popen2 es una cadena, la orden se ejecuta a través de <cite>/bin/sh</cite>. Si es una lista, la orden se ejecuta directamente.</p>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="s2">&quot;somestring&quot;</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="s2">&quot;somestring&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">([</span><span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">popen2.Popen3</span></code> y <code class="xref py py-class docutils literal notranslate"><span class="pre">popen2.Popen4</span></code> funcionan a grandes rasgos como <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a>, salvo:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> lanza una excepción si falla la ejecución.</p></li>
<li><p>El argumento <em>capturestderr</em> se sustituye por el argumento <em>stderr</em>.</p></li>
<li><p>Se ha de especificar <code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code> y <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code>.</p></li>
<li><p>popen2 cierra todos los descriptores de fichero por omisión, pero se ha de especificar <code class="docutils literal notranslate"><span class="pre">close_fds=True</span></code> con <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> para garantizar este comportamiento en todas las plataformas o en versiones anteriores de Python.</p></li>
</ul>
</section>
</section>
<section id="legacy-shell-invocation-functions">
<h2>Funciones de llamada a la shell de retrocompatibilidad<a class="headerlink" href="#legacy-shell-invocation-functions" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este módulo también proporciona las siguientes funciones de compatibilidad del módulo <code class="docutils literal notranslate"><span class="pre">commands</span></code> de las versiones 2.X. Estas operaciones invocan implícitamente a la shell del sistema y no se les aplican ninguna de las garantías descritas anteriormente respecto a seguridad o consistencia en la gestión de excepciones.</p>
<dl class="py function">
<dt class="sig sig-object py" id="subprocess.getstatusoutput">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">getstatusoutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.getstatusoutput" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna <code class="docutils literal notranslate"><span class="pre">(exitcode,</span> <span class="pre">output)</span></code> de ejecutar <em>cmd</em> en una shell.</p>
<p>Ejecuta la cadena <em>cmd</em> en un shell con <code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.check_output()</span></code> y retorna una tupla <code class="docutils literal notranslate"><span class="pre">(exitcode,</span> <span class="pre">output)</span></code> de 2. <em>encoding</em> y <em>errors</em> se utilizan para decodificar la salida; consulte las notas sobre <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Argumentos frecuentemente empleados</span></a> para obtener más detalles.</p>
<p>Se elimina un salto de línea final de la salida. El código de salida de la orden se puede interpretar como el código de retorno del subproceso. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">&#39;ls /bin/ls&#39;</span><span class="p">)</span>
<span class="go">(0, &#39;/bin/ls&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">&#39;cat /bin/junk&#39;</span><span class="p">)</span>
<span class="go">(1, &#39;cat: /bin/junk: No such file or directory&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">&#39;/bin/junk&#39;</span><span class="p">)</span>
<span class="go">(127, &#39;sh: /bin/junk: not found&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">&#39;/bin/kill $$&#39;</span><span class="p">)</span>
<span class="go">(-15, &#39;&#39;)</span>
</pre></div>
</div>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3.4: </span>Se añadió soporte de Windows.</p>
<p>La función ahora retorna <code class="docutils literal notranslate"><span class="pre">(exitcode,</span> <span class="pre">output)</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">(status,</span> <span class="pre">output)</span></code> como en Python 3.3.3 y anteriores.  <em>exitcode</em> tiene el mismo valor que <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.11: </span>Se agregaron argumentos <em>encoding</em> y <em>errors</em>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subprocess.getoutput">
<span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">getoutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subprocess.getoutput" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Retorna la salida (stdout y stderr) de ejecutar <em>cmd</em> en una shell.</p>
<p>Como <a class="reference internal" href="#subprocess.getstatusoutput" title="subprocess.getstatusoutput"><code class="xref py py-func docutils literal notranslate"><span class="pre">getstatusoutput()</span></code></a>, salvo que se ignora el código de salida y el valor retornado es una cadena que contiene la salida del comando. Por ejemplo:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getoutput</span><span class="p">(</span><span class="s1">&#39;ls /bin/ls&#39;</span><span class="p">)</span>
<span class="go">&#39;/bin/ls&#39;</span>
</pre></div>
</div>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3.4: </span>Se añadió soporte de Windows</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.11: </span>Se agregaron argumentos <em>encoding</em> y <em>errors</em>.</p>
</div>
</dd></dl>

</section>
<section id="notes">
<h2>Notas<a class="headerlink" href="#notes" title="Enlazar permanentemente con este título">¶</a></h2>
<section id="converting-an-argument-sequence-to-a-string-on-windows">
<span id="converting-argument-sequence"></span><h3>Cómo convertir una secuencia de argumentos a una cadena en Windows<a class="headerlink" href="#converting-an-argument-sequence-to-a-string-on-windows" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En Windows, para convertir una secuencia <em>args</em> en una cadena que puede ser analizada con las siguientes reglas (correspondientes a las reglas que usa la biblioteca de ejecución de MS C):</p>
<ol class="arabic simple">
<li><p>Los argumentos se separan por espacio en blanco, que debe ser un espacio o un tabulador.</p></li>
<li><p>Una cadena entre comillas dobles se interpreta como un argumento simple, sin importar los espacios en blanco que contenga. Se puede incrustar una cadena entre comillas en un argumento.</p></li>
<li><p>Una comilla doble precedida de una barra invertida se interpreta literalmente como una comilla doble.</p></li>
<li><p>Las barras invertidas se interpretan literalmente, salvo que precedan a una comilla doble.</p></li>
<li><p>Si las barras invertidas preceden inmediatamente a una doble comilla, cada par de barras invertidas se interpreta como una barra invertida literal. Si el número de barras invertidas es impar, la última barra invertida escapa la siguiente comilla doble según se describe en la regla 3.</p></li>
</ol>
<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt><a class="reference internal" href="shlex.html#module-shlex" title="shlex: Simple lexical analysis for Unix shell-like languages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shlex</span></code></a></dt><dd><p>Módulo que proporciona una función para analizar y escapar líneas de órdenes.</p>
</dd>
</dl>
</div>
</section>
<section id="disabling-use-of-vfork-or-posix-spawn">
<span id="disable-posix-spawn"></span><span id="disable-vfork"></span><h3>Deshabilitar el uso de <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> o <code class="docutils literal notranslate"><span class="pre">posix_spawn()</span></code><a class="headerlink" href="#disabling-use-of-vfork-or-posix-spawn" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En Linux, <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> usa de forma predeterminada la llamada al sistema <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> internamente cuando es seguro hacerlo en lugar de <code class="docutils literal notranslate"><span class="pre">fork()</span></code>. Esto mejora mucho el rendimiento.</p>
<p>Si alguna vez se encuentra con una situación muy inusual en la que necesita evitar que Python use <code class="docutils literal notranslate"><span class="pre">vfork()</span></code>, puede establecer el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">subprocess._USE_VFORK</span></code> en un valor falso.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">subprocess</span><span class="o">.</span><span class="n">_USE_VFORK</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># See CPython issue gh-NNNNNN.</span>
</pre></div>
</div>
<p>Configurar esto no tiene impacto en el uso de <code class="docutils literal notranslate"><span class="pre">posix_spawn()</span></code> que podría usar <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> internamente dentro de su implementación libc. Hay un atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">subprocess._USE_POSIX_SPAWN</span></code> similar si necesita evitar su uso.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">subprocess</span><span class="o">.</span><span class="n">_USE_POSIX_SPAWN</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># See CPython issue gh-NNNNNN.</span>
</pre></div>
</div>
<p>It is safe to set these to false on any Python version. They will have no
effect on older versions when unsupported. Do not assume the attributes are
available to read. Despite their names, a true value does not indicate that the
corresponding function will be used, only that it may be.</p>
<p>Presente los problemas cada vez que tenga que usar estas perillas privadas con una forma de reproducir el problema que estaba viendo. Enlace a ese problema desde un comentario en su código.</p>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.8: </span><code class="docutils literal notranslate"><span class="pre">_USE_POSIX_SPAWN</span></code></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 3.11: </span><code class="docutils literal notranslate"><span class="pre">_USE_VFORK</span></code></p>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code> — Gestión de subprocesos</a><ul>
<li><a class="reference internal" href="#using-the-subprocess-module">Uso del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="#frequently-used-arguments">Argumentos frecuentemente empleados</a></li>
<li><a class="reference internal" href="#popen-constructor">El constructor de Popen</a></li>
<li><a class="reference internal" href="#exceptions">Excepciones</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-considerations">Consideraciones sobre seguridad</a></li>
<li><a class="reference internal" href="#popen-objects">Objetos Popen</a></li>
<li><a class="reference internal" href="#windows-popen-helpers">Elementos auxiliares de Popen en Windows</a><ul>
<li><a class="reference internal" href="#windows-constants">Constantes de Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#older-high-level-api">Antigua API de alto nivel</a></li>
<li><a class="reference internal" href="#replacing-older-functions-with-the-subprocess-module">Cómo reemplazar anteriores funciones con el módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="#replacing-bin-sh-shell-command-substitution">Cómo reemplazar la sustitución de órdenes de <strong class="program">/bin/sh</strong></a></li>
<li><a class="reference internal" href="#replacing-shell-pipeline">Cómo remplazar los flujos de la shell</a></li>
<li><a class="reference internal" href="#replacing-os-system">Cómo reemplazar <code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a></li>
<li><a class="reference internal" href="#replacing-the-os-spawn-family">Cómo reemplazar la familia <code class="xref py py-func docutils literal notranslate"><span class="pre">os.spawn</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-popen-os-popen2-os-popen3">Cómo reemplazar <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen2()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen3()</span></code></a></li>
<li><a class="reference internal" href="#replacing-functions-from-the-popen2-module">Cómo reemplazar las funciones del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">popen2</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#legacy-shell-invocation-functions">Funciones de llamada a la shell de retrocompatibilidad</a></li>
<li><a class="reference internal" href="#notes">Notas</a><ul>
<li><a class="reference internal" href="#converting-an-argument-sequence-to-a-string-on-windows">Cómo convertir una secuencia de argumentos a una cadena en Windows</a></li>
<li><a class="reference internal" href="#disabling-use-of-vfork-or-posix-spawn">Deshabilitar el uso de <code class="docutils literal notranslate"><span class="pre">vfork()</span></code> o <code class="docutils literal notranslate"><span class="pre">posix_spawn()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="concurrent.futures.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">concurrent.futures</span></code> — Lanzamiento de tareas paralelas</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="sched.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sched</span></code> — Eventos del planificador</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Reporta un bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/subprocess.rst"
            rel="nofollow">Ver fuente
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="sched.html" title="sched — Eventos del planificador"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="concurrent.futures.html" title="concurrent.futures — Lanzamiento de tareas paralelas"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.2 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="concurrency.html" >Ejecución concurrente</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code> — Gestión de subprocesos</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="text" name="q" />
          <input type="submit" value="Ir" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2001-2023, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    La Python Software Foundation es una organización sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor, haga una donación.</a>
<br />
    <br />

    Última actualización el mar 23, 2023.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

  </body>
</html>